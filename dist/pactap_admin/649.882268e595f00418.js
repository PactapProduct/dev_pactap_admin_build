"use strict";(self.webpackChunkpactap_admin=self.webpackChunkpactap_admin||[]).push([[649],{74649:(Xr,P,p)=>{p.r(P),p.d(P,{QuotesModule:()=>zr});var m=p(96814),f=p(6627),q=p(16676),J=p(78645),Y=p(83620),L=p(93997),t=p(99468),D=p(69862),h=p(20553);let Z=(()=>{class o{constructor(e){this.http=e}getQuoteList(e,n,i,s,l,c,w){return this.http.post(`${h.N.apiUrl}quote/list?quoteStatus=${e}&searchKey=${n}&startDate=${i}&endDate=${s}&productId=${l}&page=${c}&contentPerPage=${w}`,{})}getQuoteDetails(e){return this.http.get(`${h.N.apiUrl}quote/details/${e}`)}getProductList(){return this.http.get(`${h.N.apiUrl}product/list?status=ACTIVE`)}getFactoryList(e){return this.http.get(`${h.N.apiUrl}factory/list/${e}`)}getWarehouseList(e){return this.http.get(`${h.N.apiUrl}warehouse/list/${e}`)}exportDetails(e,n,i,s,l,c){const w=new D.WM({"Content-Type":"application/octet-stream"});return this.http.post(`${h.N.apiUrl}quote/list?quoteStatus=${n}&searchKey=${i}&startDate=${s}&endDate=${l}&productId=${c}&isExcelDownload=true`,e,{headers:w,responseType:"blob"})}getAppConfigByKey(e){return this.http.get(`${h.N.apiUrl}configuration/details/key/${e}`)}updateTolerance(e){return this.http.post(`${h.N.apiUrl}quote/tolerance`,e)}updateQuotation(e){return this.http.post(`${h.N.apiUrl}quote/quotation`,e)}updatePPS(e){return this.http.post(`${h.N.apiUrl}quote/pps`,e)}updateOneTimeCost(e){return this.http.post(`${h.N.apiUrl}quote/one-time-cost`,e)}updatePackaging(e){return this.http.post(`${h.N.apiUrl}quote/packaging`,e)}static#t=this.\u0275fac=function(n){return new(n||o)(t.LFG(D.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var O=p(45824),v=p(29917),a=p(56223),I=p(64686);function G(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",33)(1,"div",34)(2,"input",35),t.NdJ("ngModelChange",function(i){const l=t.CHM(e).$implicit;return t.KtG(l.show=i)})("change",function(i){const l=t.CHM(e).index,c=t.oxw();return t.KtG(c.hideShowCol(i,l))}),t.qZA(),t.TgZ(3,"label",36),t._uU(4),t.qZA()()()}if(2&o){const e=r.$implicit,n=r.index;t.xp6(2),t.MGl("id","col",n,""),t.Q6J("ngModel",e.show),t.xp6(1),t.MGl("for","col",n,""),t.xp6(1),t.hij(" ",e.column," ")}}function V(o,r){if(1&o&&(t.TgZ(0,"option",62),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e._id),t.xp6(1),t.hij(" ",e.productName," ")}}const T=function(o){return{colHide:o}};function W(o,r){if(1&o&&(t.TgZ(0,"th",66),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=r.index,i=t.oxw(3);t.Tol("col"+n),t.Q6J("ngClass",t.VKq(4,T,!i.columns[n].show)),t.xp6(1),t.Oqu(e.column)}}const U=function(o){return["/quotes/re-quote",o]};function M(o,r){if(1&o&&(t.TgZ(0,"a",80),t._uU(1,"Re Quote"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,U,null==e?null:e._id))}}function E(o,r){if(1&o&&(t.TgZ(0,"a",80),t._uU(1,"Re Quote"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,U,null==e?null:e._id))}}const N=function(o){return["/quotes/detail",o]};function j(o,r){if(1&o&&(t.TgZ(0,"a",81),t._uU(1,"View"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,N,null==e?null:e._id))}}const R=function(o){return[o]},k=function(o){return["/vendors/detail",o]},K=function(o,r,e){return["/customers/product-details",o,r,e]};function B(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td",67),t._uU(2),t.qZA(),t.TgZ(3,"td",68)(4,"a",69),t._uU(5),t.qZA(),t._UZ(6,"br"),t._uU(7),t.qZA(),t.TgZ(8,"td",70)(9,"a",69),t._uU(10),t.qZA(),t._UZ(11,"br"),t._uU(12),t.qZA(),t.TgZ(13,"td",71)(14,"a",69),t._uU(15),t.qZA(),t._UZ(16,"br"),t._uU(17),t._UZ(18,"br"),t._uU(19),t.qZA(),t.TgZ(20,"td",72),t._uU(21),t.ALo(22,"date"),t._UZ(23,"br"),t.TgZ(24,"a",73),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.showTimeLine(s))}),t._uU(25," View More "),t.qZA()(),t.TgZ(26,"td",74),t._uU(27),t.qZA(),t.TgZ(28,"td",75),t._uU(29),t.qZA(),t.TgZ(30,"td",76)(31,"a",77),t._uU(32),t.qZA()(),t.TgZ(33,"td"),t.YNc(34,M,2,3,"a",78),t.YNc(35,E,2,3,"a",78),t.YNc(36,j,2,3,"a",79),t.qZA()()}if(2&o){const e=r.$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(35,T,!n.columns[0].show)),t.xp6(1),t.Oqu(e.quoteId),t.xp6(1),t.Q6J("ngClass",t.VKq(37,T,!n.columns[1].show)),t.xp6(1),t.Q6J("routerLink",t.VKq(39,R,"/customers/"+e.customerId+"/edit-profile")),t.xp6(1),t.hij(" ID: ",e.customerLogin.customerId," "),t.xp6(2),t.hij(" ",e.customer.companyName," "),t.xp6(1),t.Q6J("ngClass",t.VKq(41,T,!n.columns[2].show)),t.xp6(1),t.Q6J("routerLink",t.VKq(43,k,e.vendorId)),t.xp6(1),t.hij(" ID: ",e.vendor.vendorId,""),t.xp6(2),t.AsE("",e.vendor.firstName," ",e.vendor.lastName," "),t.xp6(1),t.Q6J("ngClass",t.VKq(45,T,!n.columns[3].show)),t.xp6(1),t.Q6J("routerLink",t.kEZ(47,K,null==e?null:e.customerId,null==e||null==e.customerLogin?null:e.customerLogin.customerId,(null==e||null==e.customer?null:e.customer.firstName)+" "+(null==e||null==e.customer?null:e.customer.lastName))),t.xp6(1),t.hij(" ID: ",e.customerProduct.customerProductId,""),t.xp6(2),t.hij("Title: ",e.customerProduct.productTitle?e.customerProduct.productTitle:e.product.productName," "),t.xp6(2),t.hij("Category: ",null==e||null==e.category?null:e.category.categoryName," "),t.xp6(1),t.Q6J("ngClass",t.VKq(51,T,!n.columns[4].show)),t.xp6(1),t.hij("Quoted On: ",t.xi3(22,32,null==e?null:e.createdAt,"dd/MM/yyyy")," "),t.xp6(5),t.Q6J("ngClass",t.VKq(53,T,!n.columns[5].show)),t.xp6(1),t.AsE("",e.minMaxQuant.min," to ",e.minMaxQuant.max,""),t.xp6(1),t.Q6J("ngClass",t.VKq(55,T,!n.columns[6].show)),t.xp6(1),t.HOy("",e.currency," ",e.minMaxPrice.min.toFixed(2)," to ",e.currency," ",e.minMaxPrice.max.toFixed(2),""),t.xp6(1),t.Q6J("ngClass",t.VKq(57,T,!n.columns[7].show)),t.xp6(1),t.Q6J("ngClass","QUOTED"===e.quoteStatus?"btn-success":"ARCHIEVE"===e.quoteStatus?"btn-light":"EXPIRED"===e.quoteStatus?"btn-danger":"btn-success"),t.xp6(1),t.hij("",e.quoteStatus||"--"," "),t.xp6(2),t.Q6J("ngIf","EXPIRED"===(null==e?null:e.quoteStatus)),t.xp6(1),t.Q6J("ngIf","QUOTED"===(null==e?null:e.quoteStatus)&&n.today>(null==e?null:e.validUpto)),t.xp6(1),t.Q6J("ngIf","QUOTED"===(null==e?null:e.quoteStatus)&&n.today<(null==e?null:e.validUpto))}}function H(o,r){if(1&o&&(t.TgZ(0,"table",63)(1,"thead")(2,"tr"),t.YNc(3,W,2,6,"th",64),t.TgZ(4,"th"),t._uU(5,"\xa0"),t.qZA()()(),t.TgZ(6,"tbody"),t.YNc(7,B,37,59,"tr",65),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.columns),t.xp6(4),t.Q6J("ngForOf",e.quotes)}}function z(o,r){1&o&&(t.TgZ(0,"div",82),t._uU(1,"No Data Found"),t.qZA())}function X(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",37)(1,"div",38)(2,"div",39)(3,"div",40)(4,"div",41)(5,"div",33)(6,"div",42)(7,"input",43),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.searchKey=i)})("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.changed(i))}),t.qZA(),t.TgZ(8,"div",44)(9,"button",45),t._UZ(10,"i",46),t.qZA()()()()(),t.TgZ(11,"div",47)(12,"div",33)(13,"select",48),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.productId=i)})("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.changeStatus(i))}),t.TgZ(14,"option",49),t._uU(15,"Product"),t.qZA(),t.YNc(16,V,2,2,"option",50),t.qZA()()(),t.TgZ(17,"div",47)(18,"div",33)(19,"select",51),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.quoteStatus=i)})("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.changeStatus(i))}),t.TgZ(20,"option",49),t._uU(21,"Quote Status"),t.qZA(),t.TgZ(22,"option",52),t._uU(23,"Quoted"),t.qZA(),t.TgZ(24,"option",53),t._uU(25,"Expired"),t.qZA()()()(),t.TgZ(26,"div",54)(27,"div",55),t._UZ(28,"input",56),t.TgZ(29,"span",57),t.NdJ("click",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.openCalendar(i))}),t._UZ(30,"i",58),t.qZA()()()()()(),t.TgZ(31,"div",59),t.NdJ("scrolled",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.onScrollDown(i))}),t.YNc(32,H,8,2,"table",60),t.YNc(33,z,2,0,"div",61),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(7),t.Q6J("ngModel",e.searchKey),t.xp6(6),t.Q6J("ngModel",e.productId),t.xp6(3),t.Q6J("ngForOf",e.products),t.xp6(3),t.Q6J("ngModel",e.quoteStatus),t.xp6(12),t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("scrollWindow",!1),t.xp6(1),t.Q6J("ngIf",e.quotes.length),t.xp6(1),t.Q6J("ngIf",!e.quotes.length)}}function tt(o,r){if(1&o&&(t.TgZ(0,"option",62),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e._id),t.xp6(1),t.hij(" ",e.productName," ")}}function et(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",92)(1,"div",93)(2,"div",94)(3,"h4",95),t._uU(4),t.qZA(),t.TgZ(5,"span")(6,"a",96),t._uU(7),t.qZA()()(),t.TgZ(8,"div",97)(9,"div",98),t._uU(10," SC "),t.qZA(),t.TgZ(11,"div")(12,"h6"),t._uU(13),t.qZA(),t.TgZ(14,"h5"),t._uU(15),t.qZA(),t.TgZ(16,"p"),t._uU(17),t.qZA()()(),t._UZ(18,"hr"),t.TgZ(19,"h5",99),t._uU(20,"Vendor Details:"),t.qZA(),t.TgZ(21,"h5"),t._uU(22),t._UZ(23,"img",100),t.TgZ(24,"a",101),t._uU(25),t.qZA()(),t._UZ(26,"hr"),t.TgZ(27,"div",102)(28,"h5"),t._uU(29),t.qZA(),t.TgZ(30,"p",103),t._uU(31),t.qZA(),t.TgZ(32,"p"),t._uU(33),t.qZA(),t.TgZ(34,"div",104)(35,"h5",105),t._uU(36," Timeline: "),t.TgZ(37,"a",106),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.showTimeLine(s))}),t._uU(38,"View More "),t.qZA()(),t.TgZ(39,"p",103),t._uU(40),t.ALo(41,"date"),t.qZA()()(),t.TgZ(42,"div",107)(43,"a",108),t._uU(44,"View"),t.qZA()()()()}if(2&o){const e=r.$implicit;t.xp6(4),t.hij("Quote ID: ",e.quoteId,""),t.xp6(2),t.Q6J("ngClass","QUOTED"===e.quoteStatus?"btn-success":"ARCHIEVE"===e.quoteStatus?"btn-light":"EXPIRED"===e.quoteStatus?"btn-danger":"btn-success"),t.xp6(1),t.Oqu(e.quoteStatus||"--"),t.xp6(6),t.hij("Customer ID: ",e.customerLogin.customerId,""),t.xp6(2),t.Oqu(e.customer.companyName),t.xp6(2),t.hij("Country of Origin: ",e.customer.countryObj.name,""),t.xp6(5),t.AsE(" ",e.vendor.firstName," ",e.vendor.lastName," "),t.xp6(2),t.Q6J("routerLink",t.VKq(18,k,e.vendorId)),t.xp6(1),t.hij(" ID: ",e.vendor.vendorId,""),t.xp6(4),t.hij("Product ID: ",e.product.productId,""),t.xp6(2),t.hij("Product Title: ",e.product.productName,""),t.xp6(2),t.hij("Category: ",null==e||null==e.category?null:e.category.categoryName,""),t.xp6(7),t.hij("Quoted On: ",t.xi3(41,15,null==e?null:e.createdAt,"dd/MM/yyyy"),""),t.xp6(3),t.Q6J("routerLink",t.VKq(20,N,e._id))}}function ot(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",90),t.NdJ("scrolled",function(i){t.CHM(e);const s=t.oxw(2);return t.KtG(s.onScrollDown(i))}),t.YNc(1,et,45,22,"div",91),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300),t.xp6(1),t.Q6J("ngForOf",e.quotes)}}function it(o,r){1&o&&(t.TgZ(0,"div",82),t._uU(1,"No Data Found"),t.qZA())}function nt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",37)(1,"div",38)(2,"div",83)(3,"div",40)(4,"div",84)(5,"div",33)(6,"div",42)(7,"input",85),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.searchKey=i)})("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.changed(i))}),t.qZA(),t.TgZ(8,"div",44)(9,"button",45),t._UZ(10,"i",46),t.qZA()()()()(),t.TgZ(11,"div",86)(12,"div",33)(13,"select",48),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.productId=i)})("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.changeStatus(i))}),t.TgZ(14,"option",49),t._uU(15,"Product"),t.qZA(),t.YNc(16,tt,2,2,"option",50),t.qZA()()(),t.TgZ(17,"div",47)(18,"div",33)(19,"select",51),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.quoteStatus=i)})("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.changeStatus(i))}),t.TgZ(20,"option",49),t._uU(21,"Quote Status"),t.qZA(),t.TgZ(22,"option",52),t._uU(23,"Quoted"),t.qZA(),t.TgZ(24,"option",53),t._uU(25,"Expired"),t.qZA(),t.TgZ(26,"option",87),t._uU(27,"Archived"),t.qZA()()()(),t.TgZ(28,"div",88)(29,"div",55),t._UZ(30,"input",56),t.TgZ(31,"span",57),t.NdJ("click",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.openCalendar(i))}),t._UZ(32,"i",58),t.qZA()()()()()(),t.YNc(33,ot,2,3,"div",89),t.YNc(34,it,2,0,"div",61),t.qZA()}if(2&o){const e=t.oxw();t.xp6(7),t.Q6J("ngModel",e.searchKey),t.xp6(6),t.Q6J("ngModel",e.productId),t.xp6(3),t.Q6J("ngForOf",e.products),t.xp6(3),t.Q6J("ngModel",e.quoteStatus),t.xp6(14),t.Q6J("ngIf",e.quotes.length),t.xp6(1),t.Q6J("ngIf",!e.quotes.length)}}const rt=function(o){return{"fa-spin fa-spinner":o}},S=function(o){return{active:o}};let st=(()=>{class o{constructor(e,n,i){this._QS=e,this._notifier=n,this.ngxLoaderService=i,this.isGridView=!1,this.isLoading=!1,this.quoteStatus="",this.searchKey="",this.productId="",this.modelChanged=new J.x,this.columns=[{column:"Quote ID",show:!0,key:"quoteId"},{column:"Customer Details",show:!0,key:"customer.companyName"},{column:"Vendor Details",show:!0,key:"vendorName"},{column:"Product Detail",show:!0,key:"product.productName"},{column:"Timeline",show:!0,key:"createdAt"},{column:"Quantity",show:!0,key:"minMaxQuant.min"},{column:"Price",show:!0,key:"minMaxPrice.min"},{column:"Status",show:!0,key:"quoteStatus"}],this.page=1,this.contentPerPage=10,this.products=[],this.totalPage=0,this.quotes=[]}ngOnInit(){this.today=q().valueOf(),this.getProductList(),this.modelChanged.pipe((0,Y.b)(500),(0,L.x)()).subscribe(e=>{this.searchKey=e,this.getQuoteList()}),this.getQuoteList()}ngAfterViewInit(){setTimeout(()=>{this.initDateRangePicker()},200)}initDateRangePicker(){$(".daterangePickerQuote").dateRangePicker({format:"DD-MM-YYYY",autoClose:!0}).on("datepicker-change",(e,n)=>{console.log("change",n),this.startDate=q(n.date1).valueOf(),this.endDate=q(n.date2).valueOf(),this.getQuoteList()})}openCalendar(e){e.stopPropagation(),$(".daterangePickerQuote").data("dateRangePicker").open()}changeView(e){this.page=1,this.isGridView="grid"===e,setTimeout(()=>{this.initDateRangePicker()},200),this.getQuoteList()}changed(e){this.modelChanged.next(e)}changeStatus(e){this.getQuoteList()}hideShowCol(e,n){n&&3!==n&&4!==n&&7!==n?e.target.checked?$(`.col${n}`).removeClass("colHide"):$(`.col${n}`).addClass("colHide"):(this.columns[n].show=!0,$(`#col${n}`).prop("checked",!0))}getProductList(){this._QS.getProductList().subscribe(e=>{e.meta.status?this.products=e.data:(this.products=[],this._notifier.showWarning(e.meta.msg,""))},e=>{})}onScrollDown(e){this.page<this.totalPage&&(this.page+=1,this.getQuoteList(!0))}getQuoteList(e){this.ngxLoaderService.start(),this._QS.getQuoteList(this.quoteStatus,this.searchKey,this.startDate,this.endDate,this.productId,this.page,this.contentPerPage).subscribe(n=>{this.ngxLoaderService.stop(),n.meta.status?(console.log("h"),this.totalPage=this.totalPage?this.totalPage:Math.ceil(n.metadata[0].total/this.contentPerPage),this.quotes=e?[...this.quotes,...n.data]:n.data,this.quotes.map(i=>{let s=this.findMinMax(i.quotation,"quantity"),l=this.findMinMax(i.quotation,"totalPrice");i.minMaxQuant=s,i.minMaxPrice=l})):(this.quotes=e?this.quotes:[],e||this._notifier.showWarning(n.meta.msg,""))},n=>{this.ngxLoaderService.stop()})}findMinMax(e,n){const{min:i,max:s}=e.reduce((l,c)=>({min:Math.min(Number(l.min),Number(c[n])),max:Math.max(Number(l.max),Number(c[n]))}),{min:1/0,max:-1/0});return{min:i,max:s}}showTimeLine(e){this.selectedQuote=e,$("#timelineModal").modal("show"),$("#timelineModal").on("hidden.bs.modal",n=>{this.selectedQuote=void 0})}hideAddressModal(){$("#timelineModal").modal("hide")}exportDetails(){this.isLoading=!0;let e=JSON.parse(JSON.stringify(this.columns));e.map((n,i,s)=>{"Customer Details"===n.column&&n.show&&"Customer ID"!==s[i-1].column&&s.splice(i,0,{column:"Customer ID",show:!0,key:"customerLogin.customerId"}),"Vendor Details"===n.column&&n.show&&"Vendor ID"!==s[i-1].column&&s.splice(i,0,{column:"Vendor ID",show:!0,key:"vendor.vendorId"}),"Product Detail"===n.column&&n.show&&"Category Name"!==s[i-1].column&&s.splice(i,0,{column:"Product ID",show:!0,key:"product.productId"},{column:"Category Name",show:!0,key:"category.categoryName"})}),e.map((n,i,s)=>{"Timeline"===n.column&&n.show&&"Quoted On"!==s[i-1].column&&s.splice(i,1,{column:"Quoted On",show:!0,key:"quotedAt"}),"Quantity"===n.column&&n.show&&"Minimum Quantity"!==s[i-1].column&&s.splice(i,1,{column:"Minimum Quantity",show:!0,key:"minQuantity"},{column:"Maximum Quantity",show:!0,key:"maxQuantity"}),"Price(INR)"===n.column&&n.show&&"Minimum Price"!==s[i-1].column&&s.splice(i,1,{column:"Minimum Price",show:!0,key:"minPrice"},{column:"Maximum Price",show:!0,key:"maxPrice"})}),this._QS.exportDetails({columnPermission:e},this.quoteStatus,this.searchKey,this.startDate,this.endDate,this.productId).subscribe(n=>{this.isLoading=!1;const i=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),s=window.URL.createObjectURL(i),l=document.createElement("a");l.href=s,l.download="Quote-List.xlsx",l.click(),window.URL.revokeObjectURL(s),l.remove(),this._notifier.showSuccess("File downloaded successfully","Success")},n=>{this._notifier.showError("Something Went Wrong","Error"),this.isLoading=!1})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(Z),t.Y36(O.l),t.Y36(v.LA))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-quotes"]],decls:76,vars:33,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between"],[1,"export_button","column-btns"],["type","submit",1,"btn","btn-light",3,"disabled","click"],[1,"fa",3,"ngClass"],[1,"formIcons"],["src","assets/images/download.png","alt",""],[1,"btn-group"],["href","javascript:void(0)","aria-current","page",1,"btn","btn-white","active",3,"ngClass","click"],[1,"fa","fa-list-ul"],["href","javascript:void(0)",1,"btn","btn-white",3,"ngClass","click"],[1,"fa","fa-th-large"],[1,"rightColumnDrop"],[1,"dropdown","inline-flex"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside",1,"btn","btn-white","dropdown-toggle"],["src","assets/images/column-icon.png"],["aria-labelledby","dropdownMenuButton1","checked","",1,"dropdown-menu","form-filter-drop"],[1,"form-box","form-filter"],["class","form-group",4,"ngFor","ngForOf"],[1,"account_dashboard","profile_dashboard"],["class","login-white-box",4,"ngIf"],["id","timelineModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","feedback-popup","timelineBox"],[1,"modal-header","justify-content-center","align-items-start"],[1,"modal-title"],[1,"font-sm"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","p-4","pt-2"],[1,"table-reponsive"],["cellspacing","10","cellpadding","20",1,"table"],["bgColor","#0095FF"],["scope","col"],[1,"form-group"],[1,"form-check"],["type","checkbox","name","columnName",1,"form-check-input",3,"id","ngModel","ngModelChange","change"],[1,"form-check-label",3,"for"],[1,"login-white-box"],[1,"row","justify-content-between","listFilter"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"row"],[1,"col-12","col-md-2","col-sm-6","col-lg-2"],[1,"input-group"],["type","text","placeholder","Search","aria-label","Search","aria-describedby","basic-addon2","aria-autocomplete","list","name","searchKey",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","searchBtn"],[1,"fa","fa-search"],[1,"col-6","col-md-2","col-sm-6","col-lg-2"],["name","product",1,"form-control",3,"ngModel","ngModelChange"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["name","quoteStatus",1,"form-control",3,"ngModel","ngModelChange"],["value","QUOTED"],["value","EXPIRED"],[1,"col-12","col-md-3","col-lg-3","col-sm-6"],[1,"form-group","calendarInput"],["type","text","placeholder","EX: 12/02/2023  -  12/02/2023",1,"form-control","daterangePickerQuote"],[1,"formIconsinner",3,"click"],[1,"bi","bi-calendar-week"],["infiniteScroll","",1,"table-responsive","request_sample","fix-headertbl",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["class","table table-bordered","width","100%","cellspacing","0",4,"ngIf"],["style","text-align: center;padding: 140px;",4,"ngIf"],[3,"value"],["width","100%","cellspacing","0",1,"table","table-bordered"],[3,"ngClass","class",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"col0",3,"ngClass"],[1,"col1",3,"ngClass"],["href","javascript:void(0)",3,"routerLink"],[1,"col2",3,"ngClass"],[1,"col3",3,"ngClass"],[1,"col4",3,"ngClass"],["href","javascript:void(0)",1,"viewText","mr-1",3,"click"],[1,"col5",3,"ngClass"],[1,"col6",3,"ngClass"],[1,"col7",3,"ngClass"],["href","javascript:void(0)",1,"btn","underline-none",3,"ngClass"],["class","text-success w-70 d-inline-block underline-none viewText mr-1","href","javascript:void(0)",3,"routerLink",4,"ngIf"],["class","text-success underline-none viewText mr-1",3,"routerLink",4,"ngIf"],["href","javascript:void(0)",1,"text-success","w-70","d-inline-block","underline-none","viewText","mr-1",3,"routerLink"],[1,"text-success","underline-none","viewText","mr-1",3,"routerLink"],[2,"text-align","center","padding","140px"],[1,"col-12","col-sm-8","col-md-10","col-lg-10"],[1,"col-12","col-md-3","col-sm-6","col-lg-3"],["type","text","placeholder","Search","aria-label","Search","aria-describedby","basic-addon2","name","searchKey",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"col-6","col-md-3","col-sm-6","col-lg-3"],["value","ARCHIEVE"],[1,"col-12","col-md-4","col-lg-4","col-sm-6"],["class","row","infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled",4,"ngIf"],["infiniteScroll","",1,"row",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],["class","col-12 col-sm-6 col-md-4 col-lg-4",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4","col-lg-4"],[1,"quotesBox"],[1,"title","d-flex","justify-content-between"],[1,"fw500"],["href","javascript:void(0)",1,"btn","radius-none",3,"ngClass"],[1,"pro-img-table","d-flex"],[1,"userBgText","rounded","me-3"],[1,"mb-3"],["src","assets/images/checkmark-circle-2.png",1,"ms-2",2,"width","20px","height","20px"],["href","javascript:void(0)",1,"fw400",3,"routerLink"],[1,"mb-5"],[1,"mb-0"],[1,"greyBox1"],[1,"d-flex","justify-content-between"],["href","javascript:void(0)",1,"viewText",3,"click"],[1,"text-center","main_btn","mt-4"],["href","javascript:void(0)",1,"btn","btn-success",3,"routerLink"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t._uU(3,"Quotes"),t.qZA(),t.TgZ(4,"span",2)(5,"button",3),t.NdJ("click",function(){return i.exportDetails()}),t._UZ(6,"i",4),t.TgZ(7,"span",5),t._UZ(8,"img",6),t.qZA(),t._uU(9," Export Details"),t.qZA(),t.TgZ(10,"div",7)(11,"a",8),t.NdJ("click",function(){return i.changeView("table")}),t._UZ(12,"i",9),t.qZA(),t.TgZ(13,"a",10),t.NdJ("click",function(){return i.changeView("grid")}),t._UZ(14,"i",11),t.qZA()(),t.TgZ(15,"div",12)(16,"span",13)(17,"button",14),t._UZ(18,"img",15),t._uU(19," Manage Column "),t.qZA(),t.TgZ(20,"div",16)(21,"div",17),t.YNc(22,G,5,4,"div",18),t.qZA()()()()()(),t.TgZ(23,"div",19),t.YNc(24,X,34,9,"div",20),t.YNc(25,nt,35,6,"div",20),t.qZA()(),t.TgZ(26,"div",21)(27,"div",22)(28,"div",23)(29,"div",24)(30,"h5",25),t._uU(31,"Timeline: 12203 "),t._UZ(32,"br"),t.TgZ(33,"span",26),t._uU(34,"Converted to order ID: P12322"),t.qZA()(),t._UZ(35,"button",27),t.qZA(),t.TgZ(36,"div",28)(37,"div",29)(38,"table",30)(39,"thead")(40,"tr",31)(41,"th",32),t._uU(42,"Event"),t.qZA(),t.TgZ(43,"th",32),t._uU(44,"Date"),t.qZA()()(),t.TgZ(45,"tbody")(46,"tr")(47,"td",32),t._uU(48,"Quote Requested on"),t.qZA(),t.TgZ(49,"td",32),t._uU(50),t.ALo(51,"date"),t.qZA()(),t.TgZ(52,"tr")(53,"td",32),t._uU(54,"Quote Created on"),t.qZA(),t.TgZ(55,"td",32),t._uU(56),t.ALo(57,"date"),t.qZA()(),t.TgZ(58,"tr")(59,"td",32),t._uU(60,"Order Created on"),t.qZA(),t.TgZ(61,"td",32),t._uU(62),t.ALo(63,"date"),t.qZA()(),t.TgZ(64,"tr")(65,"td",32),t._uU(66,"Order Shipped on"),t.qZA(),t.TgZ(67,"td",32),t._uU(68),t.ALo(69,"date"),t.qZA()(),t.TgZ(70,"tr")(71,"td",32),t._uU(72,"Order Delivered on"),t.qZA(),t.TgZ(73,"td",32),t._uU(74),t.ALo(75,"date"),t.qZA()()()()()()()()()),2&n&&(t.xp6(5),t.Q6J("disabled",i.isLoading),t.xp6(1),t.Q6J("ngClass",t.VKq(27,rt,i.isLoading)),t.xp6(5),t.Q6J("ngClass",t.VKq(29,S,!i.isGridView)),t.xp6(2),t.Q6J("ngClass",t.VKq(31,S,i.isGridView)),t.xp6(9),t.Q6J("ngForOf",i.columns),t.xp6(2),t.Q6J("ngIf",!i.isGridView),t.xp6(1),t.Q6J("ngIf",i.isGridView),t.xp6(25),t.Oqu(t.xi3(51,12,null==i.selectedQuote?null:i.selectedQuote.quoteRequestedDate,"d MMM y")||"--"),t.xp6(6),t.Oqu(t.xi3(57,15,null==i.selectedQuote?null:i.selectedQuote.createdAt,"d MMM y")||"--"),t.xp6(6),t.Oqu(t.xi3(63,18,null==i.selectedQuote?null:i.selectedQuote.orderCreatedDate,"d MMM y")||"--"),t.xp6(6),t.Oqu(t.xi3(69,21,null==i.selectedQuote?null:i.selectedQuote.orderShippedDate,"d MMM y")||"--"),t.xp6(6),t.Oqu(t.xi3(75,24,null==i.selectedQuote?null:i.selectedQuote.orderDeliveryDate,"d MMM y")||"--"))},dependencies:[f.rH,m.mk,m.sg,m.O5,a.YN,a.Kr,a.Fj,a.Wl,a.EJ,a.JJ,a.On,I.Ry,m.uU],styles:[".colHide[_ngcontent-%COMP%]{display:none}"]})}return o})();var b=p(15861),u=p(64716),Q=p(96155),y=p(57870);function lt(o,r){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",null==e.quoteDetails||null==e.quoteDetails.customer?null:e.quoteDetails.customer.companyName,", ")}}function at(o,r){if(1&o&&(t.TgZ(0,"option",83),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",null==e?null:e._id),t.xp6(1),t.gL8(" ",null==e?null:e.warehouseName,"",null==e?null:e.factoryName,",",null==e?null:e.addressLine1,",",null==e?null:e.cityName,",",null==e||null==e.state?null:e.state.name,",",null==e||null==e.country?null:e.country.name," ")}}function ut(o,r){if(1&o&&(t.TgZ(0,"option",83),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",null==e?null:e._id),t.xp6(1),t.gL8(" ",null==e?null:e.warehouseName,"",null==e?null:e.factoryName,",",null==e?null:e.addressLine1,",",null==e?null:e.cityName,",",null==e||null==e.state?null:e.state.name,",",null==e||null==e.country?null:e.country.name," ")}}const ct=function(o){return["/quotes/detail",o]};function mt(o,r){if(1&o&&(t.TgZ(0,"div",84)(1,"div",85)(2,"div",86)(3,"a",87),t._uU(4,"View Previous Quotes"),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("routerLink",t.VKq(1,ct,null==e.quoteDetails?null:e.quoteDetails.previousQuoteId))}}const C=function(o){return{"fa-spin fa-spinner":o}};function pt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",88)(1,"button",89),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.updateTolerance())}),t._UZ(2,"i",90),t._uU(3," Save "),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.isLoadingTolerance),t.xp6(1),t.Q6J("ngClass",t.VKq(2,C,e.isLoadingTolerance))}}function dt(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"%"),t.qZA())}function gt(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"%"),t.qZA())}function _t(o,r){if(1&o&&(t.TgZ(0,"td")(1,"div",53)(2,"div",24)(3,"div",94)(4,"label",95),t._uU(5,"Lower Limit"),t.qZA(),t.TgZ(6,"div",54)(7,"div",96),t._UZ(8,"input",97),t.YNc(9,dt,2,0,"span",10),t.qZA()()(),t.TgZ(10,"div",94)(11,"label",98),t._uU(12,"Upper Limit"),t.qZA(),t.TgZ(13,"div",54)(14,"div",96),t._UZ(15,"input",99),t.YNc(16,gt,2,0,"span",10),t.qZA()()()()()()),2&o){const e=t.oxw().$implicit;t.xp6(9),t.Q6J("ngIf","percentage"===(null==e||null==e.value?null:e.value.unit)),t.xp6(7),t.Q6J("ngIf","percentage"===(null==e||null==e.value?null:e.value.unit))}}function ht(o,r){1&o&&(t.TgZ(0,"td",100),t._uU(1," ---- "),t.qZA())}function ft(o,r){if(1&o&&(t.TgZ(0,"tr",28)(1,"td"),t._UZ(2,"input",91),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"input",92),t.qZA(),t.YNc(5,_t,17,2,"td",10),t.YNc(6,ht,2,0,"td",93),t.qZA()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e)),t.xp6(5),t.Q6J("ngIf",e.value.hasOwnProperty("lowerTolerance")),t.xp6(1),t.Q6J("ngIf",!e.value.hasOwnProperty("lowerTolerance"))}}const qt=function(o){return{active:o}};function Tt(o,r){if(1&o&&(t.TgZ(0,"div",103),t._UZ(1,"img",104),t.qZA()),2&o){const e=r.$implicit;t.Q6J("ngClass",t.VKq(2,qt,0===r.index)),t.xp6(1),t.Q6J("src",e,t.LSH)}}function Zt(o,r){if(1&o&&(t.TgZ(0,"div",101),t.YNc(1,Tt,2,4,"div",102),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==e.quoteDetails||null==e.quoteDetails.customerProducts?null:e.quoteDetails.customerProducts.productImages)}}function vt(o,r){1&o&&(t.TgZ(0,"div",101)(1,"div",105),t._UZ(2,"img",106),t.qZA()())}function Ct(o,r){1&o&&(t.TgZ(0,"button",107),t._UZ(1,"span",108),t.TgZ(2,"span",109),t._uU(3,"Previous"),t.qZA()())}function xt(o,r){1&o&&(t.TgZ(0,"button",110),t._UZ(1,"span",111),t.TgZ(2,"span",109),t._uU(3,"Next"),t.qZA()())}function bt(o,r){if(1&o&&t._UZ(0,"img",123),2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function Qt(o,r){if(1&o&&t._UZ(0,"img",124),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function yt(o,r){if(1&o&&t._UZ(0,"img",125),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function At(o,r){if(1&o&&t._UZ(0,"img",126),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function wt(o,r){if(1&o&&t._UZ(0,"img",127),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Ft(o,r){if(1&o&&t._UZ(0,"img",128),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Pt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",114)(1,"div",115)(2,"div",116),t.YNc(3,bt,1,2,"img",117),t.YNc(4,Qt,1,1,"img",118),t.YNc(5,yt,1,1,"img",119),t.YNc(6,At,1,1,"img",120),t.YNc(7,wt,1,1,"img",121),t.YNc(8,Ft,1,1,"img",122),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()(),t.TgZ(11,"div")(12,"a",40),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.downloadImage(s.url))}),t._uU(13,"Download "),t._UZ(14,"i",41),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function Dt(o,r){if(1&o&&(t.ynx(0),t.TgZ(1,"div",34)(2,"h6",112),t._uU(3,"Artwork:"),t.qZA()(),t.TgZ(4,"div",54),t.YNc(5,Pt,15,7,"div",113),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.productArtworks)}}function It(o,r){if(1&o&&t._UZ(0,"img",123),2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function Ut(o,r){if(1&o&&t._UZ(0,"img",124),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Nt(o,r){if(1&o&&t._UZ(0,"img",125),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function kt(o,r){if(1&o&&t._UZ(0,"img",126),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function St(o,r){if(1&o&&t._UZ(0,"img",127),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Jt(o,r){if(1&o&&t._UZ(0,"img",128),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Yt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",114)(1,"div",115)(2,"div",116),t.YNc(3,It,1,2,"img",117),t.YNc(4,Ut,1,1,"img",118),t.YNc(5,Nt,1,1,"img",119),t.YNc(6,kt,1,1,"img",120),t.YNc(7,St,1,1,"img",121),t.YNc(8,Jt,1,1,"img",122),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()(),t.TgZ(11,"div")(12,"a",40),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.downloadImage(s.url))}),t._uU(13,"Download "),t._UZ(14,"i",41),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function Lt(o,r){if(1&o&&(t.ynx(0),t.TgZ(1,"div",129)(2,"h6",35),t._uU(3,"Additional Attachments:"),t.qZA()(),t.TgZ(4,"div",54),t.YNc(5,Yt,15,7,"div",113),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.productAttachments)}}function Ot(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Shipping term is required. "),t.qZA())}function Gt(o,r){if(1&o&&(t.TgZ(0,"div",132),t.YNc(1,Ot,2,0,"div",10),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.quotationsFormGroupControls.shippingTerms.errors.required)}}const d=function(o){return{"is-invalid":o}};function Vt(o,r){if(1&o&&(t.TgZ(0,"div",24)(1,"div",130)(2,"div",54)(3,"label"),t._uU(4,"Shipping Terms"),t.qZA(),t.TgZ(5,"select",131)(6,"option"),t._uU(7,"Select"),t.qZA()(),t.YNc(8,Gt,2,1,"div",56),t.qZA()()()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngClass",t.VKq(2,d,e.quotationFormSubmittied&&e.quotationsFormGroupControls.shippingTerms.errors)),t.xp6(3),t.Q6J("ngIf",e.quotationFormSubmittied&&e.quotationsFormGroupControls.shippingTerms.errors)}}function Wt(o,r){if(1&o&&(t.TgZ(0,"td",133)(1,"div",134),t._UZ(2,"input",135),t.TgZ(3,"div"),t._uU(4),t.qZA()()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e)),t.xp6(4),t.hij("(\xb1 ",e.value.quantityTolerance,"%)")}}function Mt(o,r){if(1&o&&(t.TgZ(0,"td",136)(1,"div",137),t._UZ(2,"input",138),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function $t(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"td",136)(1,"div",137)(2,"input",139),t.NdJ("keyup",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.changePrice(s))}),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function Et(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"td",136)(1,"div",137)(2,"input",140),t.NdJ("keyup",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.changePrice(s))}),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function jt(o,r){if(1&o&&(t.TgZ(0,"td",28)(1,"div",141),t._uU(2),t.TgZ(3,"div",142),t._UZ(4,"input",143),t.qZA()()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e)),t.xp6(2),t.hij(" ",null==n.quoteDetails?null:n.quoteDetails.currency," ")}}function Rt(o,r){if(1&o&&(t.TgZ(0,"td",28)(1,"div",141),t._uU(2),t.TgZ(3,"div",142),t._UZ(4,"input",144),t.qZA()()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e)),t.xp6(2),t.hij(" ",null==n.quoteDetails?null:n.quoteDetails.currency," ")}}function Kt(o,r){if(1&o&&(t.TgZ(0,"td",28)(1,"div",141),t._uU(2),t.TgZ(3,"div",142),t._UZ(4,"input",145),t.qZA()()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e)),t.xp6(2),t.hij(" ",null==n.quoteDetails?null:n.quoteDetails.currency," ")}}function Bt(o,r){if(1&o&&(t.TgZ(0,"td",133)(1,"div",134),t._UZ(2,"input",146),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function Ht(o,r){if(1&o&&(t.TgZ(0,"td",133)(1,"div",134),t._UZ(2,"input",147),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function zt(o,r){if(1&o&&(t.TgZ(0,"td",133)(1,"div",134),t._UZ(2,"input",148),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function Xt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",149)(1,"button",150),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.updateQuotation())}),t._UZ(2,"i",90),t._uU(3," Save "),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.isLoading),t.xp6(1),t.Q6J("ngClass",t.VKq(2,C,e.isLoading))}}function te(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," PPS Quantity is required. "),t.qZA())}function ee(o,r){if(1&o&&(t.TgZ(0,"div",132),t.YNc(1,te,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ppsFormControls.prePurchaseSampleQuantity.errors.required)}}function oe(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Production Lead Time is required. "),t.qZA())}function ie(o,r){if(1&o&&(t.TgZ(0,"div",132),t.YNc(1,oe,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ppsFormControls.prePurchaseSampleProductionLeadTime.errors.required)}}function ne(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Grand Total Price "),t.qZA())}function re(o,r){if(1&o&&(t.TgZ(0,"div",132),t.YNc(1,ne,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ppsFormControls.prePurchaseSampleTotalPrice.errors.required)}}function se(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",151)(1,"button",152),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.updatePPS())}),t._UZ(2,"i",90),t._uU(3," Save"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.isLoadingPps),t.xp6(1),t.Q6J("ngClass",t.VKq(2,C,e.isLoadingPps))}}function le(o,r){if(1&o&&(t.TgZ(0,"option",163),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw(2);t.s9C("value",e),t.Q6J("disabled",n.isSelected(e)),t.xp6(1),t.hij(" ",e," ")}}function ae(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Name is required. "),t.qZA())}function ue(o,r){if(1&o&&(t.TgZ(0,"div",164),t.YNc(1,ae,2,0,"div",10),t.qZA()),2&o){const e=t.oxw().$implicit;let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.get("name"))||null==n.errors?null:n.errors.required)}}function ce(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Cost is required. "),t.qZA())}function me(o,r){if(1&o&&(t.TgZ(0,"div",164),t.YNc(1,ce,2,0,"div",10),t.qZA()),2&o){const e=t.oxw().$implicit;let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.get("cost"))||null==n.errors?null:n.errors.required)}}function pe(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"a",165),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,s=t.oxw();return t.KtG(s.removeOneTimeCost(i))}),t._UZ(1,"i",166),t.qZA()}}function de(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"a",167),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.addItem())}),t._UZ(1,"i",168),t.qZA()}}function ge(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.ynx(1,153),t.TgZ(2,"td",8)(3,"div",54)(4,"div",154)(5,"div",155)(6,"select",156)(7,"option",157),t._uU(8,"Select Cost"),t.qZA(),t.YNc(9,le,2,3,"option",158),t.qZA(),t.YNc(10,ue,2,1,"div",80),t.qZA()()()(),t.TgZ(11,"td")(12,"div",54)(13,"div",154)(14,"div",155)(15,"input",159),t.NdJ("keyup",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.totalOneTimeCost())}),t.qZA(),t.YNc(16,me,2,1,"div",80),t.qZA(),t.TgZ(17,"div")(18,"div",160),t.YNc(19,pe,2,0,"a",161),t.YNc(20,de,2,0,"a",162),t.qZA()()()()(),t.BQk(),t.qZA()}if(2&o){const e=r.$implicit,n=r.index,i=r.last,s=t.oxw();let l,c;t.xp6(1),t.Q6J("formGroupName",n),t.xp6(8),t.Q6J("ngForOf",s.costsList),t.xp6(1),t.Q6J("ngIf",s.oneTimeFormSubmitted&&(null==(l=e.get("name"))?null:l.errors)),t.xp6(6),t.Q6J("ngIf",s.oneTimeFormSubmitted&&(null==(c=e.get("cost"))?null:c.errors)),t.xp6(3),t.Q6J("ngIf",s.oneTimeCostFormControls.controls.length>1),t.xp6(1),t.Q6J("ngIf",i)}}function _e(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",149)(1,"button",150),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.updateOneTimeCost())}),t._UZ(2,"i",90),t._uU(3," Save"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.isLoadingOneTime),t.xp6(1),t.Q6J("ngClass",t.VKq(2,C,e.isLoadingOneTime))}}function he(o,r){if(1&o&&(t.TgZ(0,"h6"),t._uU(1),t.TgZ(2,"span",169),t._uU(3,"Notified by Customer"),t.qZA()()),2&o){const e=t.oxw();t.xp6(1),t.hij("Case Pack: ",null==e.quoteDetails||null==e.quoteDetails.customerProducts||null==e.quoteDetails.customerProducts.productForm?null:e.quoteDetails.customerProducts.productForm.casePack," ")}}function fe(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Case Pack is required. "),t.qZA())}function qe(o,r){if(1&o&&(t.TgZ(0,"div",164),t.YNc(1,fe,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.casePack.errors.required)}}function Te(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Valid Upto date is required. "),t.qZA())}function Ze(o,r){if(1&o&&(t.TgZ(0,"div",164),t.YNc(1,Te,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.validUpto.errors.required)}}function ve(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Length is required. "),t.qZA())}function Ce(o,r){if(1&o&&(t.TgZ(0,"div",164),t.YNc(1,ve,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.dimensionFormControls.length||null==e.dimensionFormControls.length.errors?null:e.dimensionFormControls.length.errors.required)}}function xe(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Breadth is required. "),t.qZA())}function be(o,r){if(1&o&&(t.TgZ(0,"div",164),t.YNc(1,xe,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.dimensionFormControls.breadth||null==e.dimensionFormControls.breadth.errors?null:e.dimensionFormControls.breadth.errors.required)}}function Qe(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Height is required. "),t.qZA())}function ye(o,r){if(1&o&&(t.TgZ(0,"div",164),t.YNc(1,Qe,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.dimensionFormControls.height||null==e.dimensionFormControls.height.errors?null:e.dimensionFormControls.height.errors.required)}}function Ae(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Gross weight is required. "),t.qZA())}function we(o,r){if(1&o&&(t.TgZ(0,"div",132),t.YNc(1,Ae,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.grossWeight.errors.required)}}function Fe(o,r){1&o&&(t.TgZ(0,"label"),t._uU(1," Shipping Address "),t.qZA())}function Pe(o,r){1&o&&(t.TgZ(0,"label"),t._uU(1," Origin Port "),t.qZA())}function De(o,r){1&o&&(t.TgZ(0,"label"),t._uU(1," Destination Port "),t.qZA())}function Ie(o,r){if(1&o&&(t.TgZ(0,"option",83),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,e)," ")}}function Ue(o,r){if(1&o&&(t.TgZ(0,"select",172)(1,"option",157),t._uU(2,"Select"),t.qZA(),t.YNc(3,Ie,3,4,"option",15),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(2,d,e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)),t.xp6(3),t.Q6J("ngForOf",e.nearestPortArr)}}function Ne(o,r){if(1&o&&(t.TgZ(0,"option",83),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,e)," ")}}function ke(o,r){if(1&o&&(t.TgZ(0,"select",173)(1,"option",157),t._uU(2,"Select"),t.qZA(),t.YNc(3,Ne,3,4,"option",15),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(2,d,e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)),t.xp6(3),t.Q6J("ngForOf",e.cifShippingPorts)}}function Se(o,r){if(1&o&&(t.TgZ(0,"option",83),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e._id),t.xp6(1),t.HOy(" ",e.name,", ",null==e?null:e.addressLine1,", ",null==e?null:e.addressLine2,", ",null==e?null:e.cityName," ")}}function Je(o,r){if(1&o&&(t.TgZ(0,"select",173)(1,"option",157),t._uU(2,"Select"),t.qZA(),t.YNc(3,Se,2,5,"option",15),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(2,d,e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)),t.xp6(3),t.Q6J("ngForOf",e.addresses)}}function Ye(o,r){1&o&&(t.ynx(0),t._uU(1," Origin Port "),t.BQk())}function Le(o,r){1&o&&(t.ynx(0),t._uU(1," Origin Port "),t.BQk())}function Oe(o,r){1&o&&(t.ynx(0),t._uU(1," Shipping address "),t.BQk())}function Ge(o,r){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Ye,2,0,"ng-container",10),t.YNc(2,Le,2,0,"ng-container",10),t.YNc(3,Oe,2,0,"ng-container",10),t._uU(4," is required. "),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf","FOB"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","CIF"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","DDU"===e.quotationsForm.value.shippingTerms||"DDP"===e.quotationsForm.value.shippingTerms)}}function Ve(o,r){if(1&o&&(t.TgZ(0,"div",164),t.YNc(1,Ge,5,3,"div",10),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.shippingAddress.errors.required)}}function We(o,r){if(1&o&&(t.TgZ(0,"div",54),t.YNc(1,Fe,2,0,"label",10),t.YNc(2,Pe,2,0,"label",10),t.YNc(3,De,2,0,"label",10),t.YNc(4,Ue,4,4,"select",170),t.YNc(5,ke,4,4,"select",171),t.YNc(6,Je,4,4,"select",171),t.YNc(7,Ve,2,1,"div",72),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","DDU"===e.quotationsForm.value.shippingTerms||"DDP"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","FOB"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","CIF"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","FOB"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","CIF"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","DDU"===e.quotationsForm.value.shippingTerms||"DDP"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf",e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)}}function Me(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",149)(1,"button",150),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.updatePackaging())}),t._UZ(2,"i",90),t._uU(3," Save"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.isLoadingPackaging),t.xp6(1),t.Q6J("ngClass",t.VKq(2,C,e.isLoadingPackaging))}}let $e=(()=>{class o{constructor(e,n,i,s,l,c){this._US=e,this._QS=n,this._notifier=i,this.ngxLoaderService=s,this.routes=l,this._FB=c,this.quoteId="",this.factoryList=[],this.warehouseList=[],this.permissionsArr=[],this.quotePermission={add:!1,update:!1,delete:!1},this.totalOneTimeCostNum=0,this.factoryWarehouseSelectedId="",this.factoryWarehouseSelectedType="",this.selectedImage=0,this.packagingFormSubmittied=!1,this.ppsFormSubmittied=!1,this.oneTimeFormSubmitted=!1,this.quotationFormSubmittied=!1,this.toleranceFormSubmittied=!1,this.isCasePackNotfied=!1,this.isLoading=!1,this.isLoadingTolerance=!1,this.isLoadingPps=!1,this.isLoadingOneTime=!1,this.isLoadingPackaging=!1,this.nearestPortArr=[],this.cifShippingPorts=[],this.addresses=[],this.costsList=[],this.shippingTermsList=[],this.productArtworks=[],this.productAttachments=[]}ngOnInit(){this.initForm(),this.routes.params.subscribe(e=>{e&&e.quoteId&&(this.quoteId=e.quoteId,this.getQuoteDetails())}),this._US.getPermissions().subscribe(e=>{this.permissionsArr=e,Object.keys(this.quotePermission).map(n=>{this.canPerformAction("Quotes",n)})}),this.oneTimeCost(),this.shippingTerm(),$("#carouselExampleControls").on("slide.bs.carousel",e=>{this.selectedImage=e.to}),this.quotationsForm.valueChanges.subscribe(e=>{e.shippingTerms&&(this.shippingTermString=e.shippingTerms,"Ex-Factory"!==e.shippingTerms?this.packagingForm.addControl("shippingAddress",new a.NI("",a.kI.required)):this.packagingForm.removeControl("shippingAddress"),"Ex-Factory"!==e.shippingTerms&&this.packagingForm.get("shippingAddress")?.reset(this.quoteDetails?.shippingAddress?this.quoteDetails?.shippingAddress:""))})}canPerformAction(e,n){this.quotePermission[n]=this._US.hasPermission(e,n,this.permissionsArr)}getQuoteDetails(){this.ngxLoaderService.start(),this._QS.getQuoteDetails(this.quoteId).subscribe(e=>{this.ngxLoaderService.stop(),e.meta.status?(this.quoteDetails=e.data,console.log("quoteDetailsquoteDetailsquoteDetails",this.quoteDetails),this.getCountryById(this.quoteDetails?.factory?.countryId),console.log("this.quoteDetails?.vendor?.state",this.quoteDetails?.factory?.states),this.getStateById(this.quoteDetails?.vendor?.states),this.addresses=this.quoteDetails.userAddresses,this.cifShippingPorts=this.quoteDetails.userAddresses.map(n=>n.mappedPort),this.cifShippingPorts=[...new Set(this.cifShippingPorts)],this.quoteDetails?.shippingTerms&&this.quotationsForm.get("shippingTerms")?.setValue(this.quoteDetails?.shippingTerms),this.getFactoryList(this.quoteDetails.vendorId),this.getWarehouseList(this.quoteDetails.vendorId),this.factoryWarehouseSelectedType=this.quoteDetails.factoryId?"factory":"warehouse",this.quoteDetails?.factoryId?(this.nearestPortArr=[],this.nearestPortArr.push(this.quoteDetails.factory.nearestPort),this.factoryWarehouseSelectedId=this.quoteDetails?.factoryId):this.quoteDetails.warehouseId&&(this.nearestPortArr=[],this.nearestPortArr.push(this.quoteDetails.warehouse.nearestPort),this.factoryWarehouseSelectedId=this.quoteDetails?.warehouseId),this.quoteDetails?.productTolerance.map((n,i)=>{this.addTolerance(n)}),this.quoteDetails?.customerProducts?.productArtworks.map(n=>{let i=n.split("/"),s=this.getFileType(i[i.length-1]);delete s.type,this.productArtworks.push({url:n,name:i[i.length-1],...s})}),this.quoteDetails?.customerProducts?.productAttachments.map(n=>{let i=n.split("/"),s=this.getFileType(i[i.length-1]);delete s.type,this.productAttachments.push({url:n,name:i[i.length-1],...s})}),this.quoteDetails?.adminQuotation.map((n,i)=>{this.addQuotation(n,!0)}),this.quoteDetails?.prePurchaseSampleQuantity&&this.ppsForm.patchValue({prePurchaseSampleProductionLeadTime:this.quoteDetails?.prePurchaseSampleProductionLeadTime,prePurchaseSampleQuantity:this.quoteDetails?.prePurchaseSampleQuantity,prePurchaseSampleTotalPrice:this.quoteDetails?.prePurchaseSampleTotalPrice}),this.quoteDetails?.oneTimeCost.map((n,i)=>{this.addItem(n)}),this.totalOneTimeCost(),this.isCasePackNotfied=this.quoteDetails?.customerProducts.productForm.hasOwnProperty("casePack"),this.isCasePackNotfied&&this.packagingForm.get("casePack")?.setValue(this.quoteDetails?.customerProducts.productForm.casePack),this.packagingForm.patchValue(this.quoteDetails),this.packagingForm.get("validUpto")?.setValue(q(this.quoteDetails.validUpto).format("YYYY-MM-DD"))):(this.quoteDetails=void 0,this._notifier.showWarning(e.meta.msg,""))},e=>{this.ngxLoaderService.stop()})}getCountryById(e){this._US.getCountryById(e).pipe((0,u.x)(()=>{this.ngxLoaderService.stop()})).subscribe(n=>{n.meta.status&&(this.factorycountryDetails=n?.data)})}getStateById(e){console.log("state"),this._US.getStateById(e).pipe((0,u.x)(()=>{this.ngxLoaderService.stop()})).subscribe(n=>{n.meta.status&&(this.factoryStateDetails=n?.data)})}getFactoryList(e){this._QS.getFactoryList(e).pipe((0,u.x)(()=>{})).subscribe(n=>{this.factoryList=n?.meta?.status?n.data:[]})}getWarehouseList(e){this._QS.getWarehouseList(e).pipe((0,u.x)(()=>{})).subscribe(n=>{this.warehouseList=n?.meta?.status?n.data:[]})}initForm(){this.ppsForm=this._FB.group({prePurchaseSampleQuantity:["",a.kI.required],prePurchaseSampleProductionLeadTime:["",a.kI.required],prePurchaseSampleTotalPrice:["",a.kI.required]}),this.packagingForm=this._FB.group({casePack:["",a.kI.required],validUpto:["",a.kI.required],dimension:this._FB.group({length:[0,a.kI.required],breadth:[0,a.kI.required],height:[0,a.kI.required]}),grossWeight:["",a.kI.required],shippingAddress:["",a.kI.required]}),this.oneTimeCostForm=this._FB.group({costsArray:new a.Oe([])}),this.quotationsForm=this._FB.group({shippingTerms:["",a.kI.required],quotationsArray:new a.Oe([])}),this.toleranceForm=this._FB.group({toleranceArray:new a.Oe([])})}get ppsFormControls(){return this.ppsForm.controls}get packagingFormControls(){return this.packagingForm.controls}get dimensionFormGroup(){return this.packagingForm.get("dimension")}get dimensionFormControls(){return this.dimensionFormGroup.controls}get oneTimeCostFormControls(){return this.oneTimeCostForm.controls.costsArray}get quotationsFormControls(){return this.quotationsForm.controls.quotationsArray}get quotationsFormGroupControls(){return this.quotationsForm.controls}get toleranceFormControls(){return this.toleranceForm.controls.toleranceArray}addTolerance(e){this.toleranceFormControls.push(this.toleranceItem(e))}addQuotation(e,n){this.quotationsFormControls.push(this.quotationItem(e,n))}toleranceItem(e){return this._FB.group({name:e?.name,measurement:e?.measurement||"---",...e.upperTolerance&&{upperTolerance:[e?.upperTolerance,a.kI.required],lowerTolerance:[e?.lowerTolerance,a.kI.required]},...e.upperTolerance&&{unit:[e?.unit,a.kI.required]}})}findValue(e){return 0==this.quoteDetails?.customerProducts?.productForm[e]?.length?"---":"object"==typeof this.quoteDetails?.customerProducts?.productForm[e]?`${this.quoteDetails?.customerProducts?.productForm[e].value} ${this.quoteDetails?.customerProducts?.productForm[e].unit}`:this.quoteDetails?.customerProducts?.productForm[e]}quotationItem(e,n){return this._FB.group({quantity:n?e?.quantity:e,quantityTolerance:n?e?.quantityTolerance:e,productionleadTime:n?e?.productionleadTime:"",pricePerPiece:n?e?.pricePerPiece:"",marginPercentPricePerPiece:n?e?.marginPercentPricePerPiece.toFixed(3):"",marginPricePerPiece:n?e?.marginPricePerPiece.toFixed(3):"",TotalPricePerPiece:n?e?.TotalPricePerPiece.toFixed(3):"",totalPrice:n?e?.totalPrice.toFixed(3):0,totalCbm:n?e?.totalCbm.toFixed(3):0,totalCartons:n?e?.totalCartons:"Carton"===this.quoteDetails?.customerProducts?.quantityType?e:0,totalWeight:n?e?.totalWeight:0})}createItem(e){return this._FB.group({name:[e?e?.name:"",a.kI.required],cost:[e?e?.cost:"",a.kI.required]})}addItem(e){this.oneTimeCostFormControls.push(this.createItem(e))}removeOneTimeCost(e){this.oneTimeCostForm.controls.costsArray.removeAt(e),this.totalOneTimeCost()}totalOneTimeCost(){let e=0;this.oneTimeCostForm.value.costsArray.map((n,i)=>{e+=n?.cost}),this.totalOneTimeCostNum=e}changeOfFactoryWarehouse(e){this.factoryWarehouseSelectedId=e?.target?.value;let n=this.factoryList.find(s=>s?._id===e?.target?.value),i=this.warehouseList.find(s=>s?._id===e?.target?.value);this.nearestPortArr=[],n&&(this.nearestPortArr.push(n.nearestPort),this.factoryWarehouseSelectedType="factory"),i&&(this.nearestPortArr.push(i.nearestPort),this.factoryWarehouseSelectedType="warehouse")}getFormGroup(e){return e}downloadImage(e){return(0,b.Z)(function*(){const i=yield(yield fetch(`${e}?pactap=1`)).blob(),s=e.substring(e.lastIndexOf("/")+1),l=document.createElement("a"),c=window.URL.createObjectURL(i);l.href=c,l.download=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(e)})()}getFileType(e){const n=e.lastIndexOf(".");if(-1===n)return"File name has no extension";switch(e.substring(n+1).toLowerCase()){case"jpg":case"jpeg":case"png":return{type:"Image file",isImage:!0};case"pdf":return{type:"PDF file",isPdf:!0};case"doc":case"docx":return{type:"Word document",isWord:!0};case"txt":return{type:"Text file",isText:!0};case"ai":return{type:"Adobe Illustrator file",isIllustrator:!0};case"cdr":return{type:"CorelDRAW file",isCorelDraw:!0};case"xls":return{type:"Excel spreadsheet",isExcel:!0};case"csv":return{type:"CSV file",isExcel:!0};default:return"Unknown file type"}}changePrice(e){e.get("totalPrice")?.setValue(Number(e.value.pricePerPiece)*e.value.quantity)}changeCasepack(e){this.quotationsFormControls.controls.map(i=>{"CARTON"===this.quoteDetails?.customerProducts?.quantityType.toUpperCase()||i.get("totalCartons")?.setValue((e.target.value?i.value.quantity/Number(e.target.value):0).toFixed())})}changeLbh(e){this.quotationsFormControls.controls.map(n=>{let i=Number(n.get("totalCartons")?.value);Number(this.dimensionFormGroup.get("length")?.value)&&Number(this.dimensionFormGroup.get("breadth")?.value)&&Number(this.dimensionFormGroup.get("height")?.value)&&n.get("totalCbm")?.setValue(Number(this.dimensionFormGroup.get("length")?.value||0)*Number(this.dimensionFormGroup.get("breadth")?.value||0)*Number(this.dimensionFormGroup.get("height")?.value||0)*16387064e-12*i)})}oneTimeCost(){this._QS.getAppConfigByKey("ONE_TIME_COST").pipe((0,u.x)(()=>{})).subscribe(e=>{e.meta.status?this.costsList=e.data.value.split("|").map(n=>n.trim()):this._notifier.showError(e.meta.msg,"Error")})}shippingTerm(){this._QS.getAppConfigByKey("SHIPPING_TERMS_VALUE").pipe((0,u.x)(()=>{})).subscribe(e=>{e.meta.status?(this.shippingTermsList=e.data.value.split("|"),this.shippingTermsList=this.shippingTermsList.map(n=>n.trim())):this._notifier.showError(e.meta.msg,"Error")})}isSelected(e){this.oneTimeCostForm.value.costsArray.map((n,i)=>n?.name===e)}updateQuotation(){if(this.quotationsForm.valid){this.isLoading=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},adminQuotation:this.quotationsForm.value.quotationsArray,shippingTerms:this.quotationsForm.value.shippingTerms};this._QS.updateQuotation(e).pipe((0,u.x)(()=>{this.isLoading=!1})).subscribe(n=>{n.meta.status?(this.getQuoteDetails(),this._notifier.showSuccess(n.meta.msg,"Success")):this._notifier.showWarning(n.meta.msg,"Error")},n=>{this._notifier.showError("Something Went Wrong","Error")})}else this.quotationFormSubmittied=!0}updateTolerance(){if(this.toleranceForm.valid){this.isLoadingTolerance=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},productTolerance:this.toleranceForm.value.toleranceArray};this._QS.updateTolerance(e).pipe((0,u.x)(()=>{this.isLoadingTolerance=!1})).subscribe(n=>{n.meta.status?this._notifier.showSuccess(n.meta.msg,"Success"):this._notifier.showWarning(n.meta.msg,"Error")},n=>{this._notifier.showError("Something Went Wrong","Error")})}else this.toleranceFormSubmittied=!0}updatePPS(){if(this.ppsForm.valid){this.isLoadingPps=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},...this.ppsForm.value};this._QS.updatePPS(e).pipe((0,u.x)(()=>{this.isLoadingPps=!1})).subscribe(n=>{n.meta.status?this._notifier.showSuccess(n.meta.msg,"Success"):this._notifier.showWarning(n.meta.msg,"Error")},n=>{this._notifier.showError("Something Went Wrong","Error")})}else this.ppsFormSubmittied=!0}updateOneTimeCost(){if(this.oneTimeCostForm.valid){this.isLoadingOneTime=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},oneTimeCost:this.oneTimeCostForm.value.costsArray,totalOneTimeCost:this.totalOneTimeCostNum};this._QS.updateOneTimeCost(e).pipe((0,u.x)(()=>{this.isLoadingOneTime=!1})).subscribe(n=>{n.meta.status?this._notifier.showSuccess(n.meta.msg,"Success"):this._notifier.showWarning(n.meta.msg,"Error")},n=>{this._notifier.showError("Something Went Wrong","Error")})}else this.oneTimeFormSubmitted=!0}updatePackaging(){if(this.packagingForm.valid){this.packagingForm.value.validUpto=q(this.packagingForm.value.validUpto).valueOf(),this.isLoadingPackaging=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},...this.packagingForm.value};this._QS.updatePackaging(e).pipe((0,u.x)(()=>{this.isLoadingPackaging=!1})).subscribe(n=>{n.meta.status?this._notifier.showSuccess(n.meta.msg,"Success"):this._notifier.showWarning(n.meta.msg,"Error")},n=>{this._notifier.showError("Something Went Wrong","Error")})}else this.packagingFormSubmittied=!0}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(Q.K),t.Y36(Z),t.Y36(y.lG),t.Y36(v.LA),t.Y36(f.gz),t.Y36(a.qu))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-detail"]],decls:223,vars:89,consts:[[1,"dashboardMain"],[1,"bg-white","white-well"],[1,"row","align-items-center"],[1,"col-7","col-sm-7","col-md-8","col-lg-8"],[1,"page-header","d-flex","justify-content-between"],[1,"mb-0"],["href","javascript:history.back()",1,"back-arrow"],[1,"bi","bi-arrow-left-short","me-4"],[1,"text-success"],[1,"profile-info"],[4,"ngIf"],[1,"fw400","form-box","d-flex","align-items-center","text-nowrap"],[1,"form-group","mb-0","ms-3","col-md-8"],[1,"form-control","form-ctrl","greenborder",3,"ngModel","ngModelChange","change"],["label","Factory"],[3,"value",4,"ngFor","ngForOf"],["label","Warehouse"],["class","col-5 col-sm-5 col-md-4 col-lg-4 text-end",4,"ngIf"],[1,"row","justify-content-between"],[1,"col-12","col-sm-4","col-md-4","col-lg-4"],[1,"quotations-script","bg-success-light"],[1,"mb-0","text-white"],["class","col-6 col-sm-3 col-md-2 col-lg-2 text-end",4,"ngIf"],[1,"product-item","p-0","quotations-product-item","mb-0"],[1,"row"],[1,"col-12","col-sm-7","col-md-8","col-lg-8","col-xl-8"],[1,"table-card"],[1,"table-reponsive"],[3,"formGroup"],[1,"table","table-bordered","table-lg"],[1,"table-success","text-white"],[2,"width","40%"],[3,"formGroup",4,"ngFor","ngForOf"],[1,"col-12","col-sm-5","col-md-4","col-lg-4","col-xl-4"],[1,"product-body"],[1,"mb-2"],["id","carouselExampleControls","data-bs-ride","carousel",1,"carousel","slide","mb-3"],["class","carousel-inner",4,"ngIf"],["class","carousel-control-prev printPageButton","type","button","data-bs-target","#carouselExampleControls","data-bs-slide","prev",4,"ngIf"],["class","carousel-control-next printPageButton","type","button","data-bs-target","#carouselExampleControls","data-bs-slide","next",4,"ngIf"],["href","javascript:void(0)",1,"downloadButton",3,"click"],[1,"bi","bi-box-arrow-in-down"],[1,"d-sm-inline-block","ms-3","text-dark","fw500"],[1,"mb-3"],["class","row",4,"ngIf"],[1,"table","table-bordered","tblbordersolid","table-lg"],[2,"width","30%"],["class","",3,"formGroup",4,"ngFor","ngForOf"],["class","text-center",3,"formGroup",4,"ngFor","ngForOf"],[1,"table-success-light"],["class","text-end",4,"ngIf"],[1,"col-12","col-sm-5","col-md-5","col-lg-5"],[1,"bg-white","white-well","mb-2"],[1,"form-box"],[1,"form-group"],["type","text","placeholder","Product Lead Time","formControlName","prePurchaseSampleQuantity",1,"form-control","form-ctrl","greenborder",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Production Lead Time","formControlName","prePurchaseSampleProductionLeadTime",1,"form-control","form-ctrl","greenborder",3,"ngClass"],[1,"form-group","mb-0"],["type","text","placeholder","Price","formControlName","prePurchaseSampleTotalPrice",1,"form-control","form-ctrl","greenborder",3,"ngClass"],["class","text-end mt-3",4,"ngIf"],[1,"col-12","col-sm-7","col-md-7","col-lg-7","mb-0"],[1,"bg-white","white-well","mb-0"],[1,"table-card","mb-2"],[1,"table","table-bordered","table-lg","form-box"],[1,"table-secondary"],["formArrayName","costsArray"],[4,"ngFor","ngForOf"],[1,"bg-white","white-well","mt-4"],[1,"form-box",3,"formGroup"],[1,"formflex","justify-content-between"],["type","text","placeholder","Case Pack","formControlName","casePack",1,"form-control","form-ctrl","greenborder",3,"ngClass","keyup"],["style","display: block;","class","invalid-feedback",4,"ngIf"],["type","date","placeholder","DD/MM/YYYY","formControlName","validUpto",1,"form-control","form-ctrl","datePicker","greenborder",3,"ngClass"],[1,"text-success","fw300"],["formGroupName","dimension",1,"row"],[1,"col-md-4","col-4"],["type","number","placeholder","L","formControlName","length",1,"form-control","form-ctrl","greenborder","text-center",3,"ngClass","keyup"],["type","number","placeholder","B","formControlName","breadth",1,"form-control","form-ctrl","greenborder","text-center",3,"ngClass","keyup"],["type","number","placeholder","H","formControlName","height",1,"form-control","form-ctrl","greenborder","text-center",3,"ngClass","keyup"],["class","invalid-feedback","style","display: block;",4,"ngIf"],["type","text","placeholder","Gross Weight","formControlName","grossWeight",1,"form-control","form-ctrl","greenborder",3,"ngClass"],["class","form-group",4,"ngIf"],[3,"value"],[1,"col-5","col-sm-5","col-md-4","col-lg-4","text-end"],[1,"column-btns","d-grid","align-items-center","justify-content-end"],[1,"form-box","form-filter"],["href","javascript:void(0)",1,"btn","btn-sumbit","btn-outline-success",3,"routerLink"],[1,"col-6","col-sm-3","col-md-2","col-lg-2","text-end"],[1,"btn","btn-sumbit","btn-success","btn-block",3,"disabled","click"],[1,"fa",3,"ngClass"],["type","text","readonly","","formControlName","name",1,"form-control","form-ctrl","showastext"],["type","text","formControlName","measurement",1,"form-control","form-ctrl","showastext"],["class","text-center",4,"ngIf"],[1,"col-md-6"],["for","lowerLimit",1,"mb-2"],[1,"inputPercentage"],["type","number","placeholder","30","formControlName","lowerTolerance",1,"form-control","form-ctrl","greenborder","fs12"],["for","upperLimit",1,"mb-2"],["type","number","placeholder","30","formControlName","upperTolerance",1,"form-control","form-ctrl","greenborder","fs12"],[1,"text-center"],[1,"carousel-inner"],["class","carousel-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"carousel-item",3,"ngClass"],["alt","...",1,"d-block","w-100",3,"src"],[1,"carousel-item","active"],["src","assets/images/no-img.png","alt","...",1,"d-block","w-100"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","prev",1,"carousel-control-prev","printPageButton"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","next",1,"carousel-control-next","printPageButton"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"mb-2","mt-4"],["class","form-check-inline text-center",4,"ngFor","ngForOf"],[1,"form-check-inline","text-center"],[1,"alert-photo"],[1,"alert-photo-img"],[3,"src","alt",4,"ngIf"],["src","assets/images/cdr.png",3,"alt",4,"ngIf"],["src","assets/images/pdf.png",3,"alt",4,"ngIf"],["src","assets/images/excel.png",3,"alt",4,"ngIf"],["src","assets/images/xls.png",3,"alt",4,"ngIf"],["src","assets/images/illustrator.png",3,"alt",4,"ngIf"],[3,"src","alt"],["src","assets/images/cdr.png",3,"alt"],["src","assets/images/pdf.png",3,"alt"],["src","assets/images/excel.png",3,"alt"],["src","assets/images/xls.png",3,"alt"],["src","assets/images/illustrator.png",3,"alt"],[1,"product-body","mt-4"],[1,"col-md-6","col-lg-6","col-xl-6"],["formControlName","shippingTerms",1,"form-control","form-ctrl","greenborder",3,"ngClass"],[1,"invalid-feedback"],[1,"",3,"formGroup"],[1,"listtitlegreen"],["type","text","placeholder","","readonly","","formControlName","quantity",1,"form-control","form-ctrl","showastext2"],[1,"text-center",3,"formGroup"],[1,"listcontentgreen"],["type","text","placeholder","","formControlName","productionleadTime",1,"form-control","form-ctrl"],["type","text","placeholder","","formControlName","pricePerPiece",1,"form-control","form-ctrl",3,"keyup"],["type","text","placeholder","","formControlName","marginPercentPricePerPiece",1,"form-control","form-ctrl",3,"keyup"],[1,"d-flex","align-items-center"],[1,"listtitlegreen",2,"margin-left","5px"],["type","text","placeholder","","readonly","","formControlName","marginPricePerPiece",1,"form-control","form-ctrl","showastext2",2,"font-size","1rem","font-weight","400","color","#212529"],["type","text","placeholder","","readonly","","formControlName","TotalPricePerPiece",1,"form-control","form-ctrl","showastext2",2,"font-size","1rem","font-weight","400","color","#212529"],["type","text","placeholder","","readonly","","formControlName","totalPrice",1,"form-control","form-ctrl","showastext2",2,"font-size","1rem","font-weight","400","color","#212529"],["type","text","placeholder","","readonly","","formControlName","totalCbm",1,"form-control","form-ctrl","showastext2",2,"font-size","1rem","font-weight","400","color","#212529"],["type","text","placeholder","","readonly","","formControlName","totalCartons",1,"form-control","form-ctrl","showastext2",2,"font-size","1rem","font-weight","400","color","#212529"],["type","text","placeholder","","readonly","","formControlName","totalWeight",1,"form-control","form-ctrl","showastext2",2,"font-size","1rem","font-weight","400","color","#212529"],[1,"text-end"],[1,"btn","btn-sumbit","btn-success","col-md-2",3,"disabled","click"],[1,"text-end","mt-3"],[1,"btn","btn-sumbit","btn-success","col-md-2",2,"width","45%",3,"disabled","click"],[3,"formGroupName"],[1,"addProperyName"],[1,"width100"],["formControlName","name",1,"form-control","form-ctrl","greenborder"],["value",""],[3,"value","disabled",4,"ngFor","ngForOf"],["type","number","placeholder","30,000","formControlName","cost",1,"form-control","form-ctrl","greenborder",3,"keyup"],[1,"delete_add"],["href","javascript:void(0)","class","me-3",3,"click",4,"ngIf"],["href","javascript:void(0)",3,"click",4,"ngIf"],[3,"value","disabled"],[1,"invalid-feedback",2,"display","block"],["href","javascript:void(0)",1,"me-3",3,"click"],[1,"fa","fa-trash-o"],["href","javascript:void(0)",3,"click"],[1,"fa","fa-plus"],[1,"badge","bg-success"],["class","form-control form-ctrl greenborder","formControlName","shippingAddress",3,"ngClass",4,"ngIf"],["class","form-ctrl form-control","formControlName","shippingAddress",3,"ngClass",4,"ngIf"],["formControlName","shippingAddress",1,"form-control","form-ctrl","greenborder",3,"ngClass"],["formControlName","shippingAddress",1,"form-ctrl","form-control",3,"ngClass"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5)(6,"a",6),t._UZ(7,"i",7),t.qZA(),t._uU(8," Quoting "),t.TgZ(9,"span",8),t._uU(10),t.qZA()()(),t.TgZ(11,"div",9)(12,"h6")(13,"small",8),t._uU(14),t.qZA()(),t.TgZ(15,"h6")(16,"small",8),t._uU(17),t.qZA()(),t.TgZ(18,"h6")(19,"small",8),t._uU(20),t.qZA()(),t.TgZ(21,"h6")(22,"em")(23,"span",8),t.YNc(24,lt,2,1,"ng-container",10),t.TgZ(25,"small"),t._uU(26),t._uU(27),t.qZA()()()(),t.TgZ(28,"h6")(29,"small",8),t._uU(30),t.qZA()(),t.TgZ(31,"h6",11),t._uU(32,"Quoting From: "),t.TgZ(33,"div",12)(34,"select",13),t.NdJ("ngModelChange",function(l){return i.factoryWarehouseSelectedId=l})("change",function(l){return i.changeOfFactoryWarehouse(l)}),t.TgZ(35,"optgroup",14),t.YNc(36,at,2,7,"option",15),t.qZA(),t.TgZ(37,"optgroup",16),t.YNc(38,ut,2,7,"option",15),t.qZA()()()()()(),t.YNc(39,mt,5,3,"div",17),t.qZA()(),t.TgZ(40,"div",1)(41,"div",18)(42,"div",19)(43,"div",20)(44,"h4",21),t._uU(45,"Product Details"),t.qZA()()(),t.YNc(46,pt,4,4,"div",22),t.qZA(),t.TgZ(47,"div",23)(48,"div",24)(49,"div",25)(50,"div",26)(51,"div",27)(52,"form",28)(53,"table",29)(54,"thead")(55,"tr",30)(56,"td"),t._uU(57,"Details"),t.qZA(),t.TgZ(58,"td"),t._uU(59,"Measurements"),t.qZA(),t.TgZ(60,"td",31),t._uU(61,"Tolerances"),t.qZA()()(),t.TgZ(62,"tbody"),t.YNc(63,ft,7,3,"tr",32),t.qZA()()()()()(),t.TgZ(64,"div",33)(65,"div",34)(66,"h6",35),t._uU(67,"Product Images:"),t.qZA()(),t.TgZ(68,"div")(69,"div",36),t.YNc(70,Zt,2,1,"div",37),t.YNc(71,vt,3,0,"div",37),t.YNc(72,Ct,4,0,"button",38),t.YNc(73,xt,4,0,"button",39),t.qZA(),t.TgZ(74,"a",40),t.NdJ("click",function(){return i.downloadImage(null==i.quoteDetails||null==i.quoteDetails.product?null:i.quoteDetails.product.productImg[i.selectedImage])}),t._uU(75,"Download "),t._UZ(76,"i",41),t.qZA()(),t.YNc(77,Dt,6,1,"ng-container",10),t.YNc(78,Lt,6,1,"ng-container",10),t.qZA()()()(),t.TgZ(79,"div",1)(80,"div",20)(81,"h4",21),t._uU(82,"Quotations"),t.qZA()(),t.TgZ(83,"p",42),t._uU(84),t.qZA(),t.TgZ(85,"form",28)(86,"div",43),t.YNc(87,Vt,9,4,"div",44),t.TgZ(88,"div",27)(89,"table",45)(90,"thead")(91,"tr",30)(92,"td",46),t._uU(93,"Quantity"),t.qZA(),t.YNc(94,Wt,5,2,"td",47),t.qZA()(),t.TgZ(95,"tbody")(96,"tr")(97,"td",8),t._uU(98,"Production Lead Time (In Days):"),t.qZA(),t.YNc(99,Mt,3,1,"td",48),t.qZA(),t.TgZ(100,"tr")(101,"td",8),t._uU(102),t.qZA(),t.YNc(103,$t,3,1,"td",48),t.qZA(),t.TgZ(104,"tr")(105,"td",8),t._uU(106),t.qZA(),t.YNc(107,Et,3,1,"td",48),t.qZA(),t.TgZ(108,"tr")(109,"td",8),t._uU(110),t.qZA(),t.YNc(111,jt,5,2,"td",32),t.qZA(),t.TgZ(112,"tr")(113,"td",8),t._uU(114),t.qZA(),t.YNc(115,Rt,5,2,"td",32),t.qZA(),t.TgZ(116,"tr",49)(117,"td",8),t._uU(118,"Grand Total Price:"),t.qZA(),t.YNc(119,Kt,5,2,"td",32),t.qZA(),t.TgZ(120,"tr")(121,"td",8),t._uU(122,"Total CBM:"),t.qZA(),t.YNc(123,Bt,3,1,"td",47),t.qZA(),t.TgZ(124,"tr")(125,"td",8),t._uU(126,"Total Cartons:"),t.qZA(),t.YNc(127,Ht,3,1,"td",47),t.qZA(),t.TgZ(128,"tr")(129,"td",8),t._uU(130,"Total Weight:"),t.qZA(),t.YNc(131,zt,3,1,"td",47),t.qZA()()()()(),t.YNc(132,Xt,4,4,"div",50),t.qZA()(),t.TgZ(133,"div",24)(134,"div",51)(135,"div",52)(136,"div",20)(137,"h4",21),t._uU(138,"PPS"),t.qZA()(),t.TgZ(139,"form",28)(140,"div",53)(141,"div",54)(142,"label"),t._uU(143,"PPS Quantity "),t.TgZ(144,"small",8),t._uU(145,":"),t.qZA()(),t._UZ(146,"input",55),t.YNc(147,ee,2,1,"div",56),t.qZA(),t.TgZ(148,"div",54)(149,"label"),t._uU(150,"Production Lead Time "),t.TgZ(151,"small",8),t._uU(152,"(In Days):"),t.qZA()(),t._UZ(153,"input",57),t.YNc(154,ie,2,1,"div",56),t.qZA(),t.TgZ(155,"div",58)(156,"label"),t._uU(157,"Grand Total Price:"),t.qZA(),t._UZ(158,"input",59),t.YNc(159,re,2,1,"div",56),t.qZA()(),t.YNc(160,se,4,4,"div",60),t.qZA()()(),t.TgZ(161,"div",61)(162,"div",62)(163,"div",20)(164,"h4",21),t._uU(165,"One Time Cost"),t.qZA()(),t.TgZ(166,"div",63)(167,"div",27)(168,"table",64)(169,"thead")(170,"tr",65)(171,"td",31),t._uU(172,"One Time Cost"),t.qZA(),t.TgZ(173,"td"),t._uU(174,"Cost"),t.qZA()()(),t.TgZ(175,"tbody"),t.ynx(176,28)(177,66),t.YNc(178,ge,21,6,"tr",67),t.BQk()(),t.qZA()()()(),t.TgZ(179,"p"),t._uU(180),t.qZA()()()(),t.YNc(181,_e,4,4,"div",50),t.TgZ(182,"div",68)(183,"div",20)(184,"h4",21),t._uU(185,"Packaging Details"),t.qZA()(),t.YNc(186,he,4,1,"h6",10),t.TgZ(187,"div",69)(188,"div",70)(189,"div",54)(190,"label"),t._uU(191,"Case Pack"),t.qZA(),t.TgZ(192,"input",71),t.NdJ("keyup",function(l){return i.changeCasepack(l)}),t.qZA(),t.YNc(193,qe,2,1,"div",72),t.qZA(),t.TgZ(194,"div",54)(195,"label"),t._uU(196,"Valid Upto"),t.qZA(),t._UZ(197,"input",73),t.YNc(198,Ze,2,1,"div",72),t.qZA(),t.TgZ(199,"div",54)(200,"label"),t._uU(201,"Carton Dimensions "),t.TgZ(202,"span",74),t._uU(203,"(in Inches)"),t.qZA()(),t.TgZ(204,"div",75)(205,"div",76)(206,"input",77),t.NdJ("keyup",function(l){return i.changeLbh(l)}),t.qZA()(),t.TgZ(207,"div",76)(208,"input",78),t.NdJ("keyup",function(l){return i.changeLbh(l)}),t.qZA()(),t.TgZ(209,"div",76)(210,"input",79),t.NdJ("keyup",function(l){return i.changeLbh(l)}),t.qZA()(),t.YNc(211,Ce,2,1,"div",80),t.YNc(212,be,2,1,"div",80),t.YNc(213,ye,2,1,"div",80),t.qZA()(),t.TgZ(214,"div",54)(215,"label"),t._uU(216,"Gross Weight "),t.TgZ(217,"span",74),t._uU(218,"(per case in kg)"),t.qZA()(),t._UZ(219,"input",81),t.YNc(220,we,2,1,"div",56),t.qZA()(),t.YNc(221,We,8,7,"div",82),t.qZA(),t.YNc(222,Me,4,4,"div",50),t.qZA()()),2&n&&(t.xp6(10),t.hij("",null==i.quoteDetails||null==i.quoteDetails.product?null:i.quoteDetails.product.productName,","),t.xp6(4),t.hij(" Quote ID : ",null==i.quoteDetails?null:i.quoteDetails.quoteId,""),t.xp6(3),t.hij("Product ID : ",null==i.quoteDetails||null==i.quoteDetails.product?null:i.quoteDetails.product.productId,""),t.xp6(3),t.hij("CustomerProductID : ",null==i.quoteDetails||null==i.quoteDetails.customerProducts?null:i.quoteDetails.customerProducts.customerProductId,""),t.xp6(4),t.Q6J("ngIf",null==i.quoteDetails||null==i.quoteDetails.vendor?null:i.quoteDetails.vendor.inviteBy),t.xp6(2),t.hij("Customer ID : ",null==i.quoteDetails||null==i.quoteDetails.customerLogin?null:i.quoteDetails.customerLogin.customerId," "),t.xp6(1),t.hij(" ,(",null==i.quoteDetails||null==i.quoteDetails.customer||null==i.quoteDetails.customer.countryObj?null:i.quoteDetails.customer.countryObj.name,")"),t.xp6(3),t.HOy("vendorId : ",null==i.quoteDetails||null==i.quoteDetails.vendor?null:i.quoteDetails.vendor.vendorId," (",null==i.quoteDetails||null==i.quoteDetails.factory?null:i.quoteDetails.factory.cityName," , ",null==i.factoryStateDetails?null:i.factoryStateDetails.name," , ",null==i.factorycountryDetails?null:i.factorycountryDetails.name,")"),t.xp6(4),t.Q6J("ngModel",i.factoryWarehouseSelectedId),t.xp6(2),t.Q6J("ngForOf",i.factoryList),t.xp6(2),t.Q6J("ngForOf",i.warehouseList),t.xp6(1),t.Q6J("ngIf",null==i.quoteDetails?null:i.quoteDetails.isRequote),t.xp6(7),t.Q6J("ngIf",i.quotePermission.update),t.xp6(6),t.Q6J("formGroup",i.toleranceForm),t.xp6(11),t.Q6J("ngForOf",i.toleranceFormControls.controls),t.xp6(7),t.Q6J("ngIf",0!=(null==i.quoteDetails||null==i.quoteDetails.customerProducts?null:i.quoteDetails.customerProducts.productImages.length)),t.xp6(1),t.Q6J("ngIf",0==(null==i.quoteDetails||null==i.quoteDetails.customerProducts?null:i.quoteDetails.customerProducts.productImages.length)),t.xp6(1),t.Q6J("ngIf",(null==i.quoteDetails||null==i.quoteDetails.customerProducts?null:i.quoteDetails.customerProducts.productImages.length)>1),t.xp6(1),t.Q6J("ngIf",(null==i.quoteDetails||null==i.quoteDetails.customerProducts?null:i.quoteDetails.customerProducts.productImages.length)>1),t.xp6(4),t.Q6J("ngIf",i.productArtworks.length),t.xp6(1),t.Q6J("ngIf",i.productAttachments.length),t.xp6(6),t.hij("Quote ",i.shippingTermString," Prices"),t.xp6(1),t.Q6J("formGroup",i.quotationsForm),t.xp6(2),t.Q6J("ngIf",null==i.quoteDetails||null==i.quoteDetails.vendor?null:i.quoteDetails.vendor.inviteBy),t.xp6(7),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(5),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(3),t.hij("Price Per ",null==i.quoteDetails||null==i.quoteDetails.customerProducts?null:i.quoteDetails.customerProducts.quantityType,": "),t.xp6(1),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(3),t.hij("Margin % Per ",null==i.quoteDetails||null==i.quoteDetails.customerProducts?null:i.quoteDetails.customerProducts.quantityType,":"),t.xp6(1),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(3),t.hij("Margin Price Per ",null==i.quoteDetails||null==i.quoteDetails.customerProducts?null:i.quoteDetails.customerProducts.quantityType,":"),t.xp6(1),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(3),t.hij("Total Price Per ",null==i.quoteDetails||null==i.quoteDetails.customerProducts?null:i.quoteDetails.customerProducts.quantityType,":"),t.xp6(1),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(4),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(4),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(4),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(4),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(1),t.Q6J("ngIf",i.quotePermission.update),t.xp6(7),t.Q6J("formGroup",i.ppsForm),t.xp6(7),t.Q6J("ngClass",t.VKq(71,d,i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleQuantity.errors)),t.xp6(1),t.Q6J("ngIf",i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleQuantity.errors),t.xp6(6),t.Q6J("ngClass",t.VKq(73,d,i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleProductionLeadTime.errors)),t.xp6(1),t.Q6J("ngIf",i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleProductionLeadTime.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(75,d,i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleTotalPrice.errors)),t.xp6(1),t.Q6J("ngIf",i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleTotalPrice.errors),t.xp6(1),t.Q6J("ngIf",i.quotePermission.update),t.xp6(16),t.Q6J("formGroup",i.oneTimeCostForm),t.xp6(2),t.Q6J("ngForOf",i.oneTimeCostFormControls.controls),t.xp6(2),t.AsE("Total One Time Cost: ",null==i.quoteDetails?null:i.quoteDetails.currency," ",i.totalOneTimeCostNum,""),t.xp6(1),t.Q6J("ngIf",i.quotePermission.update),t.xp6(5),t.Q6J("ngIf",i.isCasePackNotfied),t.xp6(1),t.Q6J("formGroup",i.packagingForm),t.xp6(5),t.Q6J("ngClass",t.VKq(77,d,i.packagingFormSubmittied&&i.packagingFormControls.casePack.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&i.packagingFormControls.casePack.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(79,d,i.packagingFormSubmittied&&i.packagingFormControls.validUpto.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&i.packagingFormControls.validUpto.errors),t.xp6(8),t.Q6J("ngClass",t.VKq(81,d,i.packagingFormSubmittied&&i.dimensionFormControls.length.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(83,d,i.packagingFormSubmittied&&i.dimensionFormControls.breadth.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(85,d,i.packagingFormSubmittied&&i.dimensionFormControls.height.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&(null==i.dimensionFormControls.length?null:i.dimensionFormControls.length.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&(null==i.dimensionFormControls.breadth?null:i.dimensionFormControls.breadth.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&(null==i.dimensionFormControls.height?null:i.dimensionFormControls.height.errors)),t.xp6(6),t.Q6J("ngClass",t.VKq(87,d,i.packagingFormSubmittied&&i.packagingFormControls.grossWeight.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&i.packagingFormControls.grossWeight.errors),t.xp6(1),t.Q6J("ngIf",i.packagingForm.value.hasOwnProperty("shippingAddress")),t.xp6(1),t.Q6J("ngIf",i.quotePermission.update))},dependencies:[f.rH,m.mk,m.sg,m.O5,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.On,a.sg,a.u,a.x0,a.CE,m.rS]})}return o})();var x=p(19631);function Ee(o,r){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",null==e.quoteDetails||null==e.quoteDetails.customer?null:e.quoteDetails.customer.companyName,", ")}}function je(o,r){if(1&o&&(t.TgZ(0,"option",87),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",null==e?null:e._id),t.xp6(1),t.gL8(" ",null==e?null:e.warehouseName,"",null==e?null:e.factoryName,",",null==e?null:e.addressLine1,",",null==e?null:e.cityName,",",null==e||null==e.state?null:e.state.name,",",null==e||null==e.country?null:e.country.name," ")}}function Re(o,r){if(1&o&&(t.TgZ(0,"option",87),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",null==e?null:e._id),t.xp6(1),t.gL8(" ",null==e?null:e.warehouseName,"",null==e?null:e.factoryName,",",null==e?null:e.addressLine1,",",null==e?null:e.cityName,",",null==e||null==e.state?null:e.state.name,",",null==e||null==e.country?null:e.country.name," ")}}const Ke=function(o){return["/quotes/detail",o]};function Be(o,r){if(1&o&&(t.TgZ(0,"div",88)(1,"div",89)(2,"div",90)(3,"a",91),t._uU(4,"View Previous Quotes"),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("routerLink",t.VKq(1,Ke,null==e.quoteDetails?null:e.quoteDetails.previousQuoteId))}}const A=function(o){return{"fa-spin fa-spinner":o}};function He(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",92)(1,"button",93),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.updateTolerance())}),t._UZ(2,"i",94),t._uU(3," Save "),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.isLoadingTolerance),t.xp6(1),t.Q6J("ngClass",t.VKq(2,A,e.isLoadingTolerance))}}function ze(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"%"),t.qZA())}function Xe(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"%"),t.qZA())}function to(o,r){if(1&o&&(t.TgZ(0,"td")(1,"div",74)(2,"div",24)(3,"div",98)(4,"label",99),t._uU(5,"Lower Limit"),t.qZA(),t.TgZ(6,"div",58)(7,"div",100),t._UZ(8,"input",101),t.YNc(9,ze,2,0,"span",10),t.qZA()()(),t.TgZ(10,"div",98)(11,"label",102),t._uU(12,"Upper Limit"),t.qZA(),t.TgZ(13,"div",58)(14,"div",100),t._UZ(15,"input",103),t.YNc(16,Xe,2,0,"span",10),t.qZA()()()()()()),2&o){const e=t.oxw().$implicit;t.xp6(9),t.Q6J("ngIf","percentage"===(null==e||null==e.value?null:e.value.unit)),t.xp6(7),t.Q6J("ngIf","percentage"===(null==e||null==e.value?null:e.value.unit))}}function eo(o,r){1&o&&(t.TgZ(0,"td",104),t._uU(1," ---- "),t.qZA())}function oo(o,r){if(1&o&&(t.TgZ(0,"tr",28)(1,"td"),t._UZ(2,"input",95),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"input",96),t.qZA(),t.YNc(5,to,17,2,"td",10),t.YNc(6,eo,2,0,"td",97),t.qZA()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e)),t.xp6(5),t.Q6J("ngIf",e.value.hasOwnProperty("lowerTolerance")),t.xp6(1),t.Q6J("ngIf",!e.value.hasOwnProperty("lowerTolerance"))}}const io=function(o){return{active:o}};function no(o,r){if(1&o&&(t.TgZ(0,"div",105),t._UZ(1,"img",106),t.qZA()),2&o){const e=r.$implicit;t.Q6J("ngClass",t.VKq(2,io,0===r.index)),t.xp6(1),t.Q6J("src",e,t.LSH)}}function ro(o,r){if(1&o&&t._UZ(0,"img",118),2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function so(o,r){if(1&o&&t._UZ(0,"img",119),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function lo(o,r){if(1&o&&t._UZ(0,"img",120),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function ao(o,r){if(1&o&&t._UZ(0,"img",121),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function uo(o,r){if(1&o&&t._UZ(0,"img",122),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function co(o,r){if(1&o&&t._UZ(0,"img",123),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function mo(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",109)(1,"div",110)(2,"div",111),t.YNc(3,ro,1,2,"img",112),t.YNc(4,so,1,1,"img",113),t.YNc(5,lo,1,1,"img",114),t.YNc(6,ao,1,1,"img",115),t.YNc(7,uo,1,1,"img",116),t.YNc(8,co,1,1,"img",117),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()(),t.TgZ(11,"div")(12,"a",43),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.downloadImage(s.url))}),t._uU(13,"Download "),t._UZ(14,"i",44),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function po(o,r){if(1&o&&(t.ynx(0),t.TgZ(1,"div",33)(2,"h6",107),t._uU(3,"Artwork:"),t.qZA()(),t.TgZ(4,"div",58),t.YNc(5,mo,15,7,"div",108),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.productArtworks)}}function go(o,r){if(1&o&&t._UZ(0,"img",118),2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function _o(o,r){if(1&o&&t._UZ(0,"img",119),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function ho(o,r){if(1&o&&t._UZ(0,"img",120),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function fo(o,r){if(1&o&&t._UZ(0,"img",121),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function qo(o,r){if(1&o&&t._UZ(0,"img",122),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function To(o,r){if(1&o&&t._UZ(0,"img",123),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Zo(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",109)(1,"div",110)(2,"div",111),t.YNc(3,go,1,2,"img",112),t.YNc(4,_o,1,1,"img",113),t.YNc(5,ho,1,1,"img",114),t.YNc(6,fo,1,1,"img",115),t.YNc(7,qo,1,1,"img",116),t.YNc(8,To,1,1,"img",117),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()(),t.TgZ(11,"div")(12,"a",43),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.downloadImage(s.url))}),t._uU(13,"Download "),t._UZ(14,"i",44),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function vo(o,r){if(1&o&&(t.ynx(0),t.TgZ(1,"div",124)(2,"h6",34),t._uU(3,"Additional Attachments:"),t.qZA()(),t.TgZ(4,"div",58),t.YNc(5,Zo,15,7,"div",108),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.productAttachments)}}function Co(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Shipping term is required. "),t.qZA())}function xo(o,r){if(1&o&&(t.TgZ(0,"div",127),t.YNc(1,Co,2,0,"div",10),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.quotationsFormGroupControls.shippingTerms.errors.required)}}const g=function(o){return{"is-invalid":o}};function bo(o,r){if(1&o&&(t.TgZ(0,"div",24)(1,"div",125)(2,"div",58)(3,"label"),t._uU(4,"Shipping Terms"),t.qZA(),t.TgZ(5,"select",126)(6,"option"),t._uU(7,"Select"),t.qZA()(),t.YNc(8,xo,2,1,"div",70),t.qZA()()()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngClass",t.VKq(2,g,e.quotationFormSubmittied&&e.quotationsFormGroupControls.shippingTerms.errors)),t.xp6(3),t.Q6J("ngIf",e.quotationFormSubmittied&&e.quotationsFormGroupControls.shippingTerms.errors)}}function Qo(o,r){if(1&o&&(t.TgZ(0,"td",128)(1,"div",129),t._UZ(2,"input",130),t.TgZ(3,"div"),t._uU(4),t.qZA()()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e)),t.xp6(4),t.hij("(\xb1 ",e.value.quantityTolerance,"%)")}}function yo(o,r){if(1&o&&(t.TgZ(0,"td",131)(1,"div",132),t._UZ(2,"input",133),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function Ao(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"td",131)(1,"div",132)(2,"input",134),t.NdJ("keyup",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.changePrice(s))}),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function wo(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"td",131)(1,"div",132)(2,"input",135),t.NdJ("keyup",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.changePrice(s))}),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function Fo(o,r){if(1&o&&(t.TgZ(0,"td",128)(1,"div",129),t._UZ(2,"input",136),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function Po(o,r){if(1&o&&(t.TgZ(0,"td",128)(1,"div",129),t._UZ(2,"input",137),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function Do(o,r){if(1&o&&(t.TgZ(0,"td",128)(1,"div",129),t._UZ(2,"input",138),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function Io(o,r){if(1&o&&(t.TgZ(0,"td",128)(1,"div",129),t._UZ(2,"input",139),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function Uo(o,r){if(1&o&&(t.TgZ(0,"td",128)(1,"div",129),t._UZ(2,"input",140),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function No(o,r){if(1&o&&(t.TgZ(0,"td",128)(1,"div",129),t._UZ(2,"input",141),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function ko(o,r){1&o&&t._UZ(0,"div",142)}function So(o,r){if(1&o&&(t.TgZ(0,"h6"),t._uU(1),t.TgZ(2,"span",143),t._uU(3,"Notified by Customer"),t.qZA()()),2&o){const e=t.oxw();t.xp6(1),t.hij("Case Pack: ",null==e.quoteDetails||null==e.quoteDetails.customerProducts||null==e.quoteDetails.customerProducts.productForm?null:e.quoteDetails.customerProducts.productForm.casePack," ")}}function Jo(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Case Pack is required. "),t.qZA())}function Yo(o,r){if(1&o&&(t.TgZ(0,"div",144),t.YNc(1,Jo,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.casePack.errors.required)}}function Lo(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Valid Upto date is required. "),t.qZA())}function Oo(o,r){if(1&o&&(t.TgZ(0,"div",144),t.YNc(1,Lo,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.validUpto.errors.required)}}function Go(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Length is required. "),t.qZA())}function Vo(o,r){if(1&o&&(t.TgZ(0,"div",144),t.YNc(1,Go,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.dimensionFormControls.length||null==e.dimensionFormControls.length.errors?null:e.dimensionFormControls.length.errors.required)}}function Wo(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Breadth is required. "),t.qZA())}function Mo(o,r){if(1&o&&(t.TgZ(0,"div",144),t.YNc(1,Wo,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.dimensionFormControls.breadth||null==e.dimensionFormControls.breadth.errors?null:e.dimensionFormControls.breadth.errors.required)}}function $o(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Height is required. "),t.qZA())}function Eo(o,r){if(1&o&&(t.TgZ(0,"div",144),t.YNc(1,$o,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.dimensionFormControls.height||null==e.dimensionFormControls.height.errors?null:e.dimensionFormControls.height.errors.required)}}function jo(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Gross weight is required. "),t.qZA())}function Ro(o,r){if(1&o&&(t.TgZ(0,"div",127),t.YNc(1,jo,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.grossWeight.errors.required)}}function Ko(o,r){1&o&&(t.TgZ(0,"label"),t._uU(1," Shipping Address "),t.qZA())}function Bo(o,r){1&o&&(t.TgZ(0,"label"),t._uU(1," Origin Port "),t.qZA())}function Ho(o,r){1&o&&(t.TgZ(0,"label"),t._uU(1," Destination Port "),t.qZA())}function zo(o,r){if(1&o&&(t.TgZ(0,"option",87),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,e)," ")}}function Xo(o,r){if(1&o&&(t.TgZ(0,"select",147)(1,"option",148),t._uU(2,"Select"),t.qZA(),t.YNc(3,zo,3,4,"option",15),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(2,g,e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)),t.xp6(3),t.Q6J("ngForOf",e.nearestPortArr)}}function ti(o,r){if(1&o&&(t.TgZ(0,"option",87),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,e)," ")}}function ei(o,r){if(1&o&&(t.TgZ(0,"select",149)(1,"option",148),t._uU(2,"Select"),t.qZA(),t.YNc(3,ti,3,4,"option",15),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(2,g,e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)),t.xp6(3),t.Q6J("ngForOf",e.cifShippingPorts)}}function oi(o,r){if(1&o&&(t.TgZ(0,"option",87),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e._id),t.xp6(1),t.HOy(" ",e.name,", ",null==e?null:e.addressLine1,", ",null==e?null:e.addressLine2,", ",null==e?null:e.cityName," ")}}function ii(o,r){if(1&o&&(t.TgZ(0,"select",149)(1,"option",148),t._uU(2,"Select"),t.qZA(),t.YNc(3,oi,2,5,"option",15),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(2,g,e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)),t.xp6(3),t.Q6J("ngForOf",e.addresses)}}function ni(o,r){1&o&&(t.ynx(0),t._uU(1," Origin Port "),t.BQk())}function ri(o,r){1&o&&(t.ynx(0),t._uU(1," Origin Port "),t.BQk())}function si(o,r){1&o&&(t.ynx(0),t._uU(1," Shipping address "),t.BQk())}function li(o,r){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,ni,2,0,"ng-container",10),t.YNc(2,ri,2,0,"ng-container",10),t.YNc(3,si,2,0,"ng-container",10),t._uU(4," is required. "),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf","FOB"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","CIF"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","DDU"===e.quotationsForm.value.shippingTerms||"DDP"===e.quotationsForm.value.shippingTerms)}}function ai(o,r){if(1&o&&(t.TgZ(0,"div",144),t.YNc(1,li,5,3,"div",10),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.shippingAddress.errors.required)}}function ui(o,r){if(1&o&&(t.TgZ(0,"div",58),t.YNc(1,Ko,2,0,"label",10),t.YNc(2,Bo,2,0,"label",10),t.YNc(3,Ho,2,0,"label",10),t.YNc(4,Xo,4,4,"select",145),t.YNc(5,ei,4,4,"select",146),t.YNc(6,ii,4,4,"select",146),t.YNc(7,ai,2,1,"div",60),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","DDU"===e.quotationsForm.value.shippingTerms||"DDP"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","FOB"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","CIF"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","FOB"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","CIF"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","DDU"===e.quotationsForm.value.shippingTerms||"DDP"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf",e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)}}function ci(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",142)(1,"button",150),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.updatePackaging())}),t._UZ(2,"i",94),t._uU(3," Save"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.isLoadingPackaging),t.xp6(1),t.Q6J("ngClass",t.VKq(2,A,e.isLoadingPackaging))}}function mi(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," PPS Quantity is required. "),t.qZA())}function pi(o,r){if(1&o&&(t.TgZ(0,"div",127),t.YNc(1,mi,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ppsFormControls.prePurchaseSampleQuantity.errors.required)}}function di(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Production Lead Time is required. "),t.qZA())}function gi(o,r){if(1&o&&(t.TgZ(0,"div",127),t.YNc(1,di,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ppsFormControls.prePurchaseSampleProductionLeadTime.errors.required)}}function _i(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Grand Total Price "),t.qZA())}function hi(o,r){if(1&o&&(t.TgZ(0,"div",127),t.YNc(1,_i,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ppsFormControls.prePurchaseSampleTotalPrice.errors.required)}}function fi(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",151)(1,"button",152),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.updatePPS())}),t._UZ(2,"i",94),t._uU(3," Save"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.isLoadingPps),t.xp6(1),t.Q6J("ngClass",t.VKq(2,A,e.isLoadingPps))}}function qi(o,r){if(1&o&&(t.TgZ(0,"option",163),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw(2);t.s9C("value",e),t.Q6J("disabled",n.isSelected(e)),t.xp6(1),t.hij(" ",e," ")}}function Ti(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Name is required. "),t.qZA())}function Zi(o,r){if(1&o&&(t.TgZ(0,"div",144),t.YNc(1,Ti,2,0,"div",10),t.qZA()),2&o){const e=t.oxw().$implicit;let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.get("name"))||null==n.errors?null:n.errors.required)}}function vi(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Cost is required. "),t.qZA())}function Ci(o,r){if(1&o&&(t.TgZ(0,"div",144),t.YNc(1,vi,2,0,"div",10),t.qZA()),2&o){const e=t.oxw().$implicit;let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.get("cost"))||null==n.errors?null:n.errors.required)}}function xi(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"a",164),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,s=t.oxw();return t.KtG(s.removeOneTimeCost(i))}),t._UZ(1,"i",165),t.qZA()}}function bi(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"a",166),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.addItem())}),t._UZ(1,"i",167),t.qZA()}}function Qi(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.ynx(1,153),t.TgZ(2,"td",8)(3,"div",58)(4,"div",154)(5,"div",155)(6,"select",156)(7,"option",157),t._uU(8,"Select Cost"),t.qZA(),t.YNc(9,qi,2,3,"option",158),t.qZA(),t.YNc(10,Zi,2,1,"div",68),t.qZA()()()(),t.TgZ(11,"td")(12,"div",58)(13,"div",154)(14,"div",155)(15,"input",159),t.NdJ("keyup",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.totalOneTimeCost())}),t.qZA(),t.YNc(16,Ci,2,1,"div",68),t.qZA(),t.TgZ(17,"div")(18,"div",160),t.YNc(19,xi,2,0,"a",161),t.YNc(20,bi,2,0,"a",162),t.qZA()()()()(),t.BQk(),t.qZA()}if(2&o){const e=r.$implicit,n=r.index,i=r.last,s=t.oxw();let l,c;t.xp6(1),t.Q6J("formGroupName",n),t.xp6(8),t.Q6J("ngForOf",s.costsList),t.xp6(1),t.Q6J("ngIf",s.oneTimeFormSubmitted&&(null==(l=e.get("name"))?null:l.errors)),t.xp6(6),t.Q6J("ngIf",s.oneTimeFormSubmitted&&(null==(c=e.get("cost"))?null:c.errors)),t.xp6(3),t.Q6J("ngIf",s.oneTimeCostFormControls.controls.length>1),t.xp6(1),t.Q6J("ngIf",i)}}function yi(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",142)(1,"button",150),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.updateOneTimeCost())}),t._UZ(2,"i",94),t._uU(3," Save"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.isLoadingOneTime),t.xp6(1),t.Q6J("ngClass",t.VKq(2,A,e.isLoadingOneTime))}}let Ai=(()=>{class o{constructor(e,n,i,s,l,c){this._US=e,this._QS=n,this._notifier=i,this.ngxLoaderService=s,this.routes=l,this._FB=c,this.quoteId="",this.factoryList=[],this.warehouseList=[],this.permissionsArr=[],this.quotePermission={add:!1,update:!1,delete:!1},this.totalOneTimeCostNum=0,this.factoryWarehouseSelectedId="",this.factoryWarehouseSelectedType="",this.selectedImage=0,this.packagingFormSubmittied=!1,this.ppsFormSubmittied=!1,this.oneTimeFormSubmitted=!1,this.quotationFormSubmittied=!1,this.toleranceFormSubmittied=!1,this.isCasePackNotfied=!1,this.isLoading=!1,this.isLoadingTolerance=!1,this.isLoadingPps=!1,this.isLoadingOneTime=!1,this.isLoadingPackaging=!1,this.nearestPortArr=[],this.cifShippingPorts=[],this.addresses=[],this.costsList=[],this.shippingTermsList=[],this.productArtworks=[],this.productAttachments=[]}ngOnInit(){this.initForm(),this.routes.params.subscribe(e=>{e&&e.quoteId&&(this.quoteId=e.quoteId,this.getQuoteDetails())}),this._US.getPermissions().subscribe(e=>{this.permissionsArr=e,Object.keys(this.quotePermission).map(n=>{this.canPerformAction("Quotes",n)})}),this.oneTimeCost(),this.shippingTerm(),$("#carouselExampleControls").on("slide.bs.carousel",e=>{this.selectedImage=e.to}),this.quotationsForm.valueChanges.subscribe(e=>{e.shippingTerms&&(this.shippingTermString=e.shippingTerms,"Ex-Factory"!==e.shippingTerms?this.packagingForm.addControl("shippingAddress",new a.NI("",a.kI.required)):this.packagingForm.removeControl("shippingAddress"),"Ex-Factory"!==e.shippingTerms&&this.packagingForm.get("shippingAddress")?.reset(this.quoteDetails?.shippingAddress?this.quoteDetails?.shippingAddress:""))})}canPerformAction(e,n){this.quotePermission[n]=this._US.hasPermission(e,n,this.permissionsArr)}getQuoteDetails(){this.ngxLoaderService.start(),this._QS.getQuoteDetails(this.quoteId).subscribe(e=>{this.ngxLoaderService.stop(),e.meta.status?(this.quoteDetails=e.data,this.addresses=this.quoteDetails.userAddresses,this.cifShippingPorts=this.quoteDetails.userAddresses.map(n=>n.mappedPort),this.cifShippingPorts=[...new Set(this.cifShippingPorts)],this.quoteDetails?.shippingTerms&&this.quotationsForm.get("shippingTerms")?.setValue(this.quoteDetails?.shippingTerms),this.getFactoryList(this.quoteDetails.vendorId),this.getWarehouseList(this.quoteDetails.vendorId),this.factoryWarehouseSelectedType=this.quoteDetails.factoryId?"factory":"warehouse",this.quoteDetails?.factoryId?(this.nearestPortArr=[],this.nearestPortArr.push(this.quoteDetails.factory.nearestPort),this.factoryWarehouseSelectedId=this.quoteDetails?.factoryId):this.quoteDetails.warehouseId&&(this.nearestPortArr=[],this.nearestPortArr.push(this.quoteDetails.warehouse.nearestPort),this.factoryWarehouseSelectedId=this.quoteDetails?.warehouseId),this.quoteDetails?.productTolerance.map((n,i)=>{this.addTolerance(n)}),this.quoteDetails?.customerProducts?.productArtworks.map(n=>{let i=n.split("/"),s=this.getFileType(i[i.length-1]);delete s.type,this.productArtworks.push({url:n,name:i[i.length-1],...s})}),this.quoteDetails?.customerProducts?.productAttachments.map(n=>{let i=n.split("/"),s=this.getFileType(i[i.length-1]);delete s.type,this.productAttachments.push({url:n,name:i[i.length-1],...s})}),this.quoteDetails?.adminQuotation.map((n,i)=>{this.addQuotation(n,!0)}),this.quoteDetails?.prePurchaseSampleQuantity&&this.ppsForm.patchValue({prePurchaseSampleProductionLeadTime:this.quoteDetails?.prePurchaseSampleProductionLeadTime,prePurchaseSampleQuantity:this.quoteDetails?.prePurchaseSampleQuantity,prePurchaseSampleTotalPrice:this.quoteDetails?.prePurchaseSampleTotalPrice}),this.quoteDetails?.oneTimeCost.map((n,i)=>{this.addItem(n)}),this.totalOneTimeCost(),this.isCasePackNotfied=this.quoteDetails?.customerProducts.productForm.hasOwnProperty("casePack"),this.isCasePackNotfied&&this.packagingForm.get("casePack")?.setValue(this.quoteDetails?.customerProducts.productForm.casePack),this.packagingForm.patchValue(this.quoteDetails),this.packagingForm.get("validUpto")?.setValue(q(this.quoteDetails.validUpto).format("YYYY-MM-DD"))):(this.quoteDetails=void 0,this._notifier.showWarning(e.meta.msg,""))},e=>{this.ngxLoaderService.stop()})}getFactoryList(e){this._QS.getFactoryList(e).pipe((0,u.x)(()=>{})).subscribe(n=>{this.factoryList=n?.meta?.status?n.data:[]})}getWarehouseList(e){this._QS.getWarehouseList(e).pipe((0,u.x)(()=>{})).subscribe(n=>{this.warehouseList=n?.meta?.status?n.data:[]})}initForm(){this.ppsForm=this._FB.group({prePurchaseSampleQuantity:["",a.kI.required],prePurchaseSampleProductionLeadTime:["",a.kI.required],prePurchaseSampleTotalPrice:["",a.kI.required]}),this.packagingForm=this._FB.group({casePack:["",a.kI.required],validUpto:["",a.kI.required],dimension:this._FB.group({length:[0,a.kI.required],breadth:[0,a.kI.required],height:[0,a.kI.required]}),grossWeight:["",a.kI.required],shippingAddress:["",a.kI.required]}),this.oneTimeCostForm=this._FB.group({costsArray:new a.Oe([])}),this.quotationsForm=this._FB.group({shippingTerms:["",a.kI.required],quotationsArray:new a.Oe([])}),this.toleranceForm=this._FB.group({toleranceArray:new a.Oe([])})}get ppsFormControls(){return this.ppsForm.controls}get packagingFormControls(){return this.packagingForm.controls}get dimensionFormGroup(){return this.packagingForm.get("dimension")}get dimensionFormControls(){return this.dimensionFormGroup.controls}get oneTimeCostFormControls(){return this.oneTimeCostForm.controls.costsArray}get quotationsFormControls(){return this.quotationsForm.controls.quotationsArray}get quotationsFormGroupControls(){return this.quotationsForm.controls}get toleranceFormControls(){return this.toleranceForm.controls.toleranceArray}addTolerance(e){this.toleranceFormControls.push(this.toleranceItem(e))}addQuotation(e,n){this.quotationsFormControls.push(this.quotationItem(e,n))}toleranceItem(e){return this._FB.group({name:e?.name,measurement:e?.measurement||"---",...e.upperTolerance&&{upperTolerance:[e?.upperTolerance,a.kI.required],lowerTolerance:[e?.lowerTolerance,a.kI.required]},...e.upperTolerance&&{unit:[e?.unit,a.kI.required]}})}findValue(e){return 0==this.quoteDetails?.customerProducts?.productForm[e]?.length?"---":"object"==typeof this.quoteDetails?.customerProducts?.productForm[e]?`${this.quoteDetails?.customerProducts?.productForm[e].value} ${this.quoteDetails?.customerProducts?.productForm[e].unit}`:this.quoteDetails?.customerProducts?.productForm[e]}quotationItem(e,n){return this._FB.group({quantity:n?e?.quantity:e,quantityTolerance:n?e?.quantityTolerance:e,productionleadTime:n?e?.productionleadTime:"",pricePerPiece:n?e?.pricePerPiece:"",marginPercentPricePerPiece:n?e?.marginPercentPricePerPiece.toFixed(3):"",marginPricePerPiece:n?e?.marginPricePerPiece.toFixed(3):"",TotalPricePerPiece:n?e?.TotalPricePerPiece.toFixed(3):"",totalPrice:n?e?.totalPrice.toFixed(3):0,totalCbm:n?e?.totalCbm.toFixed(3):0,totalCartons:n?e?.totalCartons:"Carton"===this.quoteDetails?.customerProducts?.quantityType?e:0,totalWeight:n?e?.totalWeight:0})}createItem(e){return this._FB.group({name:[e?e?.name:"",a.kI.required],cost:[e?e?.cost:"",a.kI.required]})}addItem(e){this.oneTimeCostFormControls.push(this.createItem(e))}removeOneTimeCost(e){this.oneTimeCostForm.controls.costsArray.removeAt(e),this.totalOneTimeCost()}totalOneTimeCost(){let e=0;this.oneTimeCostForm.value.costsArray.map((n,i)=>{e+=n?.cost}),this.totalOneTimeCostNum=e}changeOfFactoryWarehouse(e){this.factoryWarehouseSelectedId=e?.target?.value;let n=this.factoryList.find(s=>s?._id===e?.target?.value),i=this.warehouseList.find(s=>s?._id===e?.target?.value);this.nearestPortArr=[],n&&(this.nearestPortArr.push(n.nearestPort),this.factoryWarehouseSelectedType="factory"),i&&(this.nearestPortArr.push(i.nearestPort),this.factoryWarehouseSelectedType="warehouse")}getFormGroup(e){return e}downloadImage(e){return(0,b.Z)(function*(){const i=yield(yield fetch(`${e}?pactap=1`)).blob(),s=e.substring(e.lastIndexOf("/")+1),l=document.createElement("a"),c=window.URL.createObjectURL(i);l.href=c,l.download=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(e)})()}getFileType(e){const n=e.lastIndexOf(".");if(-1===n)return"File name has no extension";switch(e.substring(n+1).toLowerCase()){case"jpg":case"jpeg":case"png":return{type:"Image file",isImage:!0};case"pdf":return{type:"PDF file",isPdf:!0};case"doc":case"docx":return{type:"Word document",isWord:!0};case"txt":return{type:"Text file",isText:!0};case"ai":return{type:"Adobe Illustrator file",isIllustrator:!0};case"cdr":return{type:"CorelDRAW file",isCorelDraw:!0};case"xls":return{type:"Excel spreadsheet",isExcel:!0};case"csv":return{type:"CSV file",isExcel:!0};default:return"Unknown file type"}}changePrice(e){e.get("totalPrice")?.setValue(Number(e.value.pricePerPiece)*e.value.quantity)}changeCasepack(e){this.quotationsFormControls.controls.map(i=>{"CARTON"===this.quoteDetails?.customerProducts?.quantityType.toUpperCase()||i.get("totalCartons")?.setValue((e.target.value?i.value.quantity/Number(e.target.value):0).toFixed())})}changeLbh(e){this.quotationsFormControls.controls.map(n=>{let i=Number(n.get("totalCartons")?.value);Number(this.dimensionFormGroup.get("length")?.value)&&Number(this.dimensionFormGroup.get("breadth")?.value)&&Number(this.dimensionFormGroup.get("height")?.value)&&n.get("totalCbm")?.setValue(Number(this.dimensionFormGroup.get("length")?.value||0)*Number(this.dimensionFormGroup.get("breadth")?.value||0)*Number(this.dimensionFormGroup.get("height")?.value||0)*16387064e-12*i)})}oneTimeCost(){this._QS.getAppConfigByKey("ONE_TIME_COST").pipe((0,u.x)(()=>{})).subscribe(e=>{e.meta.status?this.costsList=e.data.value.split("|").map(n=>n.trim()):this._notifier.showError(e.meta.msg,"Error")})}shippingTerm(){this._QS.getAppConfigByKey("SHIPPING_TERMS_VALUE").pipe((0,u.x)(()=>{})).subscribe(e=>{e.meta.status?(this.shippingTermsList=e.data.value.split("|"),this.shippingTermsList=this.shippingTermsList.map(n=>n.trim())):this._notifier.showError(e.meta.msg,"Error")})}isSelected(e){this.oneTimeCostForm.value.costsArray.map((n,i)=>n?.name===e)}updateQuotation(){if(this.quotationsForm.valid){this.isLoading=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},adminQuotation:this.quotationsForm.value.quotationsArray,shippingTerms:this.quotationsForm.value.shippingTerms};this._QS.updateQuotation(e).pipe((0,u.x)(()=>{this.isLoading=!1})).subscribe(n=>{n.meta.status?(this.getQuoteDetails(),this._notifier.showSuccess(n.meta.msg,"Success")):this._notifier.showWarning(n.meta.msg,"Error")},n=>{this._notifier.showError("Something Went Wrong","Error")})}else this.quotationFormSubmittied=!0}updateTolerance(){if(this.toleranceForm.valid){this.isLoadingTolerance=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},productTolerance:this.toleranceForm.value.toleranceArray};this._QS.updateTolerance(e).pipe((0,u.x)(()=>{this.isLoadingTolerance=!1})).subscribe(n=>{n.meta.status?this._notifier.showSuccess(n.meta.msg,"Success"):this._notifier.showWarning(n.meta.msg,"Error")},n=>{this._notifier.showError("Something Went Wrong","Error")})}else this.toleranceFormSubmittied=!0}updatePPS(){if(this.ppsForm.valid){this.isLoadingPps=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},...this.ppsForm.value};this._QS.updatePPS(e).pipe((0,u.x)(()=>{this.isLoadingPps=!1})).subscribe(n=>{n.meta.status?this._notifier.showSuccess(n.meta.msg,"Success"):this._notifier.showWarning(n.meta.msg,"Error")},n=>{this._notifier.showError("Something Went Wrong","Error")})}else this.ppsFormSubmittied=!0}updateOneTimeCost(){if(this.oneTimeCostForm.valid){this.isLoadingOneTime=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},oneTimeCost:this.oneTimeCostForm.value.costsArray,totalOneTimeCost:this.totalOneTimeCostNum};this._QS.updateOneTimeCost(e).pipe((0,u.x)(()=>{this.isLoadingOneTime=!1})).subscribe(n=>{n.meta.status?this._notifier.showSuccess(n.meta.msg,"Success"):this._notifier.showWarning(n.meta.msg,"Error")},n=>{this._notifier.showError("Something Went Wrong","Error")})}else this.oneTimeFormSubmitted=!0}updatePackaging(){if(this.packagingForm.valid){this.packagingForm.value.validUpto=q(this.packagingForm.value.validUpto).valueOf(),this.isLoadingPackaging=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},...this.packagingForm.value};this._QS.updatePackaging(e).pipe((0,u.x)(()=>{this.isLoadingPackaging=!1})).subscribe(n=>{n.meta.status?this._notifier.showSuccess(n.meta.msg,"Success"):this._notifier.showWarning(n.meta.msg,"Error")},n=>{this._notifier.showError("Something Went Wrong","Error")})}else this.packagingFormSubmittied=!0}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(Q.K),t.Y36(Z),t.Y36(y.lG),t.Y36(v.LA),t.Y36(f.gz),t.Y36(a.qu))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-re-quote"]],decls:220,vars:79,consts:[[1,"dashboardMain"],[1,"bg-white","white-well"],[1,"row","align-items-center"],[1,"col-7","col-sm-7","col-md-8","col-lg-8"],[1,"page-header","d-flex","justify-content-between"],[1,"mb-0"],["href","javascript:history.back()",1,"back-arrow"],[1,"bi","bi-arrow-left-short","me-4"],[1,"text-success"],[1,"profile-info"],[4,"ngIf"],[1,"fw400","form-box","d-flex","align-items-center","text-nowrap"],[1,"form-group","mb-0","ms-3","col-md-8"],[1,"form-control","form-ctrl","greenborder",3,"ngModel","ngModelChange","change"],["label","Factory"],[3,"value",4,"ngFor","ngForOf"],["label","Warehouse"],["class","col-5 col-sm-5 col-md-4 col-lg-4 text-end",4,"ngIf"],[1,"row","justify-content-between"],[1,"col-12","col-sm-4","col-md-4","col-lg-4"],[1,"quotations-script","bg-success-light"],[1,"mb-0","text-white"],["class","col-6 col-sm-3 col-md-2 col-lg-2 text-end",4,"ngIf"],[1,"product-item","p-0","quotations-product-item","mb-0"],[1,"row"],[1,"col-12","col-sm-7","col-md-8","col-lg-8","col-xl-8"],[1,"productDetailsPage"],[1,"table-reponsive"],[3,"formGroup"],[1,"tableBorder"],[2,"width","40%"],[3,"formGroup",4,"ngFor","ngForOf"],[1,"col-12","col-sm-5","col-md-4","col-lg-4","col-xl-4"],[1,"product-body"],[1,"mb-2"],["id","carouselExampleControls","data-bs-ride","carousel",1,"carousel","slide","mb-3"],[1,"carousel-inner"],["class","carousel-item",3,"ngClass",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["href","javascript:void(0)",1,"downloadButton",3,"click"],[1,"bi","bi-box-arrow-in-down"],[1,"d-sm-inline-block","ms-3","text-dark","fw500"],[1,"mb-3"],["class","row",4,"ngIf"],[1,"table","table-bordered","tblbordersolid","table-lg"],[1,"table-success","text-white"],[2,"width","30%"],["class","",3,"formGroup",4,"ngFor","ngForOf"],["class","text-center",3,"formGroup",4,"ngFor","ngForOf"],[1,"table-success-light"],["class","text-end",4,"ngIf"],[1,"bg-white","white-well","mt-4"],[1,"form-box",3,"formGroup"],[1,"formflex","justify-content-between"],[1,"form-group"],["type","text","placeholder","Case Pack","formControlName","casePack",1,"form-control","form-ctrl","greenborder",3,"ngClass","keyup"],["style","display: block;","class","invalid-feedback",4,"ngIf"],["type","date","placeholder","DD/MM/YYYY","formControlName","validUpto",1,"form-control","form-ctrl","datePicker","greenborder",3,"ngClass"],[1,"text-success","fw300"],["formGroupName","dimension",1,"row"],[1,"col-md-4","col-4"],["type","number","placeholder","L","formControlName","length",1,"form-control","form-ctrl","greenborder","text-center",3,"ngClass","keyup"],["type","number","placeholder","B","formControlName","breadth",1,"form-control","form-ctrl","greenborder","text-center",3,"ngClass","keyup"],["type","number","placeholder","H","formControlName","height",1,"form-control","form-ctrl","greenborder","text-center",3,"ngClass","keyup"],["class","invalid-feedback","style","display: block;",4,"ngIf"],["type","text","placeholder","Gross Weight","formControlName","grossWeight",1,"form-control","form-ctrl","greenborder",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"col-12","col-sm-5","col-md-5","col-lg-5"],[1,"bg-white","white-well","mb-2"],[1,"form-box"],["type","text","placeholder","PPS Quantity","formControlName","prePurchaseSampleQuantity",1,"form-control","form-ctrl","greenborder",3,"ngClass"],["type","text","placeholder","Production Lead Time","formControlName","prePurchaseSampleProductionLeadTime",1,"form-control","form-ctrl","greenborder",3,"ngClass"],[1,"form-group","mb-0"],["type","text","placeholder","Grand Total Price","formControlName","prePurchaseSampleTotalPrice",1,"form-control","form-ctrl","greenborder",3,"ngClass"],["class","text-end mt-3",4,"ngIf"],[1,"col-12","col-sm-7","col-md-7","col-lg-7","mb-0"],[1,"bg-white","white-well","mb-0"],[1,"table-card","mb-2"],[1,"table","table-bordered","table-lg","form-box"],[1,"table-secondary"],["formArrayName","costsArray"],[4,"ngFor","ngForOf"],[3,"value"],[1,"col-5","col-sm-5","col-md-4","col-lg-4","text-end"],[1,"column-btns","d-grid","align-items-center","justify-content-end"],[1,"form-box","form-filter"],["href","javascript:void(0)",1,"btn","btn-sumbit","btn-outline-success",3,"routerLink"],[1,"col-6","col-sm-3","col-md-2","col-lg-2","text-end"],[1,"btn","btn-sumbit","btn-success","btn-block",3,"disabled","click"],[1,"fa",3,"ngClass"],["type","text","readonly","","formControlName","name",1,"form-control","form-ctrl","showastext"],["type","text","formControlName","measurement",1,"form-control","form-ctrl","showastext"],["class","text-center",4,"ngIf"],[1,"col-md-6"],["for","lowerLimit",1,"mb-2"],[1,"inputPercentage"],["type","number","placeholder","30","formControlName","lowerTolerance",1,"form-control","form-ctrl","greenborder","fs12"],["for","upperLimit",1,"mb-2"],["type","number","placeholder","30","formControlName","upperTolerance",1,"form-control","form-ctrl","greenborder","fs12"],[1,"text-center"],[1,"carousel-item",3,"ngClass"],["alt"," ",1,"d-block","w-100",3,"src"],[1,"mb-2","mt-4"],["class","form-check-inline text-center",4,"ngFor","ngForOf"],[1,"form-check-inline","text-center"],[1,"alert-photo"],[1,"alert-photo-img"],[3,"src","alt",4,"ngIf"],["src","assets/images/cdr.png",3,"alt",4,"ngIf"],["src","assets/images/pdf.png",3,"alt",4,"ngIf"],["src","assets/images/excel.png",3,"alt",4,"ngIf"],["src","assets/images/xls.png",3,"alt",4,"ngIf"],["src","assets/images/illustrator.png",3,"alt",4,"ngIf"],[3,"src","alt"],["src","assets/images/cdr.png",3,"alt"],["src","assets/images/pdf.png",3,"alt"],["src","assets/images/excel.png",3,"alt"],["src","assets/images/xls.png",3,"alt"],["src","assets/images/illustrator.png",3,"alt"],[1,"product-body","mt-4"],[1,"col-md-6","col-lg-6","col-xl-6"],["formControlName","shippingTerms",1,"form-control","form-ctrl","greenborder",3,"ngClass"],[1,"invalid-feedback"],[1,"",3,"formGroup"],[1,"listtitlegreen"],["type","text","placeholder","","readonly","","formControlName","quantity",1,"form-control","form-ctrl","showastext2"],[1,"text-center",3,"formGroup"],[1,"listcontentgreen"],["type","text","placeholder","","formControlName","productionleadTime",1,"form-control","form-ctrl"],["type","text","placeholder","","formControlName","pricePerPiece",1,"form-control","form-ctrl",3,"keyup"],["type","text","placeholder","","formControlName","marginPercentPricePerPiece",1,"form-control","form-ctrl",3,"keyup"],["type","text","placeholder","","readonly","","formControlName","marginPricePerPiece",1,"form-control","form-ctrl","showastext2",2,"font-size","1rem","font-weight","400","color","#212529"],["type","text","placeholder","","readonly","","formControlName","TotalPricePerPiece",1,"form-control","form-ctrl","showastext2",2,"font-size","1rem","font-weight","400","color","#212529"],["type","text","placeholder","","readonly","","formControlName","totalPrice",1,"form-control","form-ctrl","showastext2",2,"font-size","1rem","font-weight","400","color","#212529"],["type","text","placeholder","","readonly","","formControlName","totalCbm",1,"form-control","form-ctrl","showastext2",2,"font-size","1rem","font-weight","400","color","#212529"],["type","text","placeholder","","readonly","","formControlName","totalCartons",1,"form-control","form-ctrl","showastext2",2,"font-size","1rem","font-weight","400","color","#212529"],["type","text","placeholder","","readonly","","formControlName","totalWeight",1,"form-control","form-ctrl","showastext2",2,"font-size","1rem","font-weight","400","color","#212529"],[1,"text-end"],[1,"badge","bg-success"],[1,"invalid-feedback",2,"display","block"],["class","form-control form-ctrl greenborder","formControlName","shippingAddress",3,"ngClass",4,"ngIf"],["class","form-ctrl form-control","formControlName","shippingAddress",3,"ngClass",4,"ngIf"],["formControlName","shippingAddress",1,"form-control","form-ctrl","greenborder",3,"ngClass"],["value",""],["formControlName","shippingAddress",1,"form-ctrl","form-control",3,"ngClass"],[1,"btn","btn-sumbit","btn-success","col-md-2",3,"disabled","click"],[1,"text-end","mt-3"],[1,"btn","btn-sumbit","btn-success","col-md-2",2,"width","45%",3,"disabled","click"],[3,"formGroupName"],[1,"addProperyName"],[1,"width100"],["formControlName","name",1,"form-control","form-ctrl","greenborder"],["value","","hidden",""],[3,"value","disabled",4,"ngFor","ngForOf"],["type","number","placeholder","30,000","formControlName","cost",1,"form-control","form-ctrl","greenborder",3,"keyup"],[1,"delete_add"],["href","javascript:void(0)","class","me-3",3,"click",4,"ngIf"],["href","javascript:void(0)",3,"click",4,"ngIf"],[3,"value","disabled"],["href","javascript:void(0)",1,"me-3",3,"click"],[1,"fa","fa-trash-o"],["href","javascript:void(0)",3,"click"],[1,"fa","fa-plus"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5)(6,"a",6),t._UZ(7,"i",7),t.qZA(),t._uU(8," Quoting "),t.TgZ(9,"span",8),t._uU(10),t.qZA(),t.TgZ(11,"sub",8),t._uU(12),t.qZA()()(),t.TgZ(13,"div",9)(14,"h6")(15,"em"),t._uU(16,"For: "),t.TgZ(17,"span",8),t.YNc(18,Ee,2,1,"ng-container",10),t.TgZ(19,"small"),t._uU(20),t.qZA()()()(),t.TgZ(21,"h6",11),t._uU(22,"Quoting From: "),t.TgZ(23,"div",12)(24,"select",13),t.NdJ("ngModelChange",function(l){return i.factoryWarehouseSelectedId=l})("change",function(l){return i.changeOfFactoryWarehouse(l)}),t.TgZ(25,"optgroup",14),t.YNc(26,je,2,7,"option",15),t.qZA(),t.TgZ(27,"optgroup",16),t.YNc(28,Re,2,7,"option",15),t.qZA()()()()()(),t.YNc(29,Be,5,3,"div",17),t.qZA()(),t.TgZ(30,"div",1)(31,"div",18)(32,"div",19)(33,"div",20)(34,"h4",21),t._uU(35,"Product Details"),t.qZA()()(),t.YNc(36,He,4,4,"div",22),t.qZA(),t.TgZ(37,"div",23)(38,"div",24)(39,"div",25)(40,"div",26)(41,"div",27)(42,"form",28)(43,"div",29)(44,"table")(45,"thead")(46,"tr")(47,"th"),t._uU(48,"Details"),t.qZA(),t.TgZ(49,"th"),t._uU(50,"Measurements"),t.qZA(),t.TgZ(51,"th",30),t._uU(52,"Tolerances"),t.qZA()()(),t.TgZ(53,"tbody"),t.YNc(54,oo,7,3,"tr",31),t.qZA()()()()()()(),t.TgZ(55,"div",32)(56,"div",33)(57,"h6",34),t._uU(58,"Product Images:"),t.qZA()(),t.TgZ(59,"div")(60,"div",35)(61,"div",36),t.YNc(62,no,2,4,"div",37),t.qZA(),t.TgZ(63,"button",38),t._UZ(64,"span",39),t.TgZ(65,"span",40),t._uU(66,"Previous"),t.qZA()(),t.TgZ(67,"button",41),t._UZ(68,"span",42),t.TgZ(69,"span",40),t._uU(70,"Next"),t.qZA()()(),t.TgZ(71,"a",43),t.NdJ("click",function(){return i.downloadImage(null==i.quoteDetails||null==i.quoteDetails.product?null:i.quoteDetails.product.productImg[i.selectedImage])}),t._uU(72,"Download "),t._UZ(73,"i",44),t.qZA()(),t.YNc(74,po,6,1,"ng-container",10),t.YNc(75,vo,6,1,"ng-container",10),t.qZA()()()(),t.TgZ(76,"div",1)(77,"div",20)(78,"h4",21),t._uU(79,"Quotations"),t.qZA()(),t.TgZ(80,"p",45),t._uU(81),t.qZA(),t.TgZ(82,"form",28)(83,"div",46),t.YNc(84,bo,9,4,"div",47),t.TgZ(85,"div",27)(86,"table",48)(87,"thead")(88,"tr",49)(89,"td",50),t._uU(90,"Quantity"),t.qZA(),t.YNc(91,Qo,5,2,"td",51),t.qZA()(),t.TgZ(92,"tbody")(93,"tr")(94,"td",8),t._uU(95,"Production Lead Time (In Days):"),t.qZA(),t.YNc(96,yo,3,1,"td",52),t.qZA(),t.TgZ(97,"tr")(98,"td",8),t._uU(99),t.qZA(),t.YNc(100,Ao,3,1,"td",52),t.qZA(),t.TgZ(101,"tr")(102,"td",8),t._uU(103),t.qZA(),t.YNc(104,wo,3,1,"td",52),t.qZA(),t.TgZ(105,"tr")(106,"td",8),t._uU(107),t.qZA(),t.YNc(108,Fo,3,1,"td",51),t.qZA(),t.TgZ(109,"tr")(110,"td",8),t._uU(111),t.qZA(),t.YNc(112,Po,3,1,"td",51),t.qZA(),t.TgZ(113,"tr",53)(114,"td",8),t._uU(115,"Grand Total Price:"),t.qZA(),t.YNc(116,Do,3,1,"td",51),t.qZA(),t.TgZ(117,"tr")(118,"td",8),t._uU(119,"Total CBM:"),t.qZA(),t.YNc(120,Io,3,1,"td",51),t.qZA(),t.TgZ(121,"tr")(122,"td",8),t._uU(123,"Total Cartons:"),t.qZA(),t.YNc(124,Uo,3,1,"td",51),t.qZA(),t.TgZ(125,"tr")(126,"td",8),t._uU(127,"Total Weight:"),t.qZA(),t.YNc(128,No,3,1,"td",51),t.qZA()()()()(),t.YNc(129,ko,1,0,"div",54),t.qZA()(),t.TgZ(130,"div",55)(131,"div",20)(132,"h4",21),t._uU(133,"Packaging Details"),t.qZA()(),t.YNc(134,So,4,1,"h6",10),t.TgZ(135,"div",56)(136,"div",57)(137,"div",58)(138,"label"),t._uU(139,"Case Pack"),t.qZA(),t.TgZ(140,"input",59),t.NdJ("keyup",function(l){return i.changeCasepack(l)}),t.qZA(),t.YNc(141,Yo,2,1,"div",60),t.qZA(),t.TgZ(142,"div",58)(143,"label"),t._uU(144,"Valid Upto"),t.qZA(),t._UZ(145,"input",61),t.YNc(146,Oo,2,1,"div",60),t.qZA(),t.TgZ(147,"div",58)(148,"label"),t._uU(149,"Carton Dimensions "),t.TgZ(150,"span",62),t._uU(151,"(in Inches)"),t.qZA()(),t.TgZ(152,"div",63)(153,"div",64)(154,"input",65),t.NdJ("keyup",function(l){return i.changeLbh(l)}),t.qZA()(),t.TgZ(155,"div",64)(156,"input",66),t.NdJ("keyup",function(l){return i.changeLbh(l)}),t.qZA()(),t.TgZ(157,"div",64)(158,"input",67),t.NdJ("keyup",function(l){return i.changeLbh(l)}),t.qZA()(),t.YNc(159,Vo,2,1,"div",68),t.YNc(160,Mo,2,1,"div",68),t.YNc(161,Eo,2,1,"div",68),t.qZA()(),t.TgZ(162,"div",58)(163,"label"),t._uU(164,"Gross Weight "),t.TgZ(165,"span",62),t._uU(166,"(per case in kg)"),t.qZA()(),t._UZ(167,"input",69),t.YNc(168,Ro,2,1,"div",70),t.qZA()(),t.YNc(169,ui,8,7,"div",71),t.qZA(),t.YNc(170,ci,4,4,"div",54),t.qZA(),t.TgZ(171,"div",24)(172,"div",72)(173,"div",73)(174,"div",20)(175,"h4",21),t._uU(176,"PPS"),t.qZA()(),t.TgZ(177,"form",28)(178,"div",74)(179,"div",58)(180,"label"),t._uU(181,"PPS Quantity "),t.TgZ(182,"small",8),t._uU(183,":"),t.qZA()(),t._UZ(184,"input",75),t.YNc(185,pi,2,1,"div",70),t.qZA(),t.TgZ(186,"div",58)(187,"label"),t._uU(188,"Production Lead Time "),t.TgZ(189,"small",8),t._uU(190,"(In Days):"),t.qZA()(),t._UZ(191,"input",76),t.YNc(192,gi,2,1,"div",70),t.qZA(),t.TgZ(193,"div",77)(194,"label"),t._uU(195,"Grand Total Price:"),t.qZA(),t._UZ(196,"input",78),t.YNc(197,hi,2,1,"div",70),t.qZA()(),t.YNc(198,fi,4,4,"div",79),t.qZA()()(),t.TgZ(199,"div",80)(200,"div",81)(201,"div",20)(202,"h4",21),t._uU(203,"One Time Cost"),t.qZA()(),t.TgZ(204,"div",82)(205,"div",27)(206,"table",83)(207,"thead")(208,"tr",84)(209,"td",30),t._uU(210,"One Time Cost"),t.qZA(),t.TgZ(211,"td"),t._uU(212,"Cost"),t.qZA()()(),t.TgZ(213,"tbody"),t.ynx(214,28)(215,85),t.YNc(216,Qi,21,6,"tr",86),t.BQk()(),t.qZA()()()(),t.TgZ(217,"p"),t._uU(218),t.qZA()()()(),t.YNc(219,yi,4,4,"div",54),t.qZA()),2&n&&(t.xp6(10),t.hij("",null==i.quoteDetails||null==i.quoteDetails.product?null:i.quoteDetails.product.productName,","),t.xp6(2),t.hij("(Product ID: ",null==i.quoteDetails||null==i.quoteDetails.product?null:i.quoteDetails.product.productId,")"),t.xp6(6),t.Q6J("ngIf",null==i.quoteDetails||null==i.quoteDetails.vendor?null:i.quoteDetails.vendor.inviteBy),t.xp6(2),t.AsE("(Customer ID: ",null==i.quoteDetails||null==i.quoteDetails.customerLogin?null:i.quoteDetails.customerLogin.customerId," ), ",null==i.quoteDetails||null==i.quoteDetails.customer||null==i.quoteDetails.customer.countryObj?null:i.quoteDetails.customer.countryObj.name,""),t.xp6(4),t.Q6J("ngModel",i.factoryWarehouseSelectedId),t.xp6(2),t.Q6J("ngForOf",i.factoryList),t.xp6(2),t.Q6J("ngForOf",i.warehouseList),t.xp6(1),t.Q6J("ngIf",null==i.quoteDetails?null:i.quoteDetails.isRequote),t.xp6(7),t.Q6J("ngIf",i.quotePermission.update),t.xp6(6),t.Q6J("formGroup",i.toleranceForm),t.xp6(12),t.Q6J("ngForOf",i.toleranceFormControls.controls),t.xp6(8),t.Q6J("ngForOf",null==i.quoteDetails||null==i.quoteDetails.product?null:i.quoteDetails.product.productImg),t.xp6(12),t.Q6J("ngIf",i.productArtworks.length),t.xp6(1),t.Q6J("ngIf",i.productAttachments.length),t.xp6(6),t.hij("Quote ",i.shippingTermString," Prices"),t.xp6(1),t.Q6J("formGroup",i.quotationsForm),t.xp6(2),t.Q6J("ngIf",null==i.quoteDetails||null==i.quoteDetails.vendor?null:i.quoteDetails.vendor.inviteBy),t.xp6(7),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(5),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(3),t.hij("Price Per ",null==i.quoteDetails||null==i.quoteDetails.customerProducts?null:i.quoteDetails.customerProducts.quantityType,": "),t.xp6(1),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(3),t.hij("Margin % Per ",null==i.quoteDetails||null==i.quoteDetails.customerProducts?null:i.quoteDetails.customerProducts.quantityType,":"),t.xp6(1),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(3),t.hij("Margin Price Per ",null==i.quoteDetails||null==i.quoteDetails.customerProducts?null:i.quoteDetails.customerProducts.quantityType,":"),t.xp6(1),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(3),t.hij("Total Price Per ",null==i.quoteDetails||null==i.quoteDetails.customerProducts?null:i.quoteDetails.customerProducts.quantityType,":"),t.xp6(1),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(4),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(4),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(4),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(4),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(1),t.Q6J("ngIf",i.quotePermission.update),t.xp6(5),t.Q6J("ngIf",i.isCasePackNotfied),t.xp6(1),t.Q6J("formGroup",i.packagingForm),t.xp6(5),t.Q6J("ngClass",t.VKq(61,g,i.packagingFormSubmittied&&i.packagingFormControls.casePack.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&i.packagingFormControls.casePack.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(63,g,i.packagingFormSubmittied&&i.packagingFormControls.validUpto.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&i.packagingFormControls.validUpto.errors),t.xp6(8),t.Q6J("ngClass",t.VKq(65,g,i.packagingFormSubmittied&&i.dimensionFormControls.length.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(67,g,i.packagingFormSubmittied&&i.dimensionFormControls.breadth.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(69,g,i.packagingFormSubmittied&&i.dimensionFormControls.height.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&(null==i.dimensionFormControls.length?null:i.dimensionFormControls.length.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&(null==i.dimensionFormControls.breadth?null:i.dimensionFormControls.breadth.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&(null==i.dimensionFormControls.height?null:i.dimensionFormControls.height.errors)),t.xp6(6),t.Q6J("ngClass",t.VKq(71,g,i.packagingFormSubmittied&&i.packagingFormControls.grossWeight.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&i.packagingFormControls.grossWeight.errors),t.xp6(1),t.Q6J("ngIf",i.packagingForm.value.hasOwnProperty("shippingAddress")),t.xp6(1),t.Q6J("ngIf",i.quotePermission.update),t.xp6(7),t.Q6J("formGroup",i.ppsForm),t.xp6(7),t.Q6J("ngClass",t.VKq(73,g,i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleQuantity.errors)),t.xp6(1),t.Q6J("ngIf",i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleQuantity.errors),t.xp6(6),t.Q6J("ngClass",t.VKq(75,g,i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleProductionLeadTime.errors)),t.xp6(1),t.Q6J("ngIf",i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleProductionLeadTime.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(77,g,i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleTotalPrice.errors)),t.xp6(1),t.Q6J("ngIf",i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleTotalPrice.errors),t.xp6(1),t.Q6J("ngIf",i.quotePermission.update),t.xp6(16),t.Q6J("formGroup",i.oneTimeCostForm),t.xp6(2),t.Q6J("ngForOf",i.oneTimeCostFormControls.controls),t.xp6(2),t.hij("Total One Time Cost: ",i.totalOneTimeCostNum,""),t.xp6(1),t.Q6J("ngIf",i.quotePermission.update))},dependencies:[f.rH,m.mk,m.sg,m.O5,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.On,a.sg,a.u,a.x0,a.CE,m.rS]})}return o})();function wi(o,r){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",null==e.quoteDetails||null==e.quoteDetails.customer?null:e.quoteDetails.customer.companyName,", ")}}function Fi(o,r){if(1&o&&(t.TgZ(0,"option",87),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",null==e?null:e._id),t.xp6(1),t.gL8(" ",null==e?null:e.warehouseName,"",null==e?null:e.factoryName,",",null==e?null:e.addressLine1,",",null==e?null:e.cityName,",",null==e||null==e.state?null:e.state.name,",",null==e||null==e.country?null:e.country.name," ")}}function Pi(o,r){if(1&o&&(t.TgZ(0,"option",87),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",null==e?null:e._id),t.xp6(1),t.gL8(" ",null==e?null:e.warehouseName,"",null==e?null:e.factoryName,",",null==e?null:e.addressLine1,",",null==e?null:e.cityName,",",null==e||null==e.state?null:e.state.name,",",null==e||null==e.country?null:e.country.name," ")}}const Di=function(o){return["/quotes/detail",o]};function Ii(o,r){if(1&o&&(t.TgZ(0,"div",88)(1,"div",89)(2,"div",90)(3,"a",91),t._uU(4,"View Previous Quotes"),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("routerLink",t.VKq(1,Di,null==e.quoteDetails?null:e.quoteDetails.previousQuoteId))}}function Ui(o,r){1&o&&t._UZ(0,"div",92)}function Ni(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"%"),t.qZA())}function ki(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"%"),t.qZA())}function Si(o,r){if(1&o&&(t.TgZ(0,"td")(1,"div",57)(2,"div",24)(3,"div",96)(4,"label",97),t._uU(5,"Lower Limit"),t.qZA(),t.TgZ(6,"div",58)(7,"div",98),t._UZ(8,"input",99),t.YNc(9,Ni,2,0,"span",10),t.qZA()()(),t.TgZ(10,"div",96)(11,"label",100),t._uU(12,"Upper Limit"),t.qZA(),t.TgZ(13,"div",58)(14,"div",98),t._UZ(15,"input",101),t.YNc(16,ki,2,0,"span",10),t.qZA()()()()()()),2&o){const e=t.oxw().$implicit;t.xp6(9),t.Q6J("ngIf","percentage"===(null==e||null==e.value?null:e.value.unit)),t.xp6(7),t.Q6J("ngIf","percentage"===(null==e||null==e.value?null:e.value.unit))}}function Ji(o,r){1&o&&(t.TgZ(0,"td",102),t._uU(1," ---- "),t.qZA())}function Yi(o,r){if(1&o&&(t.TgZ(0,"tr",28)(1,"td"),t._UZ(2,"input",93),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"input",94),t.qZA(),t.YNc(5,Si,17,2,"td",10),t.YNc(6,Ji,2,0,"td",95),t.qZA()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e)),t.xp6(5),t.Q6J("ngIf",e.value.hasOwnProperty("lowerTolerance")),t.xp6(1),t.Q6J("ngIf",!e.value.hasOwnProperty("lowerTolerance"))}}const Li=function(o){return{active:o}};function Oi(o,r){if(1&o&&(t.TgZ(0,"div",103),t._UZ(1,"img",104),t.qZA()),2&o){const e=r.$implicit;t.Q6J("ngClass",t.VKq(2,Li,0===r.index)),t.xp6(1),t.Q6J("src",e,t.LSH)}}function Gi(o,r){if(1&o&&t._UZ(0,"img",116),2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function Vi(o,r){if(1&o&&t._UZ(0,"img",117),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Wi(o,r){if(1&o&&t._UZ(0,"img",118),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Mi(o,r){if(1&o&&t._UZ(0,"img",119),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function $i(o,r){if(1&o&&t._UZ(0,"img",120),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Ei(o,r){if(1&o&&t._UZ(0,"img",121),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function ji(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",107)(1,"div",108)(2,"div",109),t.YNc(3,Gi,1,2,"img",110),t.YNc(4,Vi,1,1,"img",111),t.YNc(5,Wi,1,1,"img",112),t.YNc(6,Mi,1,1,"img",113),t.YNc(7,$i,1,1,"img",114),t.YNc(8,Ei,1,1,"img",115),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()(),t.TgZ(11,"div")(12,"a",44),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.downloadImage(s.url))}),t._uU(13,"Download "),t._UZ(14,"i",45),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function Ri(o,r){if(1&o&&(t.ynx(0),t.TgZ(1,"div",34)(2,"h6",105),t._uU(3,"Artwork:"),t.qZA()(),t.TgZ(4,"div",58),t.YNc(5,ji,15,7,"div",106),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.productArtworks)}}function Ki(o,r){if(1&o&&t._UZ(0,"img",116),2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function Bi(o,r){if(1&o&&t._UZ(0,"img",117),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Hi(o,r){if(1&o&&t._UZ(0,"img",118),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function zi(o,r){if(1&o&&t._UZ(0,"img",119),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Xi(o,r){if(1&o&&t._UZ(0,"img",120),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function tn(o,r){if(1&o&&t._UZ(0,"img",121),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function en(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",107)(1,"div",108)(2,"div",109),t.YNc(3,Ki,1,2,"img",110),t.YNc(4,Bi,1,1,"img",111),t.YNc(5,Hi,1,1,"img",112),t.YNc(6,zi,1,1,"img",113),t.YNc(7,Xi,1,1,"img",114),t.YNc(8,tn,1,1,"img",115),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()(),t.TgZ(11,"div")(12,"a",44),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.downloadImage(s.url))}),t._uU(13,"Download "),t._UZ(14,"i",45),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function on(o,r){if(1&o&&(t.ynx(0),t.TgZ(1,"div",122)(2,"h6",35),t._uU(3,"Additional Attachments:"),t.qZA()(),t.TgZ(4,"div",58),t.YNc(5,en,15,7,"div",106),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.productAttachments)}}function nn(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Shipping term is required. "),t.qZA())}function rn(o,r){if(1&o&&(t.TgZ(0,"div",125),t.YNc(1,nn,2,0,"div",10),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.quotationsFormGroupControls.shippingTerms.errors.required)}}const _=function(o){return{"is-invalid":o}};function sn(o,r){if(1&o&&(t.TgZ(0,"div",24)(1,"div",123)(2,"div",58)(3,"label"),t._uU(4,"Shipping Terms"),t.qZA(),t.TgZ(5,"select",124)(6,"option"),t._uU(7,"Select"),t.qZA()(),t.YNc(8,rn,2,1,"div",60),t.qZA()()()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("disabled",!0)("ngClass",t.VKq(3,_,e.quotationFormSubmittied&&e.quotationsFormGroupControls.shippingTerms.errors)),t.xp6(3),t.Q6J("ngIf",e.quotationFormSubmittied&&e.quotationsFormGroupControls.shippingTerms.errors)}}function ln(o,r){if(1&o&&(t.TgZ(0,"td",126)(1,"div",127),t._UZ(2,"input",128),t.TgZ(3,"div"),t._uU(4),t.qZA()()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e)),t.xp6(4),t.hij("(\xb1 ",e.value.quantityTolerance,"%)")}}function an(o,r){if(1&o&&(t.TgZ(0,"td",129)(1,"div",130),t._UZ(2,"input",131),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function un(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"td",129)(1,"div",130)(2,"input",132),t.NdJ("keyup",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.changePrice(s))}),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function cn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"td",129)(1,"div",130)(2,"input",133),t.NdJ("keyup",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.changePrice(s))}),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function mn(o,r){if(1&o&&(t.TgZ(0,"td",126)(1,"div",127),t._UZ(2,"input",134),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function pn(o,r){if(1&o&&(t.TgZ(0,"td",126)(1,"div",127),t._UZ(2,"input",135),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function dn(o,r){if(1&o&&(t.TgZ(0,"td",126)(1,"div",127),t._UZ(2,"input",136),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function gn(o,r){if(1&o&&(t.TgZ(0,"td",126)(1,"div",127),t._UZ(2,"input",137),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function _n(o,r){if(1&o&&(t.TgZ(0,"td",126)(1,"div",127),t._UZ(2,"input",138),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function hn(o,r){if(1&o&&(t.TgZ(0,"td",126)(1,"div",127),t._UZ(2,"input",139),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e))}}function fn(o,r){1&o&&t._UZ(0,"div",140)}function qn(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," PPS Quantity is required. "),t.qZA())}function Tn(o,r){if(1&o&&(t.TgZ(0,"div",125),t.YNc(1,qn,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ppsFormControls.prePurchaseSampleQuantity.errors.required)}}function Zn(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Production Lead Time is required. "),t.qZA())}function vn(o,r){if(1&o&&(t.TgZ(0,"div",125),t.YNc(1,Zn,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ppsFormControls.prePurchaseSampleProductionLeadTime.errors.required)}}function Cn(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Grand Total Price "),t.qZA())}function xn(o,r){if(1&o&&(t.TgZ(0,"div",125),t.YNc(1,Cn,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ppsFormControls.prePurchaseSampleTotalPrice.errors.required)}}function bn(o,r){1&o&&t._UZ(0,"div",141)}function Qn(o,r){if(1&o&&(t.TgZ(0,"option",150),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw(2);t.s9C("value",e),t.Q6J("disabled",n.isSelected(e)),t.xp6(1),t.hij(" ",e," ")}}function yn(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Name is required. "),t.qZA())}function An(o,r){if(1&o&&(t.TgZ(0,"div",151),t.YNc(1,yn,2,0,"div",10),t.qZA()),2&o){const e=t.oxw().$implicit;let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.get("name"))||null==n.errors?null:n.errors.required)}}function wn(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Cost is required. "),t.qZA())}function Fn(o,r){if(1&o&&(t.TgZ(0,"div",151),t.YNc(1,wn,2,0,"div",10),t.qZA()),2&o){const e=t.oxw().$implicit;let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.get("cost"))||null==n.errors?null:n.errors.required)}}function Pn(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.ynx(1,142),t.TgZ(2,"td",8)(3,"div",58)(4,"div",143)(5,"div",144)(6,"select",145)(7,"option",146),t._uU(8,"Select Cost"),t.qZA(),t.YNc(9,Qn,2,3,"option",147),t.qZA(),t.YNc(10,An,2,1,"div",84),t.qZA()()()(),t.TgZ(11,"td")(12,"div",58)(13,"div",143)(14,"div",144)(15,"input",148),t.NdJ("keyup",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.totalOneTimeCost())}),t.qZA(),t.YNc(16,Fn,2,1,"div",84),t.qZA(),t.TgZ(17,"div"),t._UZ(18,"div",149),t.qZA()()()(),t.BQk(),t.qZA()}if(2&o){const e=r.$implicit,n=r.index,i=t.oxw();let s,l;t.xp6(1),t.Q6J("formGroupName",n),t.xp6(5),t.Q6J("disabled",!0),t.xp6(3),t.Q6J("ngForOf",i.costsList),t.xp6(1),t.Q6J("ngIf",i.oneTimeFormSubmitted&&(null==(s=e.get("name"))?null:s.errors)),t.xp6(6),t.Q6J("ngIf",i.oneTimeFormSubmitted&&(null==(l=e.get("cost"))?null:l.errors))}}function Dn(o,r){1&o&&t._UZ(0,"div",140)}function In(o,r){if(1&o&&(t.TgZ(0,"h6"),t._uU(1),t.TgZ(2,"span",152),t._uU(3,"Notified by Customer"),t.qZA()()),2&o){const e=t.oxw();t.xp6(1),t.hij("Case Pack: ",null==e.quoteDetails||null==e.quoteDetails.customerProducts||null==e.quoteDetails.customerProducts.productForm?null:e.quoteDetails.customerProducts.productForm.casePack," ")}}function Un(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Case Pack is required. "),t.qZA())}function Nn(o,r){if(1&o&&(t.TgZ(0,"div",151),t.YNc(1,Un,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.casePack.errors.required)}}function kn(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Valid Upto date is required. "),t.qZA())}function Sn(o,r){if(1&o&&(t.TgZ(0,"div",151),t.YNc(1,kn,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.validUpto.errors.required)}}function Jn(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Length is required. "),t.qZA())}function Yn(o,r){if(1&o&&(t.TgZ(0,"div",151),t.YNc(1,Jn,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.dimensionFormControls.length||null==e.dimensionFormControls.length.errors?null:e.dimensionFormControls.length.errors.required)}}function Ln(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Breadth is required. "),t.qZA())}function On(o,r){if(1&o&&(t.TgZ(0,"div",151),t.YNc(1,Ln,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.dimensionFormControls.breadth||null==e.dimensionFormControls.breadth.errors?null:e.dimensionFormControls.breadth.errors.required)}}function Gn(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Height is required. "),t.qZA())}function Vn(o,r){if(1&o&&(t.TgZ(0,"div",151),t.YNc(1,Gn,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.dimensionFormControls.height||null==e.dimensionFormControls.height.errors?null:e.dimensionFormControls.height.errors.required)}}function Wn(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Gross weight is required. "),t.qZA())}function Mn(o,r){if(1&o&&(t.TgZ(0,"div",125),t.YNc(1,Wn,2,0,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.grossWeight.errors.required)}}function $n(o,r){1&o&&(t.TgZ(0,"label"),t._uU(1," Shipping Address "),t.qZA())}function En(o,r){1&o&&(t.TgZ(0,"label"),t._uU(1," Origin Port "),t.qZA())}function jn(o,r){1&o&&(t.TgZ(0,"label"),t._uU(1," Destination Port "),t.qZA())}function Rn(o,r){if(1&o&&(t.TgZ(0,"option",87),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,e)," ")}}function Kn(o,r){if(1&o&&(t.TgZ(0,"select",155)(1,"option",146),t._uU(2,"Select"),t.qZA(),t.YNc(3,Rn,3,4,"option",15),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("disabled",!0)("ngClass",t.VKq(3,_,e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)),t.xp6(3),t.Q6J("ngForOf",e.nearestPortArr)}}function Bn(o,r){if(1&o&&(t.TgZ(0,"option",87),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,e)," ")}}function Hn(o,r){if(1&o&&(t.TgZ(0,"select",156)(1,"option",146),t._uU(2,"Select"),t.qZA(),t.YNc(3,Bn,3,4,"option",15),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("disabled",!0)("ngClass",t.VKq(3,_,e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)),t.xp6(3),t.Q6J("ngForOf",e.cifShippingPorts)}}function zn(o,r){if(1&o&&(t.TgZ(0,"option",87),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e._id),t.xp6(1),t.HOy(" ",e.name,", ",null==e?null:e.addressLine1,", ",null==e?null:e.addressLine2,", ",null==e?null:e.cityName," ")}}function Xn(o,r){if(1&o&&(t.TgZ(0,"select",156)(1,"option",146),t._uU(2,"Select"),t.qZA(),t.YNc(3,zn,2,5,"option",15),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("disabled",!0)("ngClass",t.VKq(3,_,e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)),t.xp6(3),t.Q6J("ngForOf",e.addresses)}}function tr(o,r){1&o&&(t.ynx(0),t._uU(1," Origin Port "),t.BQk())}function er(o,r){1&o&&(t.ynx(0),t._uU(1," Origin Port "),t.BQk())}function or(o,r){1&o&&(t.ynx(0),t._uU(1," Shipping address "),t.BQk())}function ir(o,r){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,tr,2,0,"ng-container",10),t.YNc(2,er,2,0,"ng-container",10),t.YNc(3,or,2,0,"ng-container",10),t._uU(4," is required. "),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf","FOB"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","CIF"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","DDU"===e.quotationsForm.value.shippingTerms||"DDP"===e.quotationsForm.value.shippingTerms)}}function nr(o,r){if(1&o&&(t.TgZ(0,"div",151),t.YNc(1,ir,5,3,"div",10),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.shippingAddress.errors.required)}}function rr(o,r){if(1&o&&(t.TgZ(0,"div",58),t.YNc(1,$n,2,0,"label",10),t.YNc(2,En,2,0,"label",10),t.YNc(3,jn,2,0,"label",10),t.YNc(4,Kn,4,5,"select",153),t.YNc(5,Hn,4,5,"select",154),t.YNc(6,Xn,4,5,"select",154),t.YNc(7,nr,2,1,"div",76),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","DDU"===e.quotationsForm.value.shippingTerms||"DDP"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","FOB"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","CIF"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","FOB"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","CIF"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","DDU"===e.quotationsForm.value.shippingTerms||"DDP"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf",e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)}}function sr(o,r){1&o&&t._UZ(0,"div",140)}let lr=(()=>{class o{constructor(e,n,i,s,l,c){this._US=e,this._QS=n,this._notifier=i,this.ngxLoaderService=s,this.routes=l,this._FB=c,this.quoteId="",this.factoryList=[],this.warehouseList=[],this.permissionsArr=[],this.quotePermission={add:!1,update:!1,delete:!1},this.totalOneTimeCostNum=0,this.factoryWarehouseSelectedId="",this.factoryWarehouseSelectedType="",this.selectedImage=0,this.packagingFormSubmittied=!1,this.ppsFormSubmittied=!1,this.oneTimeFormSubmitted=!1,this.quotationFormSubmittied=!1,this.toleranceFormSubmittied=!1,this.isCasePackNotfied=!1,this.isLoading=!1,this.isLoadingTolerance=!1,this.isLoadingPps=!1,this.isLoadingOneTime=!1,this.isLoadingPackaging=!1,this.nearestPortArr=[],this.cifShippingPorts=[],this.addresses=[],this.costsList=[],this.shippingTermsList=[],this.isDisabled=!0,this.productArtworks=[],this.productAttachments=[]}ngOnInit(){this.initForm(),this.routes.params.subscribe(e=>{e&&e.quoteId&&(this.quoteId=e.quoteId,this.getQuoteDetails())}),this._US.getPermissions().subscribe(e=>{this.permissionsArr=e,Object.keys(this.quotePermission).map(n=>{this.canPerformAction("Quotes",n)})}),this.oneTimeCost(),this.shippingTerm(),$("#carouselExampleControls").on("slide.bs.carousel",e=>{this.selectedImage=e.to}),this.quotationsForm.valueChanges.subscribe(e=>{e.shippingTerms&&(this.shippingTermString=e.shippingTerms,"Ex-Factory"!==e.shippingTerms?this.packagingForm.addControl("shippingAddress",new a.NI("",a.kI.required)):this.packagingForm.removeControl("shippingAddress"),"Ex-Factory"!==e.shippingTerms&&this.packagingForm.get("shippingAddress")?.reset(this.quoteDetails?.shippingAddress?this.quoteDetails?.shippingAddress:""))})}canPerformAction(e,n){this.quotePermission[n]=this._US.hasPermission(e,n,this.permissionsArr)}getQuoteDetails(){this.ngxLoaderService.start(),this._QS.getQuoteDetails(this.quoteId).subscribe(e=>{this.ngxLoaderService.stop(),e.meta.status?(this.quoteDetails=e.data,this.addresses=this.quoteDetails.userAddresses,this.cifShippingPorts=this.quoteDetails.userAddresses.map(n=>n.mappedPort),this.cifShippingPorts=[...new Set(this.cifShippingPorts)],this.quoteDetails?.shippingTerms&&this.quotationsForm.get("shippingTerms")?.setValue(this.quoteDetails?.shippingTerms),this.getFactoryList(this.quoteDetails.vendorId),this.getWarehouseList(this.quoteDetails.vendorId),this.factoryWarehouseSelectedType=this.quoteDetails.factoryId?"factory":"warehouse",this.quoteDetails?.factoryId?(this.nearestPortArr=[],this.nearestPortArr.push(this.quoteDetails.factory.nearestPort),this.factoryWarehouseSelectedId=this.quoteDetails?.factoryId):this.quoteDetails.warehouseId&&(this.nearestPortArr=[],this.nearestPortArr.push(this.quoteDetails.warehouse.nearestPort),this.factoryWarehouseSelectedId=this.quoteDetails?.warehouseId),this.quoteDetails?.productTolerance.map((n,i)=>{this.addTolerance(n)}),this.quoteDetails?.customerProducts?.productArtworks.map(n=>{let i=n.split("/"),s=this.getFileType(i[i.length-1]);delete s.type,this.productArtworks.push({url:n,name:i[i.length-1],...s})}),this.quoteDetails?.customerProducts?.productAttachments.map(n=>{let i=n.split("/"),s=this.getFileType(i[i.length-1]);delete s.type,this.productAttachments.push({url:n,name:i[i.length-1],...s})}),this.quoteDetails?.adminQuotation.map((n,i)=>{this.addQuotation(n,!0)}),this.quoteDetails?.prePurchaseSampleQuantity&&this.ppsForm.patchValue({prePurchaseSampleProductionLeadTime:this.quoteDetails?.prePurchaseSampleProductionLeadTime,prePurchaseSampleQuantity:this.quoteDetails?.prePurchaseSampleQuantity,prePurchaseSampleTotalPrice:this.quoteDetails?.prePurchaseSampleTotalPrice}),this.quoteDetails?.oneTimeCost.map((n,i)=>{this.addItem(n)}),this.totalOneTimeCost(),this.isCasePackNotfied=this.quoteDetails?.customerProducts.productForm.hasOwnProperty("casePack"),this.isCasePackNotfied&&this.packagingForm.get("casePack")?.setValue(this.quoteDetails?.customerProducts.productForm.casePack),this.packagingForm.patchValue(this.quoteDetails),this.packagingForm.get("validUpto")?.setValue(q(this.quoteDetails.validUpto).format("YYYY-MM-DD"))):(this.quoteDetails=void 0,this._notifier.showWarning(e.meta.msg,""))},e=>{this.ngxLoaderService.stop()})}getFactoryList(e){this._QS.getFactoryList(e).pipe((0,u.x)(()=>{})).subscribe(n=>{this.factoryList=n?.meta?.status?n.data:[]})}getWarehouseList(e){this._QS.getWarehouseList(e).pipe((0,u.x)(()=>{})).subscribe(n=>{this.warehouseList=n?.meta?.status?n.data:[]})}initForm(){this.ppsForm=this._FB.group({prePurchaseSampleQuantity:["",a.kI.required],prePurchaseSampleProductionLeadTime:["",a.kI.required],prePurchaseSampleTotalPrice:["",a.kI.required]}),this.packagingForm=this._FB.group({casePack:["",a.kI.required],validUpto:["",a.kI.required],dimension:this._FB.group({length:[0,a.kI.required],breadth:[0,a.kI.required],height:[0,a.kI.required]}),grossWeight:["",a.kI.required],shippingAddress:["",a.kI.required]}),this.oneTimeCostForm=this._FB.group({costsArray:new a.Oe([])}),this.quotationsForm=this._FB.group({shippingTerms:["",a.kI.required],quotationsArray:new a.Oe([])}),this.toleranceForm=this._FB.group({toleranceArray:new a.Oe([])})}get ppsFormControls(){return this.ppsForm.controls}get packagingFormControls(){return this.packagingForm.controls}get dimensionFormGroup(){return this.packagingForm.get("dimension")}get dimensionFormControls(){return this.dimensionFormGroup.controls}get oneTimeCostFormControls(){return this.oneTimeCostForm.controls.costsArray}get quotationsFormControls(){return this.quotationsForm.controls.quotationsArray}get quotationsFormGroupControls(){return this.quotationsForm.controls}get toleranceFormControls(){return this.toleranceForm.controls.toleranceArray}addTolerance(e){this.toleranceFormControls.push(this.toleranceItem(e))}addQuotation(e,n){this.quotationsFormControls.push(this.quotationItem(e,n))}toleranceItem(e){return this._FB.group({name:e?.name,measurement:e?.measurement||"---",...e.upperTolerance&&{upperTolerance:[e?.upperTolerance,a.kI.required],lowerTolerance:[e?.lowerTolerance,a.kI.required]},...e.upperTolerance&&{unit:[e?.unit,a.kI.required]}})}findValue(e){return 0==this.quoteDetails?.customerProducts?.productForm[e]?.length?"---":"object"==typeof this.quoteDetails?.customerProducts?.productForm[e]?`${this.quoteDetails?.customerProducts?.productForm[e].value} ${this.quoteDetails?.customerProducts?.productForm[e].unit}`:this.quoteDetails?.customerProducts?.productForm[e]}quotationItem(e,n){return this._FB.group({quantity:n?e?.quantity:e,quantityTolerance:n?e?.quantityTolerance:e,productionleadTime:n?e?.productionleadTime:"",pricePerPiece:n?e?.pricePerPiece:"",marginPercentPricePerPiece:n?e?.marginPercentPricePerPiece.toFixed(3):"",marginPricePerPiece:n?e?.marginPricePerPiece.toFixed(3):"",TotalPricePerPiece:n?e?.TotalPricePerPiece.toFixed(3):"",totalPrice:n?e?.totalPrice.toFixed(3):0,totalCbm:n?e?.totalCbm.toFixed(3):0,totalCartons:n?e?.totalCartons:"Carton"===this.quoteDetails?.customerProducts?.quantityType?e:0,totalWeight:n?e?.totalWeight:0})}createItem(e){return this._FB.group({name:[{value:e?e?.name:"",disabled:!0},a.kI.required],cost:[{value:e?e?.cost:"",disabled:!0},a.kI.required]})}addItem(e){this.oneTimeCostFormControls.push(this.createItem(e))}removeOneTimeCost(e){this.oneTimeCostForm.controls.costsArray.removeAt(e),this.totalOneTimeCost()}totalOneTimeCost(){let e=0;this.oneTimeCostForm.value.costsArray.map((n,i)=>{e+=n?.cost}),this.totalOneTimeCostNum=e}changeOfFactoryWarehouse(e){this.factoryWarehouseSelectedId=e?.target?.value;let n=this.factoryList.find(s=>s?._id===e?.target?.value),i=this.warehouseList.find(s=>s?._id===e?.target?.value);this.nearestPortArr=[],n&&(this.nearestPortArr.push(n.nearestPort),this.factoryWarehouseSelectedType="factory"),i&&(this.nearestPortArr.push(i.nearestPort),this.factoryWarehouseSelectedType="warehouse")}getFormGroup(e){return e}downloadImage(e){return(0,b.Z)(function*(){const i=yield(yield fetch(`${e}?pactap=1`)).blob(),s=e.substring(e.lastIndexOf("/")+1),l=document.createElement("a"),c=window.URL.createObjectURL(i);l.href=c,l.download=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(e)})()}getFileType(e){const n=e.lastIndexOf(".");if(-1===n)return"File name has no extension";switch(e.substring(n+1).toLowerCase()){case"jpg":case"jpeg":case"png":return{type:"Image file",isImage:!0};case"pdf":return{type:"PDF file",isPdf:!0};case"doc":case"docx":return{type:"Word document",isWord:!0};case"txt":return{type:"Text file",isText:!0};case"ai":return{type:"Adobe Illustrator file",isIllustrator:!0};case"cdr":return{type:"CorelDRAW file",isCorelDraw:!0};case"xls":return{type:"Excel spreadsheet",isExcel:!0};case"csv":return{type:"CSV file",isExcel:!0};default:return"Unknown file type"}}changePrice(e){e.get("totalPrice")?.setValue(Number(e.value.pricePerPiece)*e.value.quantity)}changeCasepack(e){this.quotationsFormControls.controls.map(i=>{"CARTON"===this.quoteDetails?.customerProducts?.quantityType.toUpperCase()||i.get("totalCartons")?.setValue((e.target.value?i.value.quantity/Number(e.target.value):0).toFixed())})}changeLbh(e){this.quotationsFormControls.controls.map(n=>{let i=Number(n.get("totalCartons")?.value);Number(this.dimensionFormGroup.get("length")?.value)&&Number(this.dimensionFormGroup.get("breadth")?.value)&&Number(this.dimensionFormGroup.get("height")?.value)&&n.get("totalCbm")?.setValue(Number(this.dimensionFormGroup.get("length")?.value||0)*Number(this.dimensionFormGroup.get("breadth")?.value||0)*Number(this.dimensionFormGroup.get("height")?.value||0)*16387064e-12*i)})}oneTimeCost(){this._QS.getAppConfigByKey("ONE_TIME_COST").pipe((0,u.x)(()=>{})).subscribe(e=>{e.meta.status?this.costsList=e.data.value.split("|").map(n=>n.trim()):this._notifier.showError(e.meta.msg,"Error")})}shippingTerm(){this._QS.getAppConfigByKey("SHIPPING_TERMS_VALUE").pipe((0,u.x)(()=>{})).subscribe(e=>{e.meta.status?(this.shippingTermsList=e.data.value.split("|"),this.shippingTermsList=this.shippingTermsList.map(n=>n.trim())):this._notifier.showError(e.meta.msg,"Error")})}isSelected(e){this.oneTimeCostForm.value.costsArray.map((n,i)=>n?.name===e)}updateQuotation(){if(this.quotationsForm.valid){this.isLoading=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},adminQuotation:this.quotationsForm.value.quotationsArray,shippingTerms:this.quotationsForm.value.shippingTerms};this._QS.updateQuotation(e).pipe((0,u.x)(()=>{this.isLoading=!1})).subscribe(n=>{n.meta.status?(this.getQuoteDetails(),this._notifier.showSuccess(n.meta.msg,"Success")):this._notifier.showWarning(n.meta.msg,"Error")},n=>{this._notifier.showError("Something Went Wrong","Error")})}else this.quotationFormSubmittied=!0}updateTolerance(){if(this.toleranceForm.valid){this.isLoadingTolerance=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},productTolerance:this.toleranceForm.value.toleranceArray};this._QS.updateTolerance(e).pipe((0,u.x)(()=>{this.isLoadingTolerance=!1})).subscribe(n=>{n.meta.status?this._notifier.showSuccess(n.meta.msg,"Success"):this._notifier.showWarning(n.meta.msg,"Error")},n=>{this._notifier.showError("Something Went Wrong","Error")})}else this.toleranceFormSubmittied=!0}updatePPS(){if(this.ppsForm.valid){this.isLoadingPps=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},...this.ppsForm.value};this._QS.updatePPS(e).pipe((0,u.x)(()=>{this.isLoadingPps=!1})).subscribe(n=>{n.meta.status?this._notifier.showSuccess(n.meta.msg,"Success"):this._notifier.showWarning(n.meta.msg,"Error")},n=>{this._notifier.showError("Something Went Wrong","Error")})}else this.ppsFormSubmittied=!0}updateOneTimeCost(){if(this.oneTimeCostForm.valid){this.isLoadingOneTime=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},oneTimeCost:this.oneTimeCostForm.value.costsArray,totalOneTimeCost:this.totalOneTimeCostNum};this._QS.updateOneTimeCost(e).pipe((0,u.x)(()=>{this.isLoadingOneTime=!1})).subscribe(n=>{n.meta.status?this._notifier.showSuccess(n.meta.msg,"Success"):this._notifier.showWarning(n.meta.msg,"Error")},n=>{this._notifier.showError("Something Went Wrong","Error")})}else this.oneTimeFormSubmitted=!0}updatePackaging(){if(this.packagingForm.valid){this.packagingForm.value.validUpto=q(this.packagingForm.value.validUpto).valueOf(),this.isLoadingPackaging=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},...this.packagingForm.value};this._QS.updatePackaging(e).pipe((0,u.x)(()=>{this.isLoadingPackaging=!1})).subscribe(n=>{n.meta.status?this._notifier.showSuccess(n.meta.msg,"Success"):this._notifier.showWarning(n.meta.msg,"Error")},n=>{this._notifier.showError("Something Went Wrong","Error")})}else this.packagingFormSubmittied=!0}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(Q.K),t.Y36(Z),t.Y36(y.lG),t.Y36(v.LA),t.Y36(f.gz),t.Y36(a.qu))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-view-quote"]],decls:219,vars:80,consts:[[1,"dashboardMain"],[1,"bg-white","white-well"],[1,"row","align-items-center"],[1,"col-7","col-sm-7","col-md-8","col-lg-8"],[1,"page-header","d-flex","justify-content-between"],[1,"mb-0"],["href","javascript:history.back()",1,"back-arrow"],[1,"bi","bi-arrow-left-short","me-4"],[1,"text-success"],[1,"profile-info"],[4,"ngIf"],[1,"fw400","form-box","d-flex","align-items-center","text-nowrap"],[1,"form-group","mb-0","ms-3","col-md-8"],[1,"form-control","form-ctrl","greenborder",3,"ngModel","disabled","ngModelChange","change"],["label","Factory"],[3,"value",4,"ngFor","ngForOf"],["label","Warehouse"],["class","col-5 col-sm-5 col-md-4 col-lg-4 text-end",4,"ngIf"],[1,"row","justify-content-between"],[1,"col-12","col-sm-4","col-md-4","col-lg-4"],[1,"quotations-script","bg-success-light"],[1,"mb-0","text-white"],["class","col-6 col-sm-3 col-md-2 col-lg-2 text-end",4,"ngIf"],[1,"product-item","p-0","quotations-product-item","mb-0"],[1,"row"],[1,"col-12","col-sm-7","col-md-8","col-lg-8","col-xl-8"],[1,"table-card"],[1,"table-reponsive"],[3,"formGroup"],[1,"table","table-bordered","table-lg"],[1,"table-success","text-white"],[2,"width","40%"],[3,"formGroup",4,"ngFor","ngForOf"],[1,"col-12","col-sm-5","col-md-4","col-lg-4","col-xl-4"],[1,"product-body"],[1,"mb-2"],["id","carouselExampleControls","data-bs-ride","carousel",1,"carousel","slide","mb-3"],[1,"carousel-inner"],["class","carousel-item",3,"ngClass",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["href","javascript:void(0)",1,"downloadButton",3,"click"],[1,"bi","bi-box-arrow-in-down"],[1,"d-sm-inline-block","ms-3","text-dark","fw500"],[1,"mb-3"],["class","row",4,"ngIf"],[1,"table","table-bordered","tblbordersolid","table-lg"],[2,"width","30%"],["class","",3,"formGroup",4,"ngFor","ngForOf"],["class","text-center",3,"formGroup",4,"ngFor","ngForOf"],[1,"table-success-light"],["class","text-end",4,"ngIf"],[1,"col-12","col-sm-5","col-md-5","col-lg-5"],[1,"bg-white","white-well","mb-2"],[1,"form-box"],[1,"form-group"],["type","text","readonly","","placeholder","PPS Quantity","formControlName","prePurchaseSampleQuantity",1,"form-control","form-ctrl","greenborder",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","readonly","","placeholder","Production Lead Time","formControlName","prePurchaseSampleProductionLeadTime",1,"form-control","form-ctrl","greenborder",3,"ngClass"],[1,"form-group","mb-0"],["type","text","placeholder","Grand Total Price","formControlName","prePurchaseSampleTotalPrice","readonly","",1,"form-control","form-ctrl","greenborder",3,"ngClass"],["class","text-end mt-3",4,"ngIf"],[1,"col-12","col-sm-7","col-md-7","col-lg-7","mb-0"],[1,"bg-white","white-well","mb-0"],[1,"table-card","mb-2"],[1,"table","table-bordered","table-lg","form-box"],[1,"table-secondary"],["formArrayName","costsArray"],[4,"ngFor","ngForOf"],[1,"bg-white","white-well","mt-4"],[1,"form-box",3,"formGroup"],[1,"formflex","justify-content-between"],["type","text","placeholder","Case Pack","readonly","","formControlName","casePack",1,"form-control","form-ctrl","greenborder",3,"ngClass","keyup"],["style","display: block;","class","invalid-feedback",4,"ngIf"],["type","date","placeholder","DD/MM/YYYY","readonly","","formControlName","validUpto",1,"form-control","form-ctrl","datePicker","greenborder",3,"ngClass"],[1,"text-success","fw300"],["formGroupName","dimension",1,"row"],[1,"col-md-4","col-4"],["type","number","placeholder","L","readonly","","formControlName","length",1,"form-control","form-ctrl","greenborder","text-center",3,"ngClass","keyup"],["type","number","placeholder","B","formControlName","breadth","readonly","",1,"form-control","form-ctrl","greenborder","text-center",3,"ngClass","keyup"],["type","number","placeholder","H","formControlName","height","readonly","",1,"form-control","form-ctrl","greenborder","text-center",3,"ngClass","keyup"],["class","invalid-feedback","style","display: block;",4,"ngIf"],["type","text","placeholder","Gross Weight","readonly","","formControlName","grossWeight",1,"form-control","form-ctrl","greenborder",3,"ngClass"],["class","form-group",4,"ngIf"],[3,"value"],[1,"col-5","col-sm-5","col-md-4","col-lg-4","text-end"],[1,"column-btns","d-grid","align-items-center","justify-content-end"],[1,"form-box","form-filter"],["href","javascript:void(0)",1,"btn","btn-sumbit","btn-outline-success",3,"routerLink"],[1,"col-6","col-sm-3","col-md-2","col-lg-2","text-end"],["type","text","readonly","","formControlName","name",1,"form-control","form-ctrl","showastext"],["type","text","formControlName","measurement","readonly","",1,"form-control","form-ctrl","showastext"],["class","text-center",4,"ngIf"],[1,"col-md-6"],["for","lowerLimit",1,"mb-2"],[1,"inputPercentage"],["type","number","placeholder","30","readonly","","formControlName","lowerTolerance",1,"form-control","form-ctrl","greenborder","fs12"],["for","upperLimit",1,"mb-2"],["type","number","placeholder","30","readonly","","formControlName","upperTolerance",1,"form-control","form-ctrl","greenborder","fs12"],[1,"text-center"],[1,"carousel-item",3,"ngClass"],["alt"," ",1,"d-block","w-100",3,"src"],[1,"mb-2","mt-4"],["class","form-check-inline text-center",4,"ngFor","ngForOf"],[1,"form-check-inline","text-center"],[1,"alert-photo"],[1,"alert-photo-img"],[3,"src","alt",4,"ngIf"],["src","assets/images/cdr.png",3,"alt",4,"ngIf"],["src","assets/images/pdf.png",3,"alt",4,"ngIf"],["src","assets/images/excel.png",3,"alt",4,"ngIf"],["src","assets/images/xls.png",3,"alt",4,"ngIf"],["src","assets/images/illustrator.png",3,"alt",4,"ngIf"],[3,"src","alt"],["src","assets/images/cdr.png",3,"alt"],["src","assets/images/pdf.png",3,"alt"],["src","assets/images/excel.png",3,"alt"],["src","assets/images/xls.png",3,"alt"],["src","assets/images/illustrator.png",3,"alt"],[1,"product-body","mt-4"],[1,"col-md-6","col-lg-6","col-xl-6"],["formControlName","shippingTerms",1,"form-control","form-ctrl","greenborder",3,"disabled","ngClass"],[1,"invalid-feedback"],[1,"",3,"formGroup"],[1,"listtitlegreen"],["type","text","placeholder","","readonly","","formControlName","quantity",1,"form-control","form-ctrl","showastext2"],[1,"text-center",3,"formGroup"],[1,"listcontentgreen"],["type","text","placeholder","","readonly","","formControlName","productionleadTime",1,"form-control","form-ctrl"],["type","text","readonly","","placeholder","","formControlName","pricePerPiece",1,"form-control","form-ctrl",3,"keyup"],["type","text","placeholder","","readonly","","formControlName","marginPercentPricePerPiece",1,"form-control","form-ctrl",3,"keyup"],["type","text","placeholder","","readonly","","formControlName","marginPricePerPiece",1,"form-control","form-ctrl","showastext2",2,"font-size","1rem","font-weight","400","color","#212529"],["type","text","placeholder","","readonly","","formControlName","TotalPricePerPiece",1,"form-control","form-ctrl","showastext2",2,"font-size","1rem","font-weight","400","color","#212529"],["type","text","placeholder","","readonly","","formControlName","totalPrice",1,"form-control","form-ctrl","showastext2",2,"font-size","1rem","font-weight","400","color","#212529"],["type","text","placeholder","","readonly","","formControlName","totalCbm",1,"form-control","form-ctrl","showastext2",2,"font-size","1rem","font-weight","400","color","#212529"],["type","text","placeholder","","readonly","","formControlName","totalCartons",1,"form-control","form-ctrl","showastext2",2,"font-size","1rem","font-weight","400","color","#212529"],["type","text","placeholder","","readonly","","formControlName","totalWeight",1,"form-control","form-ctrl","showastext2",2,"font-size","1rem","font-weight","400","color","#212529"],[1,"text-end"],[1,"text-end","mt-3"],[3,"formGroupName"],[1,"addProperyName"],[1,"width100"],["formControlName","name",1,"form-control","form-ctrl","greenborder",3,"disabled"],["value",""],[3,"value","disabled",4,"ngFor","ngForOf"],["type","number","readonly","","placeholder","30,000","formControlName","cost",1,"form-control","form-ctrl","greenborder",3,"keyup"],[1,"delete_add"],[3,"value","disabled"],[1,"invalid-feedback",2,"display","block"],[1,"badge","bg-success"],["class","form-control form-ctrl greenborder","formControlName","shippingAddress",3,"disabled","ngClass",4,"ngIf"],["class","form-ctrl form-control","formControlName","shippingAddress",3,"disabled","ngClass",4,"ngIf"],["formControlName","shippingAddress",1,"form-control","form-ctrl","greenborder",3,"disabled","ngClass"],["formControlName","shippingAddress",1,"form-ctrl","form-control",3,"disabled","ngClass"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5)(6,"a",6),t._UZ(7,"i",7),t.qZA(),t._uU(8," Quoting "),t.TgZ(9,"span",8),t._uU(10),t.qZA(),t.TgZ(11,"sub",8),t._uU(12),t.qZA()()(),t.TgZ(13,"div",9)(14,"h6")(15,"em"),t._uU(16,"For: "),t.TgZ(17,"span",8),t.YNc(18,wi,2,1,"ng-container",10),t.TgZ(19,"small"),t._uU(20),t.qZA()()()(),t.TgZ(21,"h6",11),t._uU(22,"Quoting From: "),t.TgZ(23,"div",12)(24,"select",13),t.NdJ("ngModelChange",function(l){return i.factoryWarehouseSelectedId=l})("change",function(l){return i.changeOfFactoryWarehouse(l)}),t.TgZ(25,"optgroup",14),t.YNc(26,Fi,2,7,"option",15),t.qZA(),t.TgZ(27,"optgroup",16),t.YNc(28,Pi,2,7,"option",15),t.qZA()()()()()(),t.YNc(29,Ii,5,3,"div",17),t.qZA()(),t.TgZ(30,"div",1)(31,"div",18)(32,"div",19)(33,"div",20)(34,"h4",21),t._uU(35,"Product Details"),t.qZA()()(),t.YNc(36,Ui,1,0,"div",22),t.qZA(),t.TgZ(37,"div",23)(38,"div",24)(39,"div",25)(40,"div",26)(41,"div",27)(42,"form",28)(43,"table",29)(44,"thead")(45,"tr",30)(46,"td"),t._uU(47,"Details"),t.qZA(),t.TgZ(48,"td"),t._uU(49,"Measurements"),t.qZA(),t.TgZ(50,"td",31),t._uU(51,"Tolerances"),t.qZA()()(),t.TgZ(52,"tbody"),t.YNc(53,Yi,7,3,"tr",32),t.qZA()()()()()(),t.TgZ(54,"div",33)(55,"div",34)(56,"h6",35),t._uU(57,"Product Images:"),t.qZA()(),t.TgZ(58,"div")(59,"div",36)(60,"div",37),t.YNc(61,Oi,2,4,"div",38),t.qZA(),t.TgZ(62,"button",39),t._UZ(63,"span",40),t.TgZ(64,"span",41),t._uU(65,"Previous"),t.qZA()(),t.TgZ(66,"button",42),t._UZ(67,"span",43),t.TgZ(68,"span",41),t._uU(69,"Next"),t.qZA()()(),t.TgZ(70,"a",44),t.NdJ("click",function(){return i.downloadImage(null==i.quoteDetails||null==i.quoteDetails.product?null:i.quoteDetails.product.productImg[i.selectedImage])}),t._uU(71,"Download "),t._UZ(72,"i",45),t.qZA()(),t.YNc(73,Ri,6,1,"ng-container",10),t.YNc(74,on,6,1,"ng-container",10),t.qZA()()()(),t.TgZ(75,"div",1)(76,"div",20)(77,"h4",21),t._uU(78,"Quotations"),t.qZA()(),t.TgZ(79,"p",46),t._uU(80),t.qZA(),t.TgZ(81,"form",28)(82,"div",47),t.YNc(83,sn,9,5,"div",48),t.TgZ(84,"div",27)(85,"table",49)(86,"thead")(87,"tr",30)(88,"td",50),t._uU(89,"Quantity"),t.qZA(),t.YNc(90,ln,5,2,"td",51),t.qZA()(),t.TgZ(91,"tbody")(92,"tr")(93,"td",8),t._uU(94,"Production Lead Time (In Days):"),t.qZA(),t.YNc(95,an,3,1,"td",52),t.qZA(),t.TgZ(96,"tr")(97,"td",8),t._uU(98),t.qZA(),t.YNc(99,un,3,1,"td",52),t.qZA(),t.TgZ(100,"tr")(101,"td",8),t._uU(102),t.qZA(),t.YNc(103,cn,3,1,"td",52),t.qZA(),t.TgZ(104,"tr")(105,"td",8),t._uU(106),t.qZA(),t.YNc(107,mn,3,1,"td",51),t.qZA(),t.TgZ(108,"tr")(109,"td",8),t._uU(110),t.qZA(),t.YNc(111,pn,3,1,"td",51),t.qZA(),t.TgZ(112,"tr",53)(113,"td",8),t._uU(114,"Grand Total Price:"),t.qZA(),t.YNc(115,dn,3,1,"td",51),t.qZA(),t.TgZ(116,"tr")(117,"td",8),t._uU(118,"Total CBM:"),t.qZA(),t.YNc(119,gn,3,1,"td",51),t.qZA(),t.TgZ(120,"tr")(121,"td",8),t._uU(122,"Total Cartons:"),t.qZA(),t.YNc(123,_n,3,1,"td",51),t.qZA(),t.TgZ(124,"tr")(125,"td",8),t._uU(126,"Total Weight:"),t.qZA(),t.YNc(127,hn,3,1,"td",51),t.qZA()()()()(),t.YNc(128,fn,1,0,"div",54),t.qZA()(),t.TgZ(129,"div",24)(130,"div",55)(131,"div",56)(132,"div",20)(133,"h4",21),t._uU(134,"PPS"),t.qZA()(),t.TgZ(135,"form",28)(136,"div",57)(137,"div",58)(138,"label"),t._uU(139,"PPS Quantity "),t.TgZ(140,"small",8),t._uU(141,":"),t.qZA()(),t._UZ(142,"input",59),t.YNc(143,Tn,2,1,"div",60),t.qZA(),t.TgZ(144,"div",58)(145,"label"),t._uU(146,"Production Lead Time "),t.TgZ(147,"small",8),t._uU(148,"(In Days):"),t.qZA()(),t._UZ(149,"input",61),t.YNc(150,vn,2,1,"div",60),t.qZA(),t.TgZ(151,"div",62)(152,"label"),t._uU(153,"Grand Total Price:"),t.qZA(),t._UZ(154,"input",63),t.YNc(155,xn,2,1,"div",60),t.qZA()(),t.YNc(156,bn,1,0,"div",64),t.qZA()()(),t.TgZ(157,"div",65)(158,"div",66)(159,"div",20)(160,"h4",21),t._uU(161,"One Time Cost"),t.qZA()(),t.TgZ(162,"div",67)(163,"div",27)(164,"table",68)(165,"thead")(166,"tr",69)(167,"td",31),t._uU(168,"One Time Cost"),t.qZA(),t.TgZ(169,"td"),t._uU(170,"Cost"),t.qZA()()(),t.TgZ(171,"tbody"),t.ynx(172,28)(173,70),t.YNc(174,Pn,19,5,"tr",71),t.BQk()(),t.qZA()()()(),t.TgZ(175,"p"),t._uU(176),t.qZA()()()(),t.YNc(177,Dn,1,0,"div",54),t.TgZ(178,"div",72)(179,"div",20)(180,"h4",21),t._uU(181,"Packaging Details"),t.qZA()(),t.YNc(182,In,4,1,"h6",10),t.TgZ(183,"div",73)(184,"div",74)(185,"div",58)(186,"label"),t._uU(187,"Case Pack"),t.qZA(),t.TgZ(188,"input",75),t.NdJ("keyup",function(l){return i.changeCasepack(l)}),t.qZA(),t.YNc(189,Nn,2,1,"div",76),t.qZA(),t.TgZ(190,"div",58)(191,"label"),t._uU(192,"Valid Upto"),t.qZA(),t._UZ(193,"input",77),t.YNc(194,Sn,2,1,"div",76),t.qZA(),t.TgZ(195,"div",58)(196,"label"),t._uU(197,"Carton Dimensions "),t.TgZ(198,"span",78),t._uU(199,"(in Inches)"),t.qZA()(),t.TgZ(200,"div",79)(201,"div",80)(202,"input",81),t.NdJ("keyup",function(l){return i.changeLbh(l)}),t.qZA()(),t.TgZ(203,"div",80)(204,"input",82),t.NdJ("keyup",function(l){return i.changeLbh(l)}),t.qZA()(),t.TgZ(205,"div",80)(206,"input",83),t.NdJ("keyup",function(l){return i.changeLbh(l)}),t.qZA()(),t.YNc(207,Yn,2,1,"div",84),t.YNc(208,On,2,1,"div",84),t.YNc(209,Vn,2,1,"div",84),t.qZA()(),t.TgZ(210,"div",58)(211,"label"),t._uU(212,"Gross Weight "),t.TgZ(213,"span",78),t._uU(214,"(per case in kg)"),t.qZA()(),t._UZ(215,"input",85),t.YNc(216,Mn,2,1,"div",60),t.qZA()(),t.YNc(217,rr,8,7,"div",86),t.qZA(),t.YNc(218,sr,1,0,"div",54),t.qZA()()),2&n&&(t.xp6(10),t.hij("",null==i.quoteDetails||null==i.quoteDetails.product?null:i.quoteDetails.product.productName,","),t.xp6(2),t.hij("(Product ID: ",null==i.quoteDetails||null==i.quoteDetails.product?null:i.quoteDetails.product.productId,")"),t.xp6(6),t.Q6J("ngIf",null==i.quoteDetails||null==i.quoteDetails.vendor?null:i.quoteDetails.vendor.inviteBy),t.xp6(2),t.AsE("(Customer ID: ",null==i.quoteDetails||null==i.quoteDetails.customerLogin?null:i.quoteDetails.customerLogin.customerId," ), ",null==i.quoteDetails||null==i.quoteDetails.customer||null==i.quoteDetails.customer.countryObj?null:i.quoteDetails.customer.countryObj.name,""),t.xp6(4),t.Q6J("ngModel",i.factoryWarehouseSelectedId)("disabled",!0),t.xp6(2),t.Q6J("ngForOf",i.factoryList),t.xp6(2),t.Q6J("ngForOf",i.warehouseList),t.xp6(1),t.Q6J("ngIf",null==i.quoteDetails?null:i.quoteDetails.isRequote),t.xp6(7),t.Q6J("ngIf",i.quotePermission.update),t.xp6(6),t.Q6J("formGroup",i.toleranceForm),t.xp6(11),t.Q6J("ngForOf",i.toleranceFormControls.controls),t.xp6(8),t.Q6J("ngForOf",null==i.quoteDetails||null==i.quoteDetails.product?null:i.quoteDetails.product.productImg),t.xp6(12),t.Q6J("ngIf",i.productArtworks.length),t.xp6(1),t.Q6J("ngIf",i.productAttachments.length),t.xp6(6),t.hij("Quote ",i.shippingTermString," Prices"),t.xp6(1),t.Q6J("formGroup",i.quotationsForm),t.xp6(2),t.Q6J("ngIf",null==i.quoteDetails||null==i.quoteDetails.vendor?null:i.quoteDetails.vendor.inviteBy),t.xp6(7),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(5),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(3),t.hij("Price Per ",null==i.quoteDetails||null==i.quoteDetails.customerProducts?null:i.quoteDetails.customerProducts.quantityType,": "),t.xp6(1),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(3),t.hij("Margin % Per ",null==i.quoteDetails||null==i.quoteDetails.customerProducts?null:i.quoteDetails.customerProducts.quantityType,":"),t.xp6(1),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(3),t.hij("Margin Price Per ",null==i.quoteDetails||null==i.quoteDetails.customerProducts?null:i.quoteDetails.customerProducts.quantityType,":"),t.xp6(1),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(3),t.hij("Total Price Per ",null==i.quoteDetails||null==i.quoteDetails.customerProducts?null:i.quoteDetails.customerProducts.quantityType,":"),t.xp6(1),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(4),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(4),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(4),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(4),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(1),t.Q6J("ngIf",i.quotePermission.update),t.xp6(7),t.Q6J("formGroup",i.ppsForm),t.xp6(7),t.Q6J("ngClass",t.VKq(62,_,i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleQuantity.errors)),t.xp6(1),t.Q6J("ngIf",i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleQuantity.errors),t.xp6(6),t.Q6J("ngClass",t.VKq(64,_,i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleProductionLeadTime.errors)),t.xp6(1),t.Q6J("ngIf",i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleProductionLeadTime.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(66,_,i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleTotalPrice.errors)),t.xp6(1),t.Q6J("ngIf",i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleTotalPrice.errors),t.xp6(1),t.Q6J("ngIf",i.quotePermission.update),t.xp6(16),t.Q6J("formGroup",i.oneTimeCostForm),t.xp6(2),t.Q6J("ngForOf",i.oneTimeCostFormControls.controls),t.xp6(2),t.hij("Total One Time Cost: ",i.totalOneTimeCostNum,""),t.xp6(1),t.Q6J("ngIf",i.quotePermission.update),t.xp6(5),t.Q6J("ngIf",i.isCasePackNotfied),t.xp6(1),t.Q6J("formGroup",i.packagingForm),t.xp6(5),t.Q6J("ngClass",t.VKq(68,_,i.packagingFormSubmittied&&i.packagingFormControls.casePack.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&i.packagingFormControls.casePack.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(70,_,i.packagingFormSubmittied&&i.packagingFormControls.validUpto.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&i.packagingFormControls.validUpto.errors),t.xp6(8),t.Q6J("ngClass",t.VKq(72,_,i.packagingFormSubmittied&&i.dimensionFormControls.length.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(74,_,i.packagingFormSubmittied&&i.dimensionFormControls.breadth.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(76,_,i.packagingFormSubmittied&&i.dimensionFormControls.height.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&(null==i.dimensionFormControls.length?null:i.dimensionFormControls.length.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&(null==i.dimensionFormControls.breadth?null:i.dimensionFormControls.breadth.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&(null==i.dimensionFormControls.height?null:i.dimensionFormControls.height.errors)),t.xp6(6),t.Q6J("ngClass",t.VKq(78,_,i.packagingFormSubmittied&&i.packagingFormControls.grossWeight.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&i.packagingFormControls.grossWeight.errors),t.xp6(1),t.Q6J("ngIf",i.packagingForm.value.hasOwnProperty("shippingAddress")),t.xp6(1),t.Q6J("ngIf",i.quotePermission.update))},dependencies:[f.rH,m.mk,m.sg,m.O5,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.On,a.sg,a.u,a.x0,a.CE,m.rS]})}return o})();function ar(o,r){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",null==e.quoteDetail||null==e.quoteDetail.customer?null:e.quoteDetail.customer.companyName,", ")}}const ur=function(o){return["/quotation/details",o]};function cr(o,r){if(1&o&&(t.TgZ(0,"div",63)(1,"div",15)(2,"a",64),t._uU(3,"View Previous Quotes "),t.qZA()()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("routerLink",t.VKq(1,ur,null==e.quoteDetail?null:e.quoteDetail.previousQuoteId))}}function mr(o,r){1&o&&(t.TgZ(0,"sub",71),t._uU(1,"%"),t.qZA())}function pr(o,r){1&o&&(t.TgZ(0,"sub",71),t._uU(1,"%"),t.qZA())}function dr(o,r){if(1&o&&(t.TgZ(0,"td",27)(1,"div",66)(2,"div")(3,"label",67),t._uU(4,"Lower Limit"),t.qZA(),t.TgZ(5,"div",15)(6,"div",68),t._uU(7),t.YNc(8,mr,2,0,"sub",69),t.qZA()()(),t.TgZ(9,"div")(10,"label",70),t._uU(11,"Upper Limit"),t.qZA(),t.TgZ(12,"div",15)(13,"div",68),t._uU(14),t.YNc(15,pr,2,0,"sub",69),t.qZA()()()()()),2&o){const e=t.oxw().$implicit;t.xp6(7),t.hij(" ",(null==e?null:e.lowerTolerance)||"--"," "),t.xp6(1),t.Q6J("ngIf","percentage"===(null==e?null:e.unit)),t.xp6(6),t.hij(" ",(null==e?null:e.upperTolerance)||"--"," "),t.xp6(1),t.Q6J("ngIf","percentage"===(null==e?null:e.unit))}}function gr(o,r){1&o&&(t.TgZ(0,"td",27),t._uU(1," ---- "),t.qZA())}function _r(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",27),t._uU(4),t.qZA(),t.YNc(5,dr,16,4,"td",65),t.YNc(6,gr,2,0,"td",65),t.qZA()),2&o){const e=r.$implicit;t.xp6(2),t.Oqu(null==e?null:e.name),t.xp6(2),t.Oqu(null==e?null:e.measurement),t.xp6(1),t.Q6J("ngIf",null==e?null:e.lowerTolerance),t.xp6(1),t.Q6J("ngIf",!(null!=e&&e.lowerTolerance))}}const hr=function(o){return{active:o}};function fr(o,r){if(1&o&&(t.TgZ(0,"div",72),t._UZ(1,"img",73),t.qZA()),2&o){const e=r.$implicit;t.Q6J("ngClass",t.VKq(2,hr,0===r.index)),t.xp6(1),t.Q6J("src",e,t.LSH)}}function qr(o,r){if(1&o&&t._UZ(0,"img",88),2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function Tr(o,r){if(1&o&&t._UZ(0,"img",89),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Zr(o,r){if(1&o&&t._UZ(0,"img",90),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function vr(o,r){if(1&o&&t._UZ(0,"img",91),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Cr(o,r){if(1&o&&t._UZ(0,"img",92),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function xr(o,r){if(1&o&&t._UZ(0,"img",93),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function br(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",78)(1,"div",79)(2,"div",80),t.YNc(3,qr,1,2,"img",81),t.YNc(4,Tr,1,1,"img",82),t.YNc(5,Zr,1,1,"img",83),t.YNc(6,vr,1,1,"img",84),t.YNc(7,Cr,1,1,"img",85),t.YNc(8,xr,1,1,"img",86),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()(),t.TgZ(11,"div")(12,"a",87),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.downloadImage(s.url))}),t._uU(13,"Download "),t._UZ(14,"i",41),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function Qr(o,r){if(1&o&&(t.ynx(0),t.TgZ(1,"div",74)(2,"h6",75),t._uU(3,"Artwork:"),t.qZA()(),t.TgZ(4,"div",76),t.YNc(5,br,15,7,"div",77),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.productArtworks)}}function yr(o,r){if(1&o&&t._UZ(0,"img",88),2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function Ar(o,r){if(1&o&&t._UZ(0,"img",89),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function wr(o,r){if(1&o&&t._UZ(0,"img",90),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Fr(o,r){if(1&o&&t._UZ(0,"img",91),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Pr(o,r){if(1&o&&t._UZ(0,"img",92),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Dr(o,r){if(1&o&&t._UZ(0,"img",93),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Ir(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",78)(1,"div",79)(2,"div",80),t.YNc(3,yr,1,2,"img",81),t.YNc(4,Ar,1,1,"img",82),t.YNc(5,wr,1,1,"img",83),t.YNc(6,Fr,1,1,"img",84),t.YNc(7,Pr,1,1,"img",85),t.YNc(8,Dr,1,1,"img",86),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()(),t.TgZ(11,"div")(12,"a",87),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.downloadImage(s.url))}),t._uU(13,"Download "),t._UZ(14,"i",41),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function Ur(o,r){if(1&o&&(t.ynx(0),t.TgZ(1,"div",94)(2,"h6",31),t._uU(3,"Additional Attachments:"),t.qZA()(),t.TgZ(4,"div",76),t.YNc(5,Ir,15,7,"div",77),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.productAttachments)}}function Nr(o,r){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t._UZ(2,"br"),t.TgZ(3,"span",95),t._uU(4),t.qZA()()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.quantity," "),t.xp6(3),t.hij(" (\xb1 ",(null==e?null:e.quantityTolerance)||0," %)")}}function kr(o,r){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.productionleadTime," Days")}}function Sr(o,r){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw();t.xp6(1),t.AsE(" ",null==n.quoteDetail?null:n.quoteDetail.currency," ",null==e?null:e.pricePerPiece,"")}}function Jr(o,r){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.marginPercentPricePerPiece," ")}}function Yr(o,r){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.marginPricePerPiece," ")}}function Lr(o,r){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.TotalPricePerPiece," ")}}function Or(o,r){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw();t.xp6(1),t.AsE(" ",null==n.quoteDetail?null:n.quoteDetail.currency," ",null==e?null:e.totalPrice,"")}}function Gr(o,r){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.totalCbm,"")}}function Vr(o,r){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.totalCartons,"")}}function Wr(o,r){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.totalWeight,"")}}function Mr(o,r){1&o&&(t.TgZ(0,"label"),t._uU(1,"Shipping Terms"),t.qZA())}function $r(o,r){1&o&&(t.TgZ(0,"label"),t._uU(1," Origin Port"),t.qZA())}function Er(o,r){1&o&&(t.TgZ(0,"label"),t._uU(1," Destination Port"),t.qZA())}function jr(o,r){if(1&o&&(t.TgZ(0,"div",15),t.YNc(1,Mr,2,0,"label",10),t.YNc(2,$r,2,0,"label",10),t.YNc(3,Er,2,0,"label",10),t._UZ(4,"input",59),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","DDU"===(null==e.quoteDetail?null:e.quoteDetail.shippingTerms)||"DDP"===(null==e.quoteDetail?null:e.quoteDetail.shippingTerms)),t.xp6(1),t.Q6J("ngIf","FOB"===(null==e.quoteDetail?null:e.quoteDetail.shippingTerms)),t.xp6(1),t.Q6J("ngIf","CIF"===(null==e.quoteDetail?null:e.quoteDetail.shippingTerms)),t.xp6(1),t.s9C("placeholder",null==e.quoteDetail?null:e.quoteDetail.shippingAddress)}}function Rr(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"td",8),t._uU(2),t.qZA(),t.TgZ(3,"td",27),t._uU(4),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.xp6(2),t.Oqu(null==e?null:e.name),t.xp6(2),t.AsE("",null==n.quoteDetail?null:n.quoteDetail.currency," ",null==e?null:e.cost,"")}}const Br=[{path:"",canActivate:[x.n],data:{module:"Quotes",permission:"read"},component:st},{path:"detail/:quoteId",canActivate:[x.n],data:{module:"Quotes",permission:"read"},component:$e},{path:"re-quote/:quoteId",canActivate:[x.n],data:{module:"Quotes",permission:"read"},component:(()=>{class o{constructor(e,n,i,s,l){this.routes=e,this.ngxService=n,this.QS=i,this._notify=s,this._US=l,this.totalOneTimeCostNum=0,this.moment=q(),this.productArtworks=[],this.productAttachments=[],this.selectedImage=0}ngOnInit(){this.routes.params.subscribe(e=>{e&&e.quoteId&&(this.quoteId=e.quoteId,this.getDetail())}),$("#carouselExampleControls").on("slide.bs.carousel",e=>{this.selectedImage=e.to})}getDetail(){this.ngxService.start(),this.QS.getQuoteDetails(this.quoteId).pipe((0,u.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?(this.quoteDetail=e?.data,this.getCountryById(this.quoteDetail?.factory?.countryId),this.getStateById(this.quoteDetail?.factory?.stateId),this.quoteDetail?.customerProduct?.productArtworks.map(n=>{let i=n.split("/"),s=this.getFileType(i[i.length-1]);delete s.type,this.productArtworks.push({url:n,name:i[i.length-1],...s})}),this.quoteDetail?.customerProduct?.productAttachments.map(n=>{let i=n.split("/"),s=this.getFileType(i[i.length-1]);delete s.type,this.productAttachments.push({url:n,name:i[i.length-1],...s})})):this._notify.showError(e.meta.msg,"Error")})}getCountryById(e){this._US.getCountryById(e).pipe((0,u.x)(()=>{this.ngxService.stop()})).subscribe(n=>{n.meta.status&&(this.factorycountryDetails=n?.data)})}getStateById(e){console.log("state"),this._US.getStateById(e).pipe((0,u.x)(()=>{this.ngxService.stop()})).subscribe(n=>{n.meta.status&&(this.factoryStateDetails=n?.data)})}downloadImage(e){return(0,b.Z)(function*(){const i=yield(yield fetch(`${e}?pactap=1`)).blob(),s=e.substring(e.lastIndexOf("/")+1),l=document.createElement("a"),c=window.URL.createObjectURL(i);l.href=c,l.download=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(e)})()}getFileType(e){const n=e.lastIndexOf(".");if(-1===n)return"File name has no extension";switch(e.substring(n+1).toLowerCase()){case"jpg":case"jpeg":case"png":return{type:"Image file",isImage:!0};case"pdf":return{type:"PDF file",isPdf:!0};case"doc":case"docx":return{type:"Word document",isWord:!0};case"txt":return{type:"Text file",isText:!0};case"ai":return{type:"Adobe Illustrator file",isIllustrator:!0};case"cdr":return{type:"CorelDRAW file",isCorelDraw:!0};case"xls":return{type:"Excel spreadsheet",isExcel:!0};case"csv":return{type:"CSV file",isExcel:!0};default:return"Unknown file type"}}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(f.gz),t.Y36(v.LA),t.Y36(Z),t.Y36(y.lG),t.Y36(Q.K))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-quotaion-details"]],decls:216,vars:43,consts:[["id","print-section",1,"dashboardMain"],[1,"bg-white","white-well"],[1,"row"],[1,"col-7","col-sm-6","col-md-6","col-lg-7"],[1,"page-header","back-page","border-0","mb-2"],[1,"mb-0","ps-5"],["href","javascript:history.back()",1,"back-arrow"],["src","assets/images/back-arrow.png"],[1,"text-success"],[1,"profile-info"],[4,"ngIf"],[1,"col-5","col-sm-6","col-md-6","col-lg-5","text-end","printPageButton"],[1,"column-btns","d-grid","align-items-center","justify-content-end"],["class","form-box form-filter",4,"ngIf"],[1,"dropdown","form-box","form-filter"],[1,"form-group"],["printSectionId","print-section","ngxPrint","",1,"btn","btn-light"],["src","assets/images/download.png","alt","",1,"me-2"],[1,"col-12","col-sm-4","col-md-4","col-lg-4"],[1,"quotations-script","bg-success-light"],[1,"mb-0","text-white"],[1,"product-item","p-0","quotations-product-item","mb-0"],[1,"col-12","col-sm-7","col-md-8","col-lg-8","col-xl-8"],[1,"productDetailsPage"],[1,""],[1,"table-reponsive"],[1,"tableBorder"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"col-12","col-sm-5","col-md-4","col-lg-4","col-xl-4"],[1,"product-body"],[1,"mb-2"],["id","carouselExampleControls","data-bs-ride","carousel",1,"carousel","slide","mb-3"],[1,"carousel-inner"],["class","carousel-item",3,"ngClass",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","prev",1,"carousel-control-prev","printPageButton"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","next",1,"carousel-control-next","printPageButton"],["aria-hidden","true",1,"carousel-control-next-icon"],["href","javascript:void(0)",1,"downloadButton","printPageButton",3,"click"],[1,"bi","bi-box-arrow-in-down"],[1,"text-success","d-sm-inline-block","ms-3"],[1,"table-card"],[1,"table","table-bordered","table-lg"],[1,"table-success","text-white"],["class","text-center",4,"ngFor","ngForOf"],[1,"table-info"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"form-box"],[1,"formflex","justify-content-between"],["type","text","readonly","",1,"form-control","form-ctrl","greenborder",3,"value"],[1,"calendarInput"],["type","text","readonly","",1,"form-control","form-ctrl","datePicker","greenborder",3,"value"],[1,"formIconsinner"],[1,"bi","bi-calendar-week"],[1,"text-success","fw300"],[1,"col-md-4","col-4"],["type","text","readonly","",1,"form-control","form-ctrl","greenborder","text-center",3,"placeholder"],["type","text","readonly","",1,"form-control","form-ctrl","greenborder",3,"placeholder"],["class","form-group",4,"ngIf"],[1,"col-12","col-sm-5","col-md-5","col-lg-5"],[1,"col-12","col-sm-7","col-md-7","col-lg-7"],[1,"form-box","form-filter"],["href","javascript:void(0)",1,"btn","btn-sumbit","btn-outline-success",3,"routerLink"],["class","text-center",4,"ngIf"],[1,"d-flex","justify-content-between"],["for","lowerLimit",1,"mb-2"],[1,"inputPercentage"],["style","bottom: 0px;",4,"ngIf"],["for","upperLimit",1,"mb-2"],[2,"bottom","0px"],[1,"carousel-item",3,"ngClass"],["alt","...",1,"d-block","w-100",3,"src"],[1,"product-body","printPageButton"],[1,"mb-2","mt-4"],[1,"form-group","printPageButton"],["class","form-check-inline text-center",4,"ngFor","ngForOf"],[1,"form-check-inline","text-center"],[1,"alert-photo"],[1,"alert-photo-img"],[3,"src","alt",4,"ngIf"],["src","assets/images/cdr.png",3,"alt",4,"ngIf"],["src","assets/images/pdf.png",3,"alt",4,"ngIf"],["src","assets/images/excel.png",3,"alt",4,"ngIf"],["src","assets/images/xls.png",3,"alt",4,"ngIf"],["src","assets/images/illustrator.png",3,"alt",4,"ngIf"],["href","javascript:void(0)",1,"downloadButton",3,"click"],[3,"src","alt"],["src","assets/images/cdr.png",3,"alt"],["src","assets/images/pdf.png",3,"alt"],["src","assets/images/excel.png",3,"alt"],["src","assets/images/xls.png",3,"alt"],["src","assets/images/illustrator.png",3,"alt"],[1,"product-body","mt-4","printPageButton"],[1,"small"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5)(6,"a",6),t._UZ(7,"img",7),t.qZA(),t._uU(8," Quoted "),t.TgZ(9,"span",8),t._uU(10),t.qZA()()(),t.TgZ(11,"div",9)(12,"h6")(13,"small",8),t._uU(14),t.qZA()(),t.TgZ(15,"h6")(16,"small",8),t._uU(17),t.qZA()(),t.TgZ(18,"h6")(19,"small",8),t._uU(20),t.qZA()(),t.TgZ(21,"h6")(22,"em")(23,"span",8),t.YNc(24,ar,2,1,"ng-container",10),t.TgZ(25,"small"),t._uU(26),t._uU(27),t.qZA()()()(),t.TgZ(28,"h6")(29,"small",8),t._uU(30),t.qZA()()()(),t.TgZ(31,"div",11)(32,"div",12),t.YNc(33,cr,4,3,"div",13),t.TgZ(34,"div",14)(35,"div",15)(36,"button",16),t._UZ(37,"img",17),t._uU(38," Export as PDF "),t.qZA()()()()()()(),t.TgZ(39,"div",1)(40,"div",2)(41,"div",18)(42,"div",19)(43,"h4",20),t._uU(44,"Product Details"),t.qZA()()()(),t.TgZ(45,"div",21)(46,"div",2)(47,"div",22)(48,"div",23)(49,"div",24)(50,"div",25)(51,"div",26)(52,"table",24)(53,"thead")(54,"tr",24)(55,"th"),t._uU(56,"Details"),t.qZA(),t.TgZ(57,"th",27),t._uU(58,"Measurements"),t.qZA(),t.TgZ(59,"th",27),t._uU(60,"Tolerances"),t.qZA()()(),t.TgZ(61,"tbody"),t.YNc(62,_r,7,4,"tr",28),t.qZA()()()()()()(),t.TgZ(63,"div",29)(64,"div",30)(65,"h6",31),t._uU(66,"Product Images:"),t.qZA()(),t.TgZ(67,"div")(68,"div",32)(69,"div",33),t.YNc(70,fr,2,4,"div",34),t.qZA(),t.TgZ(71,"button",35),t._UZ(72,"span",36),t.TgZ(73,"span",37),t._uU(74,"Previous"),t.qZA()(),t.TgZ(75,"button",38),t._UZ(76,"span",39),t.TgZ(77,"span",37),t._uU(78,"Next"),t.qZA()()(),t.TgZ(79,"a",40),t.NdJ("click",function(){return i.downloadImage(null==i.quoteDetail||null==i.quoteDetail.product?null:i.quoteDetail.product.productImg[i.selectedImage])}),t._uU(80,"Download "),t._UZ(81,"i",41),t.qZA()(),t.YNc(82,Qr,6,1,"ng-container",10),t.YNc(83,Ur,6,1,"ng-container",10),t.qZA()()()(),t.TgZ(84,"div",1)(85,"div",19)(86,"h4",20),t._uU(87,"Quotations"),t.qZA()(),t.TgZ(88,"p",42),t._uU(89,"* The Prices quoted are FOB"),t.qZA(),t.TgZ(90,"div",43)(91,"div",25)(92,"table",44)(93,"thead")(94,"tr",45)(95,"td"),t._uU(96,"Quantity"),t.qZA(),t.YNc(97,Nr,5,2,"td",46),t.qZA()(),t.TgZ(98,"tbody")(99,"tr")(100,"td",8),t._uU(101,"Prod. Lead Time (In Days):"),t.qZA(),t.YNc(102,kr,2,1,"td",46),t.qZA(),t.TgZ(103,"tr")(104,"td",8),t._uU(105,"Price Per Piece:"),t.qZA(),t.YNc(106,Sr,2,2,"td",46),t.qZA(),t.TgZ(107,"tr")(108,"td",8),t._uU(109),t.qZA(),t.YNc(110,Jr,2,1,"td",46),t.qZA(),t.TgZ(111,"tr")(112,"td",8),t._uU(113),t.qZA(),t.YNc(114,Yr,2,1,"td",46),t.qZA(),t.TgZ(115,"tr")(116,"td",8),t._uU(117),t.qZA(),t.YNc(118,Lr,2,1,"td",46),t.qZA(),t.TgZ(119,"tr",47)(120,"td",8),t._uU(121,"Grand Total Price:"),t.qZA(),t.YNc(122,Or,2,2,"td",46),t.qZA(),t.TgZ(123,"tr")(124,"td",8),t._uU(125,"Total CBM:"),t.qZA(),t.YNc(126,Gr,2,1,"td",46),t.qZA(),t.TgZ(127,"tr")(128,"td",8),t._uU(129,"Total Cartons:"),t.qZA(),t.YNc(130,Vr,2,1,"td",46),t.qZA(),t.TgZ(131,"tr")(132,"td",8),t._uU(133,"Total Weight:"),t.qZA(),t.YNc(134,Wr,2,1,"td",46),t.qZA()()()()()(),t.TgZ(135,"div",2)(136,"div",48)(137,"div",1)(138,"div",19)(139,"h4",20),t._uU(140,"Packaging Details"),t.qZA()(),t.TgZ(141,"div",49)(142,"div",50)(143,"div",15)(144,"label"),t._uU(145,"Case Pack"),t.qZA(),t._UZ(146,"input",51),t.qZA(),t.TgZ(147,"div",15)(148,"label"),t._uU(149,"Valid Upto"),t.qZA(),t.TgZ(150,"div",52),t._UZ(151,"input",53),t.ALo(152,"date"),t.TgZ(153,"span",54),t._UZ(154,"i",55),t.qZA()()(),t.TgZ(155,"div",15)(156,"label"),t._uU(157,"Carton Dimensions "),t.TgZ(158,"span",56),t._uU(159,"(in Inches)"),t.qZA()(),t.TgZ(160,"div",2)(161,"div",57),t._UZ(162,"input",58),t.qZA(),t.TgZ(163,"div",57),t._UZ(164,"input",58),t.qZA(),t.TgZ(165,"div",57),t._UZ(166,"input",58),t.qZA()()(),t.TgZ(167,"div",15)(168,"label"),t._uU(169,"Gross Weight "),t.TgZ(170,"span",56),t._uU(171,"(per case in kg)"),t.qZA()(),t._UZ(172,"input",59),t.qZA(),t.YNc(173,jr,5,4,"div",60),t.qZA()()()()(),t.TgZ(174,"div",2)(175,"div",61)(176,"div",1)(177,"div",19)(178,"h4",20),t._uU(179,"Pre Production Sample"),t.qZA()(),t.TgZ(180,"div",43)(181,"div",25)(182,"table",44)(183,"thead")(184,"tr",45)(185,"td"),t._uU(186,"PPS Quantity"),t.qZA(),t.TgZ(187,"td",27),t._uU(188),t.qZA()()(),t.TgZ(189,"tbody")(190,"tr")(191,"td",8),t._uU(192,"Prod. Lead Time (In Days):"),t.qZA(),t.TgZ(193,"td",27),t._uU(194),t.qZA()(),t.TgZ(195,"tr")(196,"td",8),t._uU(197,"Grand Total Price:"),t.qZA(),t.TgZ(198,"td",27),t._uU(199),t.qZA()()()()()()()(),t.TgZ(200,"div",62)(201,"div",1)(202,"div",19)(203,"h4",20),t._uU(204,"One Time Cost"),t.qZA()(),t.TgZ(205,"div",43)(206,"div",25)(207,"table",44)(208,"thead")(209,"tr",45)(210,"td"),t._uU(211,"One Time Cost"),t.qZA(),t.TgZ(212,"td",27),t._uU(213,"Cost"),t.qZA()()(),t.TgZ(214,"tbody"),t.YNc(215,Rr,5,3,"tr",28),t.qZA()()()()()()()()),2&n&&(t.xp6(10),t.hij("",null==i.quoteDetail||null==i.quoteDetail.product?null:i.quoteDetail.product.productName,","),t.xp6(4),t.hij(" Quote ID: ",null==i.quoteDetail?null:i.quoteDetail.quoteId,""),t.xp6(3),t.hij("Product ID: ",null==i.quoteDetail||null==i.quoteDetail.product?null:i.quoteDetail.product.productId,""),t.xp6(3),t.hij("CustomerProductID: ",null==i.quoteDetail||null==i.quoteDetail.customerProducts?null:i.quoteDetail.customerProducts.customerProductId,""),t.xp6(4),t.Q6J("ngIf",null==i.quoteDetail||null==i.quoteDetail.vendor?null:i.quoteDetail.vendor.inviteBy),t.xp6(2),t.hij("Customer ID : ",null==i.quoteDetail||null==i.quoteDetail.customerLogin?null:i.quoteDetail.customerLogin.customerId," "),t.xp6(1),t.hij(" ,(",null==i.quoteDetail||null==i.quoteDetail.customer||null==i.quoteDetail.customer.countryObj?null:i.quoteDetail.customer.countryObj.name,")"),t.xp6(3),t.HOy("vendorId: ",null==i.quoteDetail||null==i.quoteDetail.vendor?null:i.quoteDetail.vendor.vendorId," (",null==i.quoteDetail||null==i.quoteDetail.factory?null:i.quoteDetail.factory.cityName," , ",null==i.factoryStateDetails?null:i.factoryStateDetails.name," , ",null==i.factorycountryDetails?null:i.factorycountryDetails.name,")"),t.xp6(3),t.Q6J("ngIf",(null==i.quoteDetail?null:i.quoteDetail.isRequote)&&(null==i.quoteDetail?null:i.quoteDetail.previousQuoteId)),t.xp6(29),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.productTolerance),t.xp6(8),t.Q6J("ngForOf",null==i.quoteDetail||null==i.quoteDetail.product?null:i.quoteDetail.product.productImg),t.xp6(12),t.Q6J("ngIf",i.productArtworks.length),t.xp6(1),t.Q6J("ngIf",i.productAttachments.length),t.xp6(14),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.adminQuotation),t.xp6(5),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.adminQuotation),t.xp6(4),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.adminQuotation),t.xp6(3),t.hij("Margin % Per ",null==i.quoteDetail||null==i.quoteDetail.customerProducts?null:i.quoteDetail.customerProducts.quantityType,":"),t.xp6(1),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.adminQuotation),t.xp6(3),t.hij("Margin Price Per ",null==i.quoteDetail||null==i.quoteDetail.customerProducts?null:i.quoteDetail.customerProducts.quantityType,":"),t.xp6(1),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.adminQuotation),t.xp6(3),t.hij("Total Price Per ",null==i.quoteDetail||null==i.quoteDetail.customerProducts?null:i.quoteDetail.customerProducts.quantityType,":"),t.xp6(1),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.adminQuotation),t.xp6(4),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.adminQuotation),t.xp6(4),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.adminQuotation),t.xp6(4),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.adminQuotation),t.xp6(4),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.adminQuotation),t.xp6(12),t.s9C("value",null==i.quoteDetail?null:i.quoteDetail.casePack),t.xp6(5),t.s9C("value",t.lcZ(152,41,null==i.quoteDetail?null:i.quoteDetail.validUpto)),t.xp6(11),t.MGl("placeholder","L: ",null==i.quoteDetail?null:i.quoteDetail.dimension.length,""),t.xp6(2),t.MGl("placeholder","B: ",null==i.quoteDetail?null:i.quoteDetail.dimension.breadth,""),t.xp6(2),t.MGl("placeholder","H: ",null==i.quoteDetail?null:i.quoteDetail.dimension.height,""),t.xp6(6),t.MGl("placeholder","",null==i.quoteDetail?null:i.quoteDetail.grossWeight," Kg"),t.xp6(1),t.Q6J("ngIf","Ex-Factory"!==(null==i.quoteDetail?null:i.quoteDetail.shippingTerms)),t.xp6(15),t.Oqu(null==i.quoteDetail?null:i.quoteDetail.prePurchaseSampleQuantity),t.xp6(6),t.hij("",null==i.quoteDetail?null:i.quoteDetail.prePurchaseSampleProductionLeadTime," Days "),t.xp6(5),t.AsE("",null==i.quoteDetail?null:i.quoteDetail.currency," ",null==i.quoteDetail?null:i.quoteDetail.prePurchaseSampleTotalPrice,""),t.xp6(16),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.oneTimeCost))},dependencies:[f.rH,m.mk,m.sg,m.O5,m.uU],styles:["@media print{.printPageButton[_ngcontent-%COMP%]{display:none}}.column-btns[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 12px #0000000d;color:#fff;padding:10px 20px;font-size:14px}"]})}return o})()},{path:"view/:quoteId",canActivate:[x.n],data:{module:"Quotes",permission:"read"},component:lr},{path:"re-quote/:quoteId",canActivate:[x.n],data:{module:"Quotes",permission:"read"},component:Ai}];let Hr=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[f.Bz.forChild(Br),f.Bz]})}return o})(),zr=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[Hr,m.ez,a.u5,a.UX,I.Rq]})}return o})()}}]);