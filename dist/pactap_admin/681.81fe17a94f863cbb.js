(self.webpackChunkpactap_admin=self.webpackChunkpactap_admin||[]).push([[681],{63681:(at,D,f)=>{"use strict";f.r(D),f.d(D,{ProductsMasterModule:()=>Cc});var d=f(96814),v=f(96166),p=f(6627),l=f(56223),W=f(47397),z=f.n(W),Z=f(78645),k=f(83620),I=f(93997),_=f(16676),t=f(99468),q=f(45824),C=f(49678),U=f(20777),x=f(29917),J=f(96155),X=f(64686);function Yt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",73)(2,"input",74),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.show=n)})("change",function(n){const s=t.CHM(e).index,c=t.oxw();return t.KtG(c.hideShowCol(n,s))}),t.qZA(),t.TgZ(3,"label",75),t._uU(4),t.qZA()()()}if(2&o){const e=a.$implicit,i=a.index;t.xp6(2),t.MGl("id","col",i,""),t.Q6J("ngModel",e.show),t.xp6(1),t.MGl("for","col",i,""),t.xp6(1),t.Oqu(e.column)}}function $t(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",76)(1,"a",77),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.showCategoryModal())}),t._UZ(2,"i",78),t._uU(3," Add Category"),t.qZA()()}}function Vt(o,a){if(1&o&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Tol("col"+a.index),t.xp6(1),t.Oqu(e.column)}}function Kt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"a",97),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.showConfirmModal(n))}),t._UZ(1,"i",98),t.qZA()}}function Bt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"a",97),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.showCategoryModal(n))}),t._UZ(1,"i",99),t.qZA()}}const Q=function(o){return{colHide:o}},jt=function(o){return["/products-master/cat-details",o]};function Ht(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td",82),t._uU(2),t.qZA(),t.TgZ(3,"td",83),t._uU(4),t.qZA(),t.TgZ(5,"td",84),t._uU(6),t.qZA(),t.TgZ(7,"td",85),t._uU(8),t.qZA(),t.TgZ(9,"td",86)(10,"label",87)(11,"input",88),t.NdJ("click",function(n){const s=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.changeStatuscat(s,n))}),t.qZA(),t.TgZ(12,"div",89)(13,"span",90),t._uU(14,"ACTIVE"),t.qZA(),t.TgZ(15,"span",91),t._uU(16,"DEACTIVE"),t.qZA()()()(),t.TgZ(17,"td",92),t._UZ(18,"img",93),t.qZA(),t.TgZ(19,"td")(20,"a",94),t._UZ(21,"i",95),t.qZA(),t.YNc(22,Kt,2,0,"a",96),t.YNc(23,Bt,2,0,"a",96),t.qZA()()}if(2&o){const e=a.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(16,Q,!i.columns[0].show)),t.xp6(1),t.Oqu(e.categoryId),t.xp6(1),t.Q6J("ngClass",t.VKq(18,Q,!i.columns[1].show)),t.xp6(1),t.hij("",e.categoryName," "),t.xp6(1),t.Q6J("ngClass",t.VKq(20,Q,!i.columns[2].show)),t.xp6(1),t.Oqu(e.slug),t.xp6(1),t.Q6J("ngClass",t.VKq(22,Q,!i.columns[3].show)),t.xp6(1),t.hij("",e.description," "),t.xp6(1),t.Q6J("ngClass",t.VKq(24,Q,!i.columns[4].show)),t.xp6(2),t.Q6J("checked","ACTIVE"===e.status),t.xp6(6),t.Q6J("ngClass",t.VKq(26,Q,!i.columns[5].show)),t.xp6(1),t.s9C("src",e.categoryImg,t.LSH),t.s9C("alt",e.categoryName),t.xp6(2),t.Q6J("routerLink",t.VKq(28,jt,e._id)),t.xp6(2),t.Q6J("ngIf",i.catPermission.delete),t.xp6(1),t.Q6J("ngIf",i.catPermission.update)}}function Rt(o,a){if(1&o&&(t.TgZ(0,"table",79)(1,"thead")(2,"tr"),t.YNc(3,Vt,2,3,"th",80),t.TgZ(4,"th"),t._uU(5,"\xa0"),t.qZA()()(),t.TgZ(6,"tbody"),t.YNc(7,Ht,24,30,"tr",81),t.qZA()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.columns),t.xp6(4),t.Q6J("ngForOf",e.categories)}}function Gt(o,a){1&o&&(t.TgZ(0,"div",100),t._uU(1,"No Data Found"),t.qZA())}function Wt(o,a){1&o&&(t.ynx(0),t._uU(1,"Add"),t.BQk())}function zt(o,a){1&o&&(t.ynx(0),t._uU(1,"Update"),t.BQk())}function Xt(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Category Name is required. "),t.qZA())}function te(o,a){if(1&o&&(t.TgZ(0,"div",101),t.YNc(1,Xt,2,0,"div",53),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.addCategoryFormControls.categoryName.errors.required)}}function ee(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Slug is required. "),t.qZA())}function oe(o,a){if(1&o&&(t.TgZ(0,"div",101),t.YNc(1,ee,2,0,"div",53),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.addCategoryFormControls.slug.errors.required)}}function ne(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Category Image is required. "),t.qZA())}function ie(o,a){if(1&o&&(t.TgZ(0,"div",102),t.YNc(1,ne,2,0,"div",53),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.addCategoryFormControls.categoryImg.errors.required)}}function re(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Description is required. "),t.qZA())}function ae(o,a){if(1&o&&(t.TgZ(0,"div",101),t.YNc(1,re,2,0,"div",53),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.addCategoryFormControls.description.errors.required)}}const V=function(o){return{"fa-spin fa-spinner":o}};function se(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.addCategory())}),t._UZ(1,"i",4),t._uU(2," Save"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.isLoadingSave),t.xp6(1),t.Q6J("ngClass",t.VKq(2,V,e.isLoadingSave))}}function le(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.updateCategory())}),t._UZ(1,"i",4),t._uU(2," Update"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.isLoadingSave),t.xp6(1),t.Q6J("ngClass",t.VKq(2,V,e.isLoadingSave))}}const st=function(o){return{"is-invalid":o}};let ce=(()=>{class o{constructor(e,i,n,r,s,c){this._FB=e,this._notifier=i,this._PS=n,this._CS=r,this.ngxLoaderService=s,this._US=c,this.submitted=!1,this.isLoading=!1,this.isLoadingSave=!1,this.type="ROOT",this.status="",this.searchKey="",this.modelChanged=new Z.x,this.columns=[{column:"Category ID",show:!0,key:"categoryId"},{column:"Category Details",show:!0,key:"categoryName"},{column:"Slug",show:!0,key:"slug"},{column:"Description",show:!0,key:"description"},{column:"Status",show:!0,key:"status"},{column:"Images",show:!0,key:"image"}],this.permissionsArr=[],this.catPermission={add:!1,update:!1,delete:!1},this.page=1,this.contentPerPage=5,this.isEdit=!1,this.totalPage=0,this.categories=[],this.deleteCatId=""}ngOnInit(){this._US.getPermissions().subscribe(e=>{this.permissionsArr=e,Object.keys(this.catPermission).map(i=>{this.canPerformAction("Category",i)})}),this.initAddCategoryForm(),this.modelChanged.pipe((0,k.b)(500),(0,I.x)()).subscribe(e=>{this.searchKey=e,this.getCategoryList()}),this.getCategoryList()}ngAfterViewInit(){setTimeout(()=>{},200)}initAddCategoryForm(){this.addCategoryForm=this._FB.group({type:["ROOT"],categoryName:["",l.kI.required],slug:["",l.kI.required],categoryImg:["",l.kI.required],description:["",l.kI.required],parentId:[""]}),this.addCategoryForm.get("categoryName")?.valueChanges.subscribe(e=>{this.addCategoryForm.get("slug")?.setValue(z()(e))})}get addCategoryFormControls(){return this.addCategoryForm.controls}initDateRangePicker(){$(".daterangePicker").dateRangePicker({format:"DD-MM-YYYY",autoClose:!0}).on("datepicker-first-date-selected",(e,i)=>{console.log("first-date-selected",i)}).on("datepicker-change",(e,i)=>{console.log("change",i),this.startDate=_(i.date1).valueOf(),this.endDate=_(i.date2).valueOf(),this.getCategoryList()}).on("datepicker-apply",(e,i)=>{console.log("apply",i)}).on("datepicker-close",function(){console.log("before close")}).on("datepicker-closed",function(){console.log("after close")}).on("datepicker-open",function(){console.log("before open")}).on("datepicker-opened",function(){console.log("after open")})}openCalendar(e){e.stopPropagation(),$(".daterangePicker").data("dateRangePicker").open()}fileValue(e){var i=e.target.value,n=i.split(".").pop();if("jpg"==n||"svg"==n||"jpeg"==n||"png"==n||"gif"==n){const r=new FormData;r.append("image",e.target.files[0]),this.isLoading=!0,this._CS.uploadImage(r).subscribe(s=>{if(s.meta.status){var c=i.replace(/^.*[\\\/]/,"").split(".").slice(0,-1).join(".");document.getElementById("filename").innerHTML=c,this.addCategoryForm.get("categoryImg")?.setValue(s.data),this.isLoading=!1,this._notifier.showSuccess(s.meta.msg,"Success")}else this.isLoading=!1,this._notifier.showWarning(s.meta.msg,"")},s=>{this.isLoading=!1})}else alert("File not supported. Kindly Upload the Image of below given extension ")}showCategoryModal(e){if(e&&e.categoryId){this.selectedCat=e,this.isEdit=!0;let i=e.categoryImg&&e.categoryImg.length?e.categoryImg.split("/")[e.categoryImg.split("/").length-1]:"Select Image";document.getElementById("filename").innerHTML=i,this.addCategoryForm.patchValue(e)}$("#addSampleModal").modal("show"),$("#addSampleModal").on("hidden.bs.modal",i=>{this.selectedCat=void 0,document.getElementById("filename").innerHTML="Select Image",this.isEdit=!1,this.submitted=!1,this.addCategoryForm.reset({type:"ROOT",parentId:"",categoryName:""})})}hideCategoryModal(){$("#addSampleModal").modal("hide")}addCategory(){this.addCategoryForm.valid?(this.isLoadingSave=!0,this._PS.addCategory(this.addCategoryForm.value).subscribe(e=>{e.meta.status?(this.getCategoryList(),this.isLoadingSave=!1,this.hideCategoryModal(),this._notifier.showSuccess(e.meta.msg,"Success")):(this.isLoadingSave=!1,this._notifier.showWarning(e.meta.msg,""))},e=>{this.isLoadingSave=!1})):this.submitted=!0}onScrollDown(e){this.page<this.totalPage&&(this.page+=1,this.getCategoryList(!0))}getCategoryList(e){this.ngxLoaderService.start(),this._PS.getCategoryList(this.type,this.status,this.searchKey,this.startDate,this.endDate,this.page,this.contentPerPage).subscribe(i=>{this.ngxLoaderService.stop(),i.meta.status?(this.totalPage=this.totalPage?this.totalPage:Math.ceil(i.total/this.contentPerPage),this.categories=e?[...this.categories,...i.data]:i.data):(this.categories=e?this.categories:[],e||this._notifier.showWarning(i.meta.msg,""))},i=>{this.ngxLoaderService.stop()})}changed(e){this.modelChanged.next(e),this.page=1}changeStatus(e){this.status=e,this.page=1,this.getCategoryList()}hideShowCol(e,i){i&&4!==i?e.target.checked?$(`.col${i}`).removeClass("colHide"):$(`.col${i}`).addClass("colHide"):(this.columns[i].show=!0,$(`#col${i}`).prop("checked",!0))}updateCategory(){if(this.addCategoryForm.valid&&this.selectedCat._id){this.isLoadingSave=!0;let e={categoryId:this.selectedCat._id,...this.addCategoryForm.value};delete e.type,this._PS.updateCategory(e).subscribe(i=>{i.meta.status?(this.page=1,this.getCategoryList(),this.isLoadingSave=!1,this.hideCategoryModal(),this._notifier.showSuccess(i.meta.msg,"Success")):(this.isLoadingSave=!1,this._notifier.showWarning(i.meta.msg,""))},i=>{this.isLoadingSave=!1})}else this.submitted=!0}showConfirmModal(e){e&&e._id&&(this.deleteCatId=e._id),$("#deleteCatModal").modal("show"),$("#deleteCatModal").on("hidden.bs.modal",i=>{this.deleteCatId=""})}hideConfirmModal(){$("#deleteCatModal").modal("hide")}deleteCategory(){this.deleteCatId&&(this.isLoading=!0,this._PS.deleteCategory(this.deleteCatId).subscribe(e=>{this.isLoading=!1,e.meta.status?(this._notifier.showSuccess(e.meta.msg,"Succcess"),this.page=1,this.getCategoryList(),this.hideConfirmModal()):this._notifier.showWarning(e.meta.msg,"")},e=>{this.isLoading=!1,this._notifier.showError("Something Went Wrong","Error")}))}canPerformAction(e,i){this.catPermission[i]=this._US.hasPermission(e,i,this.permissionsArr)}changeStatuscat(e,i){i.preventDefault();let n={categoryId:e._id,status:"ACTIVE"===e.status?"DEACTIVE":"ACTIVE"};this.isLoading=!0,this._PS.changeStatus(n).subscribe(r=>{this.isLoading=!1,r.meta.status?(this.page=1,this.getCategoryList(),this._notifier.showSuccess(r.meta.msg,"Success")):this._notifier.showWarning(r.meta.msg,"")},r=>{this._notifier.showError("Something Went Wrong","Error"),this.isLoading=!1})}exportDetails(){this.isLoading=!0;let e=JSON.parse(JSON.stringify(this.columns)),i=e.findIndex(n=>"image"===n.key);e.splice(i,1),this._PS.exportCategory({columnPermission:e},this.status,this.searchKey).subscribe(n=>{this.isLoading=!1;const r=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),s=window.URL.createObjectURL(r),c=document.createElement("a");c.href=s,c.download="category.xlsx",c.click(),window.URL.revokeObjectURL(s),c.remove(),this._notifier.showSuccess("File downloaded successfully","Success"),n.meta.status||this._notifier.showWarning(n.meta.msg,"")},n=>{this._notifier.showError("Something Went Wrong","Error"),this.isLoading=!1})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(l.qu),t.Y36(q.l),t.Y36(C.M),t.Y36(U.v),t.Y36(x.LA),t.Y36(J.K))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-category"]],decls:117,vars:39,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between"],[1,"export_button","column-btns"],["type","submit",1,"btn","btn-light",3,"disabled","click"],[1,"fa",3,"ngClass"],[1,"formIcons"],["src","assets/images/download.png","alt",""],[1,"rightColumnDrop"],[1,"dropdown","inline-flex"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside",1,"btn","btn-white","dropdown-toggle"],["src","assets/images/column-icon.png"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu","form-filter-drop"],[1,"form-box","form-filter"],["class","form-group",4,"ngFor","ngForOf"],[1,"account_dashboard","profile_dashboard"],[1,"login-white-box"],[1,"row","justify-content-between","listFilter"],[1,"col-12","col-sm-8","col-md-10","col-lg-10"],[1,"row"],[1,"col-12","col-md-3","col-sm-6","col-lg-3"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","Search","aria-label","Search","aria-describedby","basic-addon2","name","searchKey",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","searchBtn"],[1,"fa","fa-search"],[1,"col-6","col-md-3","col-sm-6","col-lg-3"],["name","status",1,"form-control",3,"ngModel","ngModelChange"],["value","","hidden",""],["value","active"],["value","deactive"],["class","col-12 col-sm-4 col-md-2 col-lg-2 text-end",4,"ngIf"],["infiniteScroll","",1,"table-responsive","request_sample","fix-headertbl",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["class","table table-bordered","width","100%","cellspacing","0",4,"ngIf"],["style","text-align: center;padding: 140px;",4,"ngIf"],["id","deleteCatModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content","feedback-popup"],[1,"border-b"],[1,"modal-header","justify-content-center"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"form-box","form-box-dashboard"],[1,"p-3"],[1,"title","mb-5"],[1,"text-end","main_btn","mt-3"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light"],["type","button",1,"btn","btn-success","ms-2",3,"disabled","click"],["id","addSampleModal",1,"modal","fade"],[1,"modal-dialog","modal-lg","sample-popup-form"],[1,"modal-content"],[1,"d-flex","justify-content-between","mb-3"],[4,"ngIf"],[1,"pop-form-box","form-box",3,"formGroup"],[1,"col-12","col-sm-6","col-md-6","col-lg-6"],["type","text","placeholder","Category Name","formControlName","categoryName",1,"form-control","form-ctrl",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Slug","formControlName","slug",1,"form-control","form-ctrl",3,"ngClass"],[1,"file-form-control"],[1,"upload-doc-item"],[1,"image-upload"],["type","file","name","","accept","image/*","id","logo",3,"disabled","change"],["for","logo","id","file-label",1,"upload-field"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/mc.png","alt",""],["id","filename"],[1,"Upload-btn","btn","btn-success"],["style","display: block;","class","invalid-feedback",4,"ngIf"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],["placeholder","Type...","formControlName","description",1,"form-control","form-ctrl",3,"ngClass"],[1,"text-end","main_btn","mt-5"],["type","button","class","btn btn-success ms-2",3,"disabled","click",4,"ngIf"],[1,"form-check"],["type","checkbox","name","columnName",1,"form-check-input",3,"id","ngModel","ngModelChange","change"],[1,"form-check-label",3,"for"],[1,"col-12","col-sm-4","col-md-2","col-lg-2","text-end"],["href","javascript:void(0)",1,"btn","btn-success","btn-block",3,"click"],[1,"bi","bi-plus-lg"],["width","100%","cellspacing","0",1,"table","table-bordered"],[3,"class",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"col0",3,"ngClass"],[1,"col1",3,"ngClass"],[1,"col2",3,"ngClass"],[1,"inventoryBadge","col3",3,"ngClass"],[1,"col4",3,"ngClass"],[1,"switch"],["type","checkbox","id","togBtn",3,"checked","click"],[1,"slider","round"],[1,"on"],[1,"off"],[1,"col5",3,"ngClass"],[1,"image-size-fix",3,"src","alt"],["href","javascript:void(0)",1,"text-success","underline-none","viewText","mr-1",3,"routerLink"],[1,"fa","fa-eye"],["href","javascript:void(0)","class","text-success underline-none viewText mr-1",3,"click",4,"ngIf"],["href","javascript:void(0)",1,"text-success","underline-none","viewText","mr-1",3,"click"],[1,"fa","fa-trash-o"],[1,"fa","fa-pencil"],[2,"text-align","center","padding","140px"],[1,"invalid-feedback"],[1,"invalid-feedback",2,"display","block"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t._uU(3,"Category"),t.qZA(),t.TgZ(4,"span",2)(5,"button",3),t.NdJ("click",function(){return n.exportDetails()}),t._UZ(6,"i",4),t.TgZ(7,"span",5),t._UZ(8,"img",6),t.qZA(),t._uU(9," Export Details"),t.qZA(),t.TgZ(10,"div",7)(11,"span",8)(12,"button",9),t._UZ(13,"img",10),t._uU(14," Manage Column "),t.qZA(),t.TgZ(15,"div",11)(16,"div",12),t.YNc(17,Yt,5,4,"div",13),t.qZA()()()()()(),t.TgZ(18,"div",14)(19,"div",15)(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",19)(24,"div",20)(25,"div",21)(26,"input",22),t.NdJ("ngModelChange",function(s){return n.searchKey=s})("ngModelChange",function(s){return n.changed(s)}),t.qZA(),t.TgZ(27,"div",23)(28,"button",24),t._UZ(29,"i",25),t.qZA()()()()(),t.TgZ(30,"div",26)(31,"div",20)(32,"select",27),t.NdJ("ngModelChange",function(s){return n.status=s})("ngModelChange",function(s){return n.changeStatus(s)}),t.TgZ(33,"option",28),t._uU(34,"Status"),t.qZA(),t.TgZ(35,"option",29),t._uU(36,"Active"),t.qZA(),t.TgZ(37,"option",30),t._uU(38,"Deactive"),t.qZA()()()()()(),t.YNc(39,$t,4,0,"div",31),t.qZA(),t.TgZ(40,"div",32),t.NdJ("scrolled",function(s){return n.onScrollDown(s)}),t.YNc(41,Rt,8,2,"table",33),t.YNc(42,Gt,2,0,"div",34),t.qZA()()()(),t.TgZ(43,"div",35)(44,"div",36)(45,"div",37)(46,"div",38)(47,"div",39)(48,"h5",40),t._uU(49,"Delete Category"),t.qZA(),t._UZ(50,"button",41),t.qZA()(),t.TgZ(51,"div",42)(52,"div",43)(53,"div",44)(54,"div",45)(55,"h4"),t._uU(56,"Are you sure to delete this category ?"),t.qZA()(),t.TgZ(57,"div",46)(58,"button",47),t._uU(59,"No"),t.qZA(),t.TgZ(60,"button",48),t.NdJ("click",function(){return n.deleteCategory()}),t._UZ(61,"i",4),t._uU(62," Yes"),t.qZA()()()()()()()(),t.TgZ(63,"div",49)(64,"div",50)(65,"div",51)(66,"div",42)(67,"div",52)(68,"h1"),t.YNc(69,Wt,2,0,"ng-container",53),t.YNc(70,zt,2,0,"ng-container",53),t._uU(71," Category "),t.qZA(),t._UZ(72,"button",41),t.qZA(),t.TgZ(73,"div",54)(74,"div",18)(75,"div",55)(76,"div",20)(77,"label"),t._uU(78,"Category Name"),t.qZA(),t._UZ(79,"input",56),t.YNc(80,te,2,1,"div",57),t.qZA()(),t.TgZ(81,"div",55)(82,"div",20)(83,"label"),t._uU(84,"Slug"),t.qZA(),t._UZ(85,"input",58),t.YNc(86,oe,2,1,"div",57),t.qZA()()(),t.TgZ(87,"div",18)(88,"div",55)(89,"div",20)(90,"label"),t._uU(91,"Upload Image"),t.qZA(),t.TgZ(92,"div",59)(93,"div",60)(94,"div",61)(95,"input",62),t.NdJ("change",function(s){return n.fileValue(s)}),t.qZA(),t.TgZ(96,"label",63)(97,"div",64),t._UZ(98,"img",65),t.TgZ(99,"h6",66),t._uU(100,"Select Image"),t.qZA(),t.TgZ(101,"div",67),t._UZ(102,"i",4),t._uU(103,"Upload "),t.qZA()()(),t.YNc(104,ie,2,1,"div",68),t.qZA()()()()()(),t.TgZ(105,"div",18)(106,"div",69)(107,"div",20)(108,"label"),t._uU(109,"Description"),t.qZA(),t._UZ(110,"textarea",70),t.YNc(111,ae,2,1,"div",57),t.qZA()()(),t.TgZ(112,"div",71)(113,"button",47),t._uU(114,"Cancel"),t.qZA(),t.YNc(115,se,3,4,"button",72),t.YNc(116,le,3,4,"button",72),t.qZA()()()()()()),2&i&&(t.xp6(5),t.Q6J("disabled",n.isLoading),t.xp6(1),t.Q6J("ngClass",t.VKq(27,V,n.isLoading)),t.xp6(11),t.Q6J("ngForOf",n.columns),t.xp6(9),t.Q6J("ngModel",n.searchKey),t.xp6(6),t.Q6J("ngModel",n.status),t.xp6(7),t.Q6J("ngIf",n.catPermission.add),t.xp6(1),t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("scrollWindow",!1),t.xp6(1),t.Q6J("ngIf",n.categories.length),t.xp6(1),t.Q6J("ngIf",!n.categories.length),t.xp6(18),t.Q6J("disabled",n.isLoading),t.xp6(1),t.Q6J("ngClass",t.VKq(29,V,n.isLoading)),t.xp6(8),t.Q6J("ngIf",!n.isEdit),t.xp6(1),t.Q6J("ngIf",n.isEdit),t.xp6(3),t.Q6J("formGroup",n.addCategoryForm),t.xp6(6),t.Q6J("ngClass",t.VKq(31,st,n.submitted&&n.addCategoryFormControls.categoryName.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.addCategoryFormControls.categoryName.errors),t.xp6(5),t.Q6J("ngClass",t.VKq(33,st,n.submitted&&n.addCategoryFormControls.slug.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.addCategoryFormControls.slug.errors),t.xp6(9),t.Q6J("disabled",n.isLoading),t.xp6(7),t.Q6J("ngClass",t.VKq(35,V,n.isLoading)),t.xp6(2),t.Q6J("ngIf",n.submitted&&n.addCategoryFormControls.categoryImg.errors),t.xp6(6),t.Q6J("ngClass",t.VKq(37,st,n.submitted&&n.addCategoryFormControls.description.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.addCategoryFormControls.description.errors),t.xp6(4),t.Q6J("ngIf",!n.isEdit),t.xp6(1),t.Q6J("ngIf",n.isEdit))},dependencies:[p.rH,d.mk,d.sg,d.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.JL,l.sg,l.u,l.On,X.Ry],styles:[".colHide[_ngcontent-%COMP%]{display:none}"]})}return o})();function de(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",66)(2,"input",67),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.show=n)})("change",function(n){const s=t.CHM(e).index,c=t.oxw();return t.KtG(c.hideShowCol(n,s))}),t.qZA(),t.TgZ(3,"label",68),t._uU(4),t.qZA()()()}if(2&o){const e=a.$implicit,i=a.index;t.xp6(2),t.MGl("id","col",i,""),t.Q6J("ngModel",e.show),t.xp6(1),t.MGl("for","col",i,""),t.xp6(1),t.hij(" ",e.column," ")}}function ue(o,a){if(1&o&&(t.TgZ(0,"option",69),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",e._id),t.xp6(1),t.hij(" ",e.categoryName," ")}}function pe(o,a){if(1&o&&(t.TgZ(0,"option",69),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",e._id),t.xp6(1),t.hij(" ",e.categoryName," ")}}const ge=function(){return["/products-master/add-product"]};function me(o,a){1&o&&(t.TgZ(0,"div",70)(1,"a",71),t._UZ(2,"i",72),t._uU(3," Add Product"),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,ge)))}function _e(o,a){if(1&o&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Tol("col"+a.index),t.xp6(1),t.Oqu(e.column)}}const he=function(o){return["/products-master/newclone-product",o]};function fe(o,a){if(1&o&&(t.TgZ(0,"a",88),t._UZ(1,"i",89),t._uU(2," Clone "),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,he,e._id))}}const be=function(o){return["/products-master/edit-product",o]};function ve(o,a){if(1&o&&(t.TgZ(0,"a",84),t._UZ(1,"i",90),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,be,e._id))}}function Ce(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"a",91),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.showConfirmModal(n))}),t._UZ(1,"i",92),t.qZA()}}const tt=function(o){return{colHide:o}},ye=function(o){return["/products-master/details",o]};function Ze(o,a){if(1&o&&(t.TgZ(0,"tr")(1,"td",76),t._uU(2),t.qZA(),t.TgZ(3,"td",77),t._uU(4),t._UZ(5,"br"),t._uU(6),t._UZ(7,"br"),t._uU(8),t.qZA(),t.TgZ(9,"td",78),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td",79),t._UZ(13,"img",80),t.qZA(),t.TgZ(14,"td",81),t.YNc(15,fe,3,3,"a",82),t.qZA(),t.TgZ(16,"td",83)(17,"a",84),t._UZ(18,"i",85),t.qZA(),t.YNc(19,ve,2,3,"a",86),t.YNc(20,Ce,2,0,"a",87),t.qZA()()),2&o){const e=a.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(17,tt,!i.columns[0].show)),t.xp6(1),t.Oqu(e.productId),t.xp6(1),t.Q6J("ngClass",t.VKq(19,tt,!i.columns[1].show)),t.xp6(1),t.hij(" Category: ",e.category.categoryName," "),t.xp6(2),t.hij(" Sub Category: ",e.subCategory.categoryName," "),t.xp6(2),t.hij(" Product : ",e.productName," "),t.xp6(1),t.Q6J("ngClass",t.VKq(21,tt,!i.columns[2].show)),t.xp6(1),t.Oqu(t.lcZ(11,15,e.createdAt)),t.xp6(2),t.Q6J("ngClass",t.VKq(23,tt,!i.columns[3].show)),t.xp6(1),t.s9C("src",e.productImg[0],t.LSH),t.s9C("alt",e.productName),t.xp6(2),t.Q6J("ngIf",i.prodPermission.update),t.xp6(2),t.Q6J("routerLink",t.VKq(25,ye,e._id)),t.xp6(2),t.Q6J("ngIf",i.prodPermission.update),t.xp6(1),t.Q6J("ngIf",i.prodPermission.delete)}}function xe(o,a){if(1&o&&(t.TgZ(0,"table",73)(1,"thead")(2,"tr"),t.YNc(3,_e,2,3,"th",74),t.TgZ(4,"th"),t._uU(5,"\xa0"),t.qZA()()(),t.TgZ(6,"tbody"),t.YNc(7,Ze,21,27,"tr",75),t.qZA()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.columns),t.xp6(4),t.Q6J("ngForOf",e.products)}}function Te(o,a){1&o&&(t.TgZ(0,"div",93),t._uU(1,"No Data Found"),t.qZA())}const vt=function(o){return{"fa-spin fa-spinner":o}};let we=(()=>{class o{constructor(e,i,n,r){this._notifier=e,this._PS=i,this.ngxLoaderService=n,this._US=r,this.categoryId="",this.subCategoryId="",this.searchKey="",this.modelChanged=new Z.x,this.columns=[{column:"Product ID",show:!0,key:"productId"},{column:"Product Details",show:!0,key:""},{column:"Created At",show:!0,key:"createdAt"},{column:"Images",show:!0,key:"image"}],this.permissionsArr=[],this.prodPermission={add:!1,update:!1,delete:!1},this.page=1,this.contentPerPage=10,this.categories=[],this.subCategories=[],this.totalPage=0,this.products=[],this.deleteProductId="",this.isLoading=!1}ngOnInit(){this._US.getPermissions().subscribe(e=>{this.permissionsArr=e,Object.keys(this.prodPermission).map(i=>{this.canPerformAction("Product",i)})}),this.getCategoryList(),this.getSubCategoryList(),this.modelChanged.pipe((0,k.b)(500),(0,I.x)()).subscribe(e=>{this.searchKey=e,this.getProductList()}),this.getProductList()}ngAfterViewInit(){setTimeout(()=>{this.initDateRangePicker()},200)}initDateRangePicker(){$(".daterangePicker2").dateRangePicker({format:"DD-MM-YYYY",autoClose:!0}).on("datepicker-change",(e,i)=>{console.log("change",i),this.startDate=_(i.date1).valueOf(),this.endDate=_(i.date2).valueOf(),this.getProductList()})}hideShowCol(e,i){i&&1!==i?e.target.checked?$(`.col${i}`).removeClass("colHide"):$(`.col${i}`).addClass("colHide"):(this.columns[i].show=!0,$(`#col${i}`).prop("checked",!0))}changed(e){this.modelChanged.next(e)}changeStatus(e){this.getProductList()}openCalendar(e){e.stopPropagation(),$(".daterangePicker2").data("dateRangePicker").open()}getCategoryList(){this._PS.getCategoryList("ROOT","ACTIVE","",void 0,void 0).subscribe(e=>{e.meta.status?this.categories=e.data:(this.categories=[],this._notifier.showWarning(e.meta.msg,""))},e=>{})}getSubCategoryList(){this._PS.getSubCategoryList("PARENT","ACTIVE","","",void 0,void 0).subscribe(e=>{e.meta.status?this.subCategories=e.data:(this.subCategories=[],this._notifier.showWarning(e.meta.msg,""))},e=>{})}onScrollDown(e){this.page<this.totalPage&&(this.page+=1,this.getProductList(!0))}getProductList(e){this.ngxLoaderService.start(),this._PS.getProductList(this.categoryId,this.searchKey,this.startDate,this.endDate,this.subCategoryId,this.page,this.contentPerPage).subscribe(i=>{this.ngxLoaderService.stop(),i.meta.status?(this.totalPage=this.totalPage?this.totalPage:Math.ceil(i.metadata[0].total/this.contentPerPage),this.products=e?[...this.products,...i.data]:i.data):(this.products=e?this.products:[],e||this._notifier.showWarning(i.meta.msg,""))},i=>{this.ngxLoaderService.stop()})}showConfirmModal(e){e&&e._id&&(this.deleteProductId=e._id),$("#deleteProduct").modal("show"),$("#deleteProduct").on("hidden.bs.modal",i=>{this.deleteProductId=""})}hideConfirmModal(){$("#deleteProduct").modal("hide")}deleteProduct(){this.deleteProductId&&(this.isLoading=!0,this._PS.deleteProduct(this.deleteProductId).subscribe(e=>{this.isLoading=!1,e.meta.status?(this._notifier.showSuccess(e.meta.msg,"Succcess"),this.getProductList(),this.hideConfirmModal()):this._notifier.showWarning(e.meta.msg,"")},e=>{this._notifier.showError("Something Went Wrong","Error"),this.isLoading=!1}))}canPerformAction(e,i){this.prodPermission[i]=this._US.hasPermission(e,i,this.permissionsArr)}exportDetails(){this.isLoading=!0;let e=JSON.parse(JSON.stringify(this.columns));e.splice(1,2);let i=this.columns[1].show?[{column:"Category",show:!0,key:"category.categoryName"},{column:"Sub Category",show:!0,key:"subCategory.categoryName"},{column:"Product",show:!0,key:"productName"}]:[];e=[...e,...i],this._PS.exportProduct({columnPermission:e},this.categoryId,this.searchKey,this.startDate,this.endDate,this.subCategoryId).subscribe(n=>{this.isLoading=!1;const r=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),s=window.URL.createObjectURL(r),c=document.createElement("a");c.href=s,c.download="product.xlsx",c.click(),window.URL.revokeObjectURL(s),c.remove(),this._notifier.showSuccess("File downloaded successfully","Success"),n.meta.status||this._notifier.showWarning(n.meta.msg,"")},n=>{this._notifier.showError("Something Went Wrong","Error"),this.isLoading=!1})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(q.l),t.Y36(C.M),t.Y36(x.LA),t.Y36(J.K))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-products"]],decls:105,vars:20,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between"],[1,"export_button","column-btns"],["type","submit",1,"btn","btn-light",3,"disabled","click"],[1,"fa",3,"ngClass"],[1,"formIcons"],["src","assets/images/download.png","alt",""],[1,"rightColumnDrop"],[1,"dropdown","inline-flex"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside",1,"btn","btn-white","dropdown-toggle"],["src","assets/images/column-icon.png"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu","form-filter-drop"],[1,"form-box","form-filter"],["class","form-group",4,"ngFor","ngForOf"],[1,"account_dashboard","profile_dashboard"],[1,"login-white-box"],[1,"row","justify-content-between","listFilter"],[1,"col-12","col-sm-8","col-md-10","col-lg-10"],[1,"row"],[1,"col-12","col-md-3","col-sm-6","col-lg-3"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","Search","aria-label","Search","aria-describedby","basic-addon2","name","searchKey",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","searchBtn"],[1,"fa","fa-search"],[1,"col-6","col-md-3","col-sm-6","col-lg-3"],["name","category",1,"form-control",3,"ngModel","ngModelChange"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-6","col-md-2","col-sm-6","col-lg-3"],[1,"col-12","col-md-4","col-sm-6","col-lg-3"],[1,"form-group","calendarInput"],["type","text","placeholder","EX: 12/02/2023  -  12/02/2023",1,"form-control","daterangePicker2"],[1,"formIconsinner",3,"click"],[1,"bi","bi-calendar-week"],["class","col-12 col-sm-4 col-md-2 col-lg-2 text-end",4,"ngIf"],["infiniteScroll","",1,"table-responsive","request_sample","fix-headertbl",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["class","table table-bordered","width","100%","cellspacing","0",4,"ngIf"],["style","text-align: center;padding: 140px;",4,"ngIf"],["id","addSampleModal",1,"modal","fade"],[1,"modal-dialog","modal-lg","sample-popup-form"],[1,"modal-content"],[1,"modal-body"],[1,"d-flex","justify-content-between","mb-3"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"pop-form-box","form-box"],[1,"col-12","col-sm-6","col-md-6","col-lg-6"],["type","text","placeholder","Category Name",1,"form-control","form-ctrl"],["type","text","placeholder","Product Name",1,"form-control","form-ctrl"],[1,"form-control","form-ctrl"],[1,"text-end","main_btn","mt-5"],["type","button",1,"btn","btn-light"],["type","button",1,"btn","btn-success","ms-2"],["id","deleteProduct","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content","feedback-popup"],[1,"border-b"],[1,"modal-header","justify-content-center"],[1,"modal-title"],[1,"form-box","form-box-dashboard"],[1,"p-3"],[1,"title","mb-5"],[1,"text-end","main_btn","mt-3"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light"],["type","button",1,"btn","btn-success","ms-2",3,"disabled","click"],[1,"form-check"],["type","checkbox","name","columnName",1,"form-check-input",3,"id","ngModel","ngModelChange","change"],[1,"form-check-label",3,"for"],[3,"value"],[1,"col-12","col-sm-4","col-md-2","col-lg-2","text-end"],[1,"btn","btn-success","btn-block",3,"routerLink"],[1,"bi","bi-plus-lg"],["width","100%","cellspacing","0",1,"table","table-bordered"],[3,"class",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"col0",3,"ngClass"],[1,"col1",3,"ngClass"],[1,"col2",3,"ngClass"],[1,"col3",3,"ngClass"],[1,"image-size-fix",3,"src","alt"],[1,"col4"],["href","javascript:void(0)","class"," underline-none viewText mr-1 gap-1 border border-success rounded-3 py-1 px-2 bg-success text-12 text-white",3,"routerLink",4,"ngIf"],[1,"text-end"],["href","javascript:void(0)",1,"text-success","underline-none","viewText","mr-1",3,"routerLink"],[1,"fa","fa-eye"],["href","javascript:void(0)","class","text-success underline-none viewText mr-1",3,"routerLink",4,"ngIf"],["href","javascript:void(0)","class","text-success underline-none viewText mr-1",3,"click",4,"ngIf"],["href","javascript:void(0)",1,"underline-none","viewText","mr-1","gap-1","border","border-success","rounded-3","py-1","px-2","bg-success","text-12","text-white",3,"routerLink"],["aria-hidden","true",1,"fa","fa-clone","p-0","text-14","mt-1"],[1,"fa","fa-pencil"],["href","javascript:void(0)",1,"text-success","underline-none","viewText","mr-1",3,"click"],[1,"fa","fa-trash-o"],[2,"text-align","center","padding","140px"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t._uU(3,"Products"),t.qZA(),t.TgZ(4,"span",2)(5,"button",3),t.NdJ("click",function(){return n.exportDetails()}),t._UZ(6,"i",4),t.TgZ(7,"span",5),t._UZ(8,"img",6),t.qZA(),t._uU(9," Export Details"),t.qZA(),t.TgZ(10,"div",7)(11,"span",8)(12,"button",9),t._UZ(13,"img",10),t._uU(14," Manage Column "),t.qZA(),t.TgZ(15,"div",11)(16,"div",12),t.YNc(17,de,5,4,"div",13),t.qZA()()()()()(),t.TgZ(18,"div",14)(19,"div",15)(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",19)(24,"div",20)(25,"div",21)(26,"input",22),t.NdJ("ngModelChange",function(s){return n.searchKey=s})("ngModelChange",function(s){return n.changed(s)}),t.qZA(),t.TgZ(27,"div",23)(28,"button",24),t._UZ(29,"i",25),t.qZA()()()()(),t.TgZ(30,"div",26)(31,"div",20)(32,"select",27),t.NdJ("ngModelChange",function(s){return n.categoryId=s})("ngModelChange",function(s){return n.changeStatus(s)}),t.TgZ(33,"option",28),t._uU(34,"Category"),t.qZA(),t.YNc(35,ue,2,2,"option",29),t.qZA()()(),t.TgZ(36,"div",30)(37,"div",20)(38,"select",27),t.NdJ("ngModelChange",function(s){return n.subCategoryId=s})("ngModelChange",function(s){return n.changeStatus(s)}),t.TgZ(39,"option",28),t._uU(40,"Sub Category"),t.qZA(),t.YNc(41,pe,2,2,"option",29),t.qZA()()(),t.TgZ(42,"div",31)(43,"div",32),t._UZ(44,"input",33),t.TgZ(45,"span",34),t.NdJ("click",function(s){return n.openCalendar(s)}),t._UZ(46,"i",35),t.qZA()()()()(),t.YNc(47,me,4,2,"div",36),t.qZA(),t.TgZ(48,"div",37),t.NdJ("scrolled",function(s){return n.onScrollDown(s)}),t.YNc(49,xe,8,2,"table",38),t.YNc(50,Te,2,0,"div",39),t.qZA()()()(),t.TgZ(51,"div",40)(52,"div",41)(53,"div",42)(54,"div",43)(55,"div",44)(56,"h1"),t._uU(57,"Add Product"),t.qZA(),t._UZ(58,"button",45),t.qZA(),t.TgZ(59,"div",46)(60,"div",18)(61,"div",47)(62,"div",20)(63,"label"),t._uU(64,"Category Name"),t.qZA(),t._UZ(65,"input",48),t.qZA()(),t.TgZ(66,"div",47)(67,"div",20)(68,"label"),t._uU(69,"Product Name"),t.qZA(),t._UZ(70,"input",49),t.qZA()()(),t.TgZ(71,"div",18)(72,"div",47)(73,"div",20)(74,"label"),t._uU(75,"Additional Attachments"),t.qZA(),t.TgZ(76,"div",20)(77,"select",50)(78,"option"),t._uU(79,"Product"),t.qZA()()()()(),t.TgZ(80,"div",51)(81,"button",52),t._uU(82,"Cancel"),t.qZA(),t.TgZ(83,"button",53),t._uU(84,"Save"),t.qZA()()()()()()()(),t.TgZ(85,"div",54)(86,"div",55)(87,"div",56)(88,"div",57)(89,"div",58)(90,"h5",59),t._uU(91,"Delete Product"),t.qZA(),t._UZ(92,"button",45),t.qZA()(),t.TgZ(93,"div",43)(94,"div",60)(95,"div",61)(96,"div",62)(97,"h4"),t._uU(98,"Are you sure to delete this product?"),t.qZA()(),t.TgZ(99,"div",63)(100,"button",64),t._uU(101,"No"),t.qZA(),t.TgZ(102,"button",65),t.NdJ("click",function(){return n.deleteProduct()}),t._UZ(103,"i",4),t._uU(104," Yes "),t.qZA()()()()()()()()),2&i&&(t.xp6(5),t.Q6J("disabled",n.isLoading),t.xp6(1),t.Q6J("ngClass",t.VKq(16,vt,n.isLoading)),t.xp6(11),t.Q6J("ngForOf",n.columns),t.xp6(9),t.Q6J("ngModel",n.searchKey),t.xp6(6),t.Q6J("ngModel",n.categoryId),t.xp6(3),t.Q6J("ngForOf",n.categories),t.xp6(3),t.Q6J("ngModel",n.subCategoryId),t.xp6(3),t.Q6J("ngForOf",n.subCategories),t.xp6(6),t.Q6J("ngIf",n.prodPermission.add),t.xp6(1),t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("scrollWindow",!1),t.xp6(1),t.Q6J("ngIf",n.products.length),t.xp6(1),t.Q6J("ngIf",!n.products.length),t.xp6(52),t.Q6J("disabled",n.isLoading),t.xp6(1),t.Q6J("ngClass",t.VKq(18,vt,n.isLoading)))},dependencies:[p.rH,d.mk,d.sg,d.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.On,X.Ry,d.uU],styles:[".colHide[_ngcontent-%COMP%]{display:none}"]})}return o})();function qe(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",77)(2,"input",78),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.show=n)})("change",function(n){const s=t.CHM(e).index,c=t.oxw();return t.KtG(c.hideShowCol(n,s))}),t.qZA(),t.TgZ(3,"label",79),t._uU(4),t.qZA()()()}if(2&o){const e=a.$implicit,i=a.index;t.xp6(2),t.MGl("id","col",i,""),t.Q6J("ngModel",e.show),t.xp6(1),t.MGl("for","col",i,""),t.xp6(1),t.hij(" ",e.column," ")}}function Pe(o,a){if(1&o&&(t.TgZ(0,"option",80),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",e._id),t.xp6(1),t.hij(" ",e.categoryName," ")}}function Ae(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",81)(1,"a",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.showCategoryModal())}),t._UZ(2,"i",83),t._uU(3," Add Sub Category"),t.qZA()()}}function ke(o,a){if(1&o&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Tol("col"+a.index),t.xp6(1),t.Oqu(e.column)}}function Ie(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"a",103),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.showCategoryModal(n))}),t._UZ(1,"i",104),t.qZA()}}function Ue(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"a",103),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.showConfirmModal(n))}),t._UZ(1,"i",105),t.qZA()}}const E=function(o){return{colHide:o}},Me=function(o){return["/products-master/sub-cat-details",o]};function Se(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td",87),t._uU(2),t.qZA(),t.TgZ(3,"td",88),t._uU(4),t.qZA(),t.TgZ(5,"td",89),t._UZ(6,"img",90),t.qZA(),t.TgZ(7,"td",91),t._uU(8),t.qZA(),t.TgZ(9,"td",92),t._uU(10),t.qZA(),t.TgZ(11,"td",93)(12,"label",94)(13,"input",95),t.NdJ("click",function(n){const s=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.changeStatuscat(s,n))}),t.qZA(),t.TgZ(14,"div",96)(15,"span",97),t._uU(16,"ACTIVE"),t.qZA(),t.TgZ(17,"span",98),t._uU(18,"DEACTIVE"),t.qZA()()()(),t.TgZ(19,"td",99)(20,"a",100),t._UZ(21,"i",101),t.qZA(),t.YNc(22,Ie,2,0,"a",102),t.YNc(23,Ue,2,0,"a",102),t.qZA()()}if(2&o){const e=a.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(16,E,!i.columns[0].show)),t.xp6(1),t.Oqu(e.category.categoryId),t.xp6(1),t.Q6J("ngClass",t.VKq(18,E,!i.columns[1].show)),t.xp6(1),t.Oqu(e.categoryId),t.xp6(1),t.Q6J("ngClass",t.VKq(20,E,!i.columns[2].show)),t.xp6(1),t.s9C("src",null==e?null:e.categoryImg,t.LSH),t.s9C("alt",null==e?null:e.categoryName),t.xp6(1),t.Q6J("ngClass",t.VKq(22,E,!i.columns[3].show)),t.xp6(1),t.Oqu(e.category.categoryName),t.xp6(1),t.Q6J("ngClass",t.VKq(24,E,!i.columns[4].show)),t.xp6(1),t.hij("",null==e?null:e.categoryName," "),t.xp6(1),t.Q6J("ngClass",t.VKq(26,E,!i.columns[5].show)),t.xp6(2),t.Q6J("checked","ACTIVE"===e.status),t.xp6(7),t.Q6J("routerLink",t.VKq(28,Me,e._id)),t.xp6(2),t.Q6J("ngIf",i.catPermission.update),t.xp6(1),t.Q6J("ngIf",i.catPermission.delete)}}function Oe(o,a){if(1&o&&(t.TgZ(0,"table",84)(1,"thead")(2,"tr"),t.YNc(3,ke,2,3,"th",85),t.TgZ(4,"th"),t._uU(5,"\xa0"),t.qZA()()(),t.TgZ(6,"tbody"),t.YNc(7,Se,24,30,"tr",86),t.qZA()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.columns),t.xp6(4),t.Q6J("ngForOf",e.subCategories)}}function Ne(o,a){1&o&&(t.TgZ(0,"div",106),t._uU(1,"No Data Found"),t.qZA())}function Fe(o,a){1&o&&(t.ynx(0),t._uU(1,"Add"),t.BQk())}function De(o,a){1&o&&(t.ynx(0),t._uU(1,"Update"),t.BQk())}function Je(o,a){if(1&o&&(t.TgZ(0,"option",80),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",e._id),t.xp6(1),t.hij(" ",e.categoryName," ")}}function Qe(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Sub Category Name is required. "),t.qZA())}function Ee(o,a){if(1&o&&(t.TgZ(0,"div",107),t.YNc(1,Qe,2,0,"div",56),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.addCategoryFormControls.categoryName.errors.required)}}function Le(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Slug is required. "),t.qZA())}function Ye(o,a){if(1&o&&(t.TgZ(0,"div",107),t.YNc(1,Le,2,0,"div",56),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.addCategoryFormControls.slug.errors.required)}}function $e(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Category Image is required. "),t.qZA())}function Ve(o,a){if(1&o&&(t.TgZ(0,"div",108),t.YNc(1,$e,2,0,"div",56),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.addCategoryFormControls.categoryImg.errors.required)}}function Ke(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Description is required. "),t.qZA())}function Be(o,a){if(1&o&&(t.TgZ(0,"div",107),t.YNc(1,Ke,2,0,"div",56),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.addCategoryFormControls.description.errors.required)}}const K=function(o){return{"fa-spin fa-spinner":o}};function je(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",51),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.addCategory())}),t._UZ(1,"i",4),t._uU(2," Save"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.isLoadingSave),t.xp6(1),t.Q6J("ngClass",t.VKq(2,K,e.isLoadingSave))}}function He(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",51),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.updateCategory())}),t._UZ(1,"i",4),t._uU(2," Update"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.isLoadingSave),t.xp6(1),t.Q6J("ngClass",t.VKq(2,K,e.isLoadingSave))}}const lt=function(o){return{"is-invalid":o}};let Re=(()=>{class o{constructor(e,i,n,r,s,c){this._FB=e,this._notifier=i,this._PS=n,this._CS=r,this.ngxLoaderService=s,this._US=c,this.submitted=!1,this.isLoading=!1,this.isLoadingSave=!1,this.type="PARENT",this.status="",this.searchKey="",this.modelChanged=new Z.x,this.columns=[{column:"Category ID",show:!0,key:"category.categoryId"},{column:"Sub Category ID",show:!0,key:"categoryId"},{column:"Images",show:!0,key:"image"},{column:"Category",show:!0,key:"category.categoryName"},{column:"Sub Category",show:!0,key:"categoryName"},{column:"Status",show:!0,key:"status"}],this.categoryId="",this.permissionsArr=[],this.catPermission={add:!1,update:!1,delete:!1},this.page=1,this.contentPerPage=10,this.isEdit=!1,this.categories=[],this.totalPage=0,this.subCategories=[],this.deleteCatId=""}ngOnInit(){this._US.getPermissions().subscribe(e=>{this.permissionsArr=e,Object.keys(this.catPermission).map(i=>{this.canPerformAction("Sub Category",i)})}),this.initAddCategoryForm(),this.getCategoryList(),this.modelChanged.pipe((0,k.b)(500),(0,I.x)()).subscribe(e=>{this.searchKey=e,this.getSubCategoryList()}),this.getSubCategoryList()}ngAfterViewInit(){setTimeout(()=>{},200)}initAddCategoryForm(){this.addCategoryForm=this._FB.group({type:["PARENT"],categoryName:["",l.kI.required],slug:["",l.kI.required],categoryImg:["",l.kI.required],description:["",l.kI.required],parentId:["",l.kI.required]}),this.addCategoryForm.get("categoryName")?.valueChanges.subscribe(e=>{this.addCategoryForm.get("slug")?.setValue(z()(e))})}get addCategoryFormControls(){return this.addCategoryForm.controls}initDateRangePicker(){$(".daterangePicker1").dateRangePicker({format:"DD-MM-YYYY",autoClose:!0}).on("datepicker-first-date-selected",(e,i)=>{console.log("first-date-selected",i)}).on("datepicker-change",(e,i)=>{console.log("change",i),this.startDate=_(i.date1).valueOf(),this.endDate=_(i.date2).valueOf(),this.getSubCategoryList()}).on("datepicker-apply",(e,i)=>{console.log("apply",i)}).on("datepicker-close",function(){console.log("before close")}).on("datepicker-closed",function(){console.log("after close")}).on("datepicker-open",function(){console.log("before open")}).on("datepicker-opened",function(){console.log("after open")})}openCalendar(e){e.stopPropagation(),$(".daterangePicker1").data("dateRangePicker").open()}fileValue(e){var i=e.target.value,n=i.split(".").pop();if("jpg"==n||"svg"==n||"jpeg"==n||"png"==n||"gif"==n){const r=new FormData;r.append("image",e.target.files[0]),this.isLoading=!0,this._CS.uploadImage(r).subscribe(s=>{if(s.meta.status){var c=i.replace(/^.*[\\\/]/,"").split(".").slice(0,-1).join(".");document.getElementById("filename").innerHTML=c,this.addCategoryForm.get("categoryImg")?.setValue(s.data),this.isLoading=!1,this._notifier.showSuccess(s.meta.msg,"Success")}else this.isLoading=!1,this._notifier.showWarning(s.meta.msg,"")},s=>{this.isLoading=!1})}else alert("File not supported. Kindly Upload the Image of below given extension ")}showCategoryModal(e){if(e&&e.categoryId){this.selectedCat=e,this.isEdit=!0;let i=e.categoryImg&&e.categoryImg.length?e.categoryImg.split("/")[e.categoryImg.split("/").length-1]:"Select Image";document.getElementById("filename").innerHTML=i,this.addCategoryForm.patchValue(e)}$("#addSampleModal").modal("show"),$("#addSampleModal").on("hidden.bs.modal",i=>{this.selectedCat=void 0,document.getElementById("filename").innerHTML="Select Image",this.isEdit=!1,this.submitted=!1,this.addCategoryForm.reset({type:"ROOT",parentId:"",categoryName:""})})}hideCategoryModal(){$("#addSampleModal").modal("hide")}addCategory(){this.addCategoryForm.valid?(this.isLoadingSave=!0,this._PS.addCategory(this.addCategoryForm.value).subscribe(e=>{e.meta.status?(this.getSubCategoryList(),this.isLoadingSave=!1,this.hideCategoryModal(),this._notifier.showSuccess(e.meta.msg,"Success")):(this.isLoadingSave=!1,this._notifier.showWarning(e.meta.msg,""))},e=>{this.isLoadingSave=!1})):this.submitted=!0}getCategoryList(){this._PS.getCategoryList("ROOT","ACTIVE","",void 0,void 0).subscribe(e=>{e.meta.status?this.categories=e.data:(this.categories=[],this._notifier.showWarning(e.meta.msg,""))},e=>{})}onScrollDown(e){this.page<this.totalPage&&(this.page+=1,this.getSubCategoryList(!0))}getSubCategoryList(e){this.ngxLoaderService.start(),this._PS.getSubCategoryList(this.type,this.status,this.searchKey,this.categoryId,this.startDate,this.endDate,this.page,this.contentPerPage).subscribe(i=>{this.ngxLoaderService.stop(),i.meta.status?(this.totalPage=this.totalPage?this.totalPage:Math.ceil(i.metadata[0].total/this.contentPerPage),this.subCategories=e?[...this.subCategories,...i.data]:i.data):(this.subCategories=e?this.subCategories:[],e||this._notifier.showWarning(i.meta.msg,""))},i=>{this.ngxLoaderService.stop()})}changed(e){this.modelChanged.next(e)}changeStatus(e){this.getSubCategoryList()}hideShowCol(e,i){i&&3!==i&&5!==i?e.target.checked?$(`.col${i}`).removeClass("colHide"):$(`.col${i}`).addClass("colHide"):(this.columns[i].show=!0,$(`#col${i}`).prop("checked",!0))}updateCategory(){if(this.addCategoryForm.valid&&this.selectedCat._id){this.isLoadingSave=!0;let e={categoryId:this.selectedCat._id,...this.addCategoryForm.value};delete e.type,this._PS.updateCategory(e).subscribe(i=>{i.meta.status?(this.getSubCategoryList(),this.isLoadingSave=!1,this.hideCategoryModal(),this._notifier.showSuccess(i.meta.msg,"Success")):(this.isLoadingSave=!1,this._notifier.showWarning(i.meta.msg,""))},i=>{this.isLoadingSave=!1})}else this.submitted=!0}showConfirmModal(e){e&&e._id&&(this.deleteCatId=e._id),$("#deleteCatModal").modal("show"),$("#deleteCatModal").on("hidden.bs.modal",i=>{this.deleteCatId=""})}hideConfirmModal(){$("#deleteCatModal").modal("hide")}deleteCategory(){this.deleteCatId&&(this.isLoading=!0,this._PS.deleteCategory(this.deleteCatId).subscribe(e=>{this.isLoading=!1,e.meta.status?(this._notifier.showSuccess(e.meta.msg,"Succcess"),this.getSubCategoryList(),this.hideConfirmModal()):this._notifier.showWarning(e.meta.msg,"")},e=>{this.isLoading=!1,this._notifier.showError("Something Went Wrong","Error")}))}canPerformAction(e,i){this.catPermission[i]=this._US.hasPermission(e,i,this.permissionsArr)}changeStatuscat(e,i){i.preventDefault();let n={categoryId:e._id,status:"ACTIVE"===e.status?"DEACTIVE":"ACTIVE"};this.isLoading=!0,this._PS.changeStatus(n).subscribe(r=>{this.isLoading=!1,r.meta.status?(this.getSubCategoryList(),this._notifier.showSuccess(r.meta.msg,"Success")):this._notifier.showWarning(r.meta.msg,"")},r=>{this._notifier.showError("Something Went Wrong","Error"),this.isLoading=!1})}exportDetails(){this.isLoading=!0;let e=JSON.parse(JSON.stringify(this.columns)),i=e.findIndex(n=>"image"===n.key);e.splice(i,1),this._PS.exportSubCategory({columnPermission:e},this.categoryId,this.status,this.searchKey).subscribe(n=>{this.isLoading=!1;const r=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),s=window.URL.createObjectURL(r),c=document.createElement("a");c.href=s,c.download="sub-category.xlsx",c.click(),window.URL.revokeObjectURL(s),c.remove(),this._notifier.showSuccess("File downloaded successfully","Success"),n.meta.status||this._notifier.showWarning(n.meta.msg,"")},n=>{this._notifier.showError("Something Went Wrong","Error"),this.isLoading=!1})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(l.qu),t.Y36(q.l),t.Y36(C.M),t.Y36(U.v),t.Y36(x.LA),t.Y36(J.K))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-sub-category"]],decls:132,vars:42,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between"],[1,"export_button","column-btns"],["type","submit",1,"btn","btn-light",3,"disabled","click"],[1,"fa",3,"ngClass"],[1,"formIcons"],["src","assets/images/download.png","alt",""],[1,"rightColumnDrop"],[1,"dropdown","inline-flex"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside",1,"btn","btn-white","dropdown-toggle"],["src","assets/images/column-icon.png"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu","form-filter-drop"],[1,"form-box","form-filter"],["class","form-group",4,"ngFor","ngForOf"],[1,"account_dashboard","profile_dashboard"],[1,"login-white-box"],[1,"row","justify-content-between","listFilter"],[1,"col-12","col-sm-8","col-md-10","col-lg-10"],[1,"row"],[1,"col-12","col-md-3","col-sm-6","col-lg-3"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","Search","aria-label","Search","aria-describedby","basic-addon2","name","searchKey",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","searchBtn"],[1,"fa","fa-search"],[1,"col-6","col-md-3","col-sm-6","col-lg-3"],["name","status",1,"form-control",3,"ngModel","ngModelChange"],["value","","hidden",""],["value","active"],["value","deactive"],[1,"col-6","col-md-2","col-sm-6","col-lg-2"],["name","category",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-12 col-sm-4 col-md-2 col-lg-2 text-end",4,"ngIf"],["infiniteScroll","",1,"table-responsive","request_sample","fix-headertbl",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["class","table table-bordered","width","100%","cellspacing","0",4,"ngIf"],["style","text-align: center;padding: 140px;",4,"ngIf"],["id","deleteCatModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content","feedback-popup"],[1,"border-b"],[1,"modal-header","justify-content-center"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"form-box","form-box-dashboard"],[1,"p-3"],[1,"title","mb-5"],[1,"text-end","main_btn","mt-3"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light"],["type","button",1,"btn","btn-success","ms-2",3,"disabled","click"],["id","addSampleModal",1,"modal","fade"],[1,"modal-dialog","modal-lg","sample-popup-form"],[1,"modal-content"],[1,"d-flex","justify-content-between","mb-3"],[4,"ngIf"],[1,"pop-form-box","form-box",3,"formGroup"],[1,"col-12","col-sm-6","col-md-6","col-lg-6"],["formControlName","parentId",1,"form-control","form-ctrl"],["value",""],["type","text","placeholder","Sub Category Name","formControlName","categoryName",1,"form-control","form-ctrl",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Slug","formControlName","slug",1,"form-control","form-ctrl",3,"ngClass"],[1,"file-form-control"],[1,"upload-doc-item"],[1,"image-upload"],["type","file","name","","accept","image/*","id","logo",3,"disabled","change"],["for","logo","id","file-label",1,"upload-field"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/mc.png","alt",""],["id","filename"],[1,"Upload-btn","btn","btn-success"],["style","display: block;","class","invalid-feedback",4,"ngIf"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],["placeholder","Type...","formControlName","description",1,"form-control","form-ctrl",3,"ngClass"],["type","button","class","btn btn-success ms-2",3,"disabled","click",4,"ngIf"],[1,"form-check"],["type","checkbox","name","columnName",1,"form-check-input",3,"id","ngModel","ngModelChange","change"],[1,"form-check-label",3,"for"],[3,"value"],[1,"col-12","col-sm-4","col-md-2","col-lg-2","text-end"],["href","javascript:void(0)",1,"btn","btn-success","btn-block",3,"click"],[1,"bi","bi-plus-lg"],["width","100%","cellspacing","0",1,"table","table-bordered"],[3,"class",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"col0",3,"ngClass"],[1,"col1",3,"ngClass"],[1,"col2",3,"ngClass"],[1,"image-size-fix",3,"src","alt"],[1,"col3",3,"ngClass"],[1,"inventoryBadge","col4",3,"ngClass"],[1,"inventoryBadge","col5",3,"ngClass"],[1,"switch"],["type","checkbox","id","togBtn",3,"checked","click"],[1,"slider","round"],[1,"on"],[1,"off"],[1,"text-end"],["href","javascript:void(0)",1,"text-success","underline-none","viewText","mr-1",3,"routerLink"],[1,"fa","fa-eye"],["href","javascript:void(0)","class","text-success underline-none viewText mr-1",3,"click",4,"ngIf"],["href","javascript:void(0)",1,"text-success","underline-none","viewText","mr-1",3,"click"],[1,"fa","fa-pencil"],[1,"fa","fa-trash-o"],[2,"text-align","center","padding","140px"],[1,"invalid-feedback"],[1,"invalid-feedback",2,"display","block"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t._uU(3,"Sub Category"),t.qZA(),t.TgZ(4,"span",2)(5,"button",3),t.NdJ("click",function(){return n.exportDetails()}),t._UZ(6,"i",4),t.TgZ(7,"span",5),t._UZ(8,"img",6),t.qZA(),t._uU(9," Export Details "),t.qZA(),t.TgZ(10,"div",7)(11,"span",8)(12,"button",9),t._UZ(13,"img",10),t._uU(14," Manage Column "),t.qZA(),t.TgZ(15,"div",11)(16,"div",12),t.YNc(17,qe,5,4,"div",13),t.qZA()()()()()(),t.TgZ(18,"div",14)(19,"div",15)(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",19)(24,"div",20)(25,"div",21)(26,"input",22),t.NdJ("ngModelChange",function(s){return n.searchKey=s})("ngModelChange",function(s){return n.changed(s)}),t.qZA(),t.TgZ(27,"div",23)(28,"button",24),t._UZ(29,"i",25),t.qZA()()()()(),t.TgZ(30,"div",26)(31,"div",20)(32,"select",27),t.NdJ("ngModelChange",function(s){return n.status=s})("ngModelChange",function(s){return n.changeStatus(s)}),t.TgZ(33,"option",28),t._uU(34,"Status"),t.qZA(),t.TgZ(35,"option",29),t._uU(36,"Active"),t.qZA(),t.TgZ(37,"option",30),t._uU(38,"Deactive"),t.qZA()()()(),t.TgZ(39,"div",31)(40,"div",20)(41,"select",32),t.NdJ("ngModelChange",function(s){return n.categoryId=s})("ngModelChange",function(s){return n.changeStatus(s)}),t.TgZ(42,"option",28),t._uU(43,"Category"),t.qZA(),t.YNc(44,Pe,2,2,"option",33),t.qZA()()()()(),t.YNc(45,Ae,4,0,"div",34),t.qZA(),t.TgZ(46,"div",35),t.NdJ("scrolled",function(s){return n.onScrollDown(s)}),t.YNc(47,Oe,8,2,"table",36),t.YNc(48,Ne,2,0,"div",37),t.qZA()()()(),t.TgZ(49,"div",38)(50,"div",39)(51,"div",40)(52,"div",41)(53,"div",42)(54,"h5",43),t._uU(55,"Delete Category"),t.qZA(),t._UZ(56,"button",44),t.qZA()(),t.TgZ(57,"div",45)(58,"div",46)(59,"div",47)(60,"div",48)(61,"h4"),t._uU(62,"Are you sure to delete this category ?"),t.qZA()(),t.TgZ(63,"div",49)(64,"button",50),t._uU(65,"No"),t.qZA(),t.TgZ(66,"button",51),t.NdJ("click",function(){return n.deleteCategory()}),t._UZ(67,"i",4),t._uU(68," Yes"),t.qZA()()()()()()()(),t.TgZ(69,"div",52)(70,"div",53)(71,"div",54)(72,"div",45)(73,"div",55)(74,"h1"),t.YNc(75,Fe,2,0,"ng-container",56),t.YNc(76,De,2,0,"ng-container",56),t._uU(77," Sub Category "),t.qZA(),t._UZ(78,"button",44),t.qZA(),t.TgZ(79,"div",57)(80,"div",18)(81,"div",58)(82,"div",20)(83,"label"),t._uU(84,"Category Name"),t.qZA(),t.TgZ(85,"div",20)(86,"select",59)(87,"option",60),t._uU(88,"Category Name"),t.qZA(),t.YNc(89,Je,2,2,"option",33),t.qZA()()()(),t.TgZ(90,"div",58)(91,"div",20)(92,"label"),t._uU(93,"Sub Category Name"),t.qZA(),t._UZ(94,"input",61),t.YNc(95,Ee,2,1,"div",62),t.qZA()()(),t.TgZ(96,"div",18)(97,"div",58)(98,"div",20)(99,"label"),t._uU(100,"Slug"),t.qZA(),t._UZ(101,"input",63),t.YNc(102,Ye,2,1,"div",62),t.qZA()(),t.TgZ(103,"div",58)(104,"div",20)(105,"label"),t._uU(106,"Upload Image"),t.qZA(),t.TgZ(107,"div",64)(108,"div",65)(109,"div",66)(110,"input",67),t.NdJ("change",function(s){return n.fileValue(s)}),t.qZA(),t.TgZ(111,"label",68)(112,"div",69),t._UZ(113,"img",70),t.TgZ(114,"h6",71),t._uU(115,"Select Image"),t.qZA(),t.TgZ(116,"div",72),t._UZ(117,"i",4),t._uU(118,"Upload "),t.qZA()()(),t.YNc(119,Ve,2,1,"div",73),t.qZA()()()()()(),t.TgZ(120,"div",18)(121,"div",74)(122,"div",20)(123,"label"),t._uU(124,"Description"),t.qZA(),t._UZ(125,"textarea",75),t.YNc(126,Be,2,1,"div",62),t.qZA()()(),t.TgZ(127,"div",49)(128,"button",50),t._uU(129,"Cancel"),t.qZA(),t.YNc(130,je,3,4,"button",76),t.YNc(131,He,3,4,"button",76),t.qZA()()()()()()),2&i&&(t.xp6(5),t.Q6J("disabled",n.isLoading),t.xp6(1),t.Q6J("ngClass",t.VKq(30,K,n.isLoading)),t.xp6(11),t.Q6J("ngForOf",n.columns),t.xp6(9),t.Q6J("ngModel",n.searchKey),t.xp6(6),t.Q6J("ngModel",n.status),t.xp6(9),t.Q6J("ngModel",n.categoryId),t.xp6(3),t.Q6J("ngForOf",n.categories),t.xp6(1),t.Q6J("ngIf",n.catPermission.add),t.xp6(1),t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("scrollWindow",!1),t.xp6(1),t.Q6J("ngIf",n.subCategories.length),t.xp6(1),t.Q6J("ngIf",!n.subCategories.length),t.xp6(18),t.Q6J("disabled",n.isLoading),t.xp6(1),t.Q6J("ngClass",t.VKq(32,K,n.isLoading)),t.xp6(8),t.Q6J("ngIf",!n.isEdit),t.xp6(1),t.Q6J("ngIf",n.isEdit),t.xp6(3),t.Q6J("formGroup",n.addCategoryForm),t.xp6(10),t.Q6J("ngForOf",n.categories),t.xp6(5),t.Q6J("ngClass",t.VKq(34,lt,n.submitted&&n.addCategoryFormControls.categoryName.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.addCategoryFormControls.categoryName.errors),t.xp6(6),t.Q6J("ngClass",t.VKq(36,lt,n.submitted&&n.addCategoryFormControls.slug.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.addCategoryFormControls.slug.errors),t.xp6(8),t.Q6J("disabled",n.isLoading),t.xp6(7),t.Q6J("ngClass",t.VKq(38,K,n.isLoading)),t.xp6(2),t.Q6J("ngIf",n.submitted&&n.addCategoryFormControls.categoryImg.errors),t.xp6(6),t.Q6J("ngClass",t.VKq(40,lt,n.submitted&&n.addCategoryFormControls.description.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.addCategoryFormControls.description.errors),t.xp6(4),t.Q6J("ngIf",!n.isEdit),t.xp6(1),t.Q6J("ngIf",n.isEdit))},dependencies:[p.rH,d.mk,d.sg,d.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.JL,l.sg,l.u,l.On,X.Ry],styles:[".colHide[_ngcontent-%COMP%]{display:none}"]})}return o})();const Ge=["json"],We=["code"];let ze=(()=>{class o{constructor(){this.refreshForm=new t.vpe,this.options={noDefaultSubmitButton:!0,builder:{advanced:!1,search:!1,data:!1,premium:!1},editForm:{textfield:[{key:"display",components:[{key:"description",ignore:!0},{key:"placeholder",ignore:!0}]},{key:"newTab",label:"NEW Tab",components:[{title:"First Name",key:"firstname",type:"textfield",label:"First Name",input:!0},{title:"List Names",key:"listnames",type:"textarea",label:"List Names",input:!0}]}]}},this.form={components:[]}}ngOnInit(){}onChange(e){this.jsonElement.nativeElement.innerHTML="",this.jsonElement.nativeElement.appendChild(document.createTextNode(JSON.stringify(e.form,null,4))),this.refreshForm.emit({property:"form",value:e.form})}onSubmit(e){}test(){this.formio.formio.checkValidity(null,!1,null,!0)||console.log("The form is invalid!"),this.formio&&this.formio.formio.emit("submitButton")}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-form-builder-dummy"]],viewQuery:function(i,n){if(1&i&&(t.Gf(Ge,7),t.Gf(We,7),t.Gf(v.k4,5)),2&i){let r;t.iGM(r=t.CRH())&&(n.jsonElement=r.first),t.iGM(r=t.CRH())&&(n.codeElement=r.first),t.iGM(r=t.CRH())&&(n.formio=r.first)}},decls:9,vars:4,consts:[[3,"form","options","change"],[1,"well","jsonviewer"],["id","json"],[1,"language-json"],["json",""],[3,"form","refresh","submit"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(i,n){1&i&&(t.TgZ(0,"form-builder",0),t.NdJ("change",function(s){return n.onChange(s)}),t.qZA(),t.TgZ(1,"div",1)(2,"pre",2),t._UZ(3,"code",3,4),t.qZA()(),t.TgZ(5,"div",1)(6,"formio",5),t.NdJ("submit",function(s){return n.onSubmit(s)}),t.qZA(),t.TgZ(7,"button",6),t.NdJ("click",function(){return n.test()}),t._uU(8,"Submit"),t.qZA()()),2&i&&(t.Q6J("form",n.form)("options",n.options),t.xp6(6),t.Q6J("form",n.form)("refresh",n.refreshForm))},dependencies:[v.k4,v.hd]})}return o})();function Xe(o,a){if(1&o&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",e._id),t.xp6(1),t.hij(" ",e.categoryName," ")}}function to(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Category is required. "),t.qZA())}function eo(o,a){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,to,2,0,"div",37),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productFormControls.categoryId.errors.required)}}function oo(o,a){if(1&o&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",e._id),t.xp6(1),t.hij(" ",e.categoryName," ")}}function no(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Sub Category is required. "),t.qZA())}function io(o,a){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,no,2,0,"div",37),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productFormControls.subCategoryId.errors.required)}}function ro(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Product Name is required. "),t.qZA())}function ao(o,a){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,ro,2,0,"div",37),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productFormControls.productName.errors.required)}}function so(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," AvaTaxCode is required. "),t.qZA())}function lo(o,a){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,so,2,0,"div",37),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productFormControls.avaTaxCode.errors.required)}}function co(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," HsnCode is required. "),t.qZA())}function uo(o,a){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,co,2,0,"div",37),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productFormControls.hsnCode.errors.required)}}function po(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Product Image is required. "),t.qZA())}function go(o,a){if(1&o&&(t.TgZ(0,"div",38),t.YNc(1,po,2,0,"div",37),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productFormControls.productImg.errors.required)}}function mo(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",39)(1,"h6"),t._uU(2,"Products Forms"),t.qZA(),t.TgZ(3,"form-builder",40),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.onChange(n))}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("form",e.form)("options",e.options)}}function _o(o,a){1&o&&(t.TgZ(0,"div",41)(1,"div",42)(2,"div",43)(3,"div",44)(4,"div",45)(5,"h1"),t._uU(6,"Text Field Component"),t.qZA(),t._UZ(7,"button",46),t.qZA(),t.TgZ(8,"div",47)(9,"div",48)(10,"h5"),t._uU(11,"Preview"),t.qZA(),t.TgZ(12,"div",49)(13,"div",3)(14,"div",50)(15,"div",51)(16,"label"),t._uU(17,"Printing Category"),t.qZA(),t.TgZ(18,"select",52)(19,"option"),t._uU(20,"Product Type"),t.qZA()()()()()()(),t.TgZ(21,"div",53)(22,"ul",54)(23,"li",55)(24,"a",56),t._uU(25,"Display"),t.qZA()(),t.TgZ(26,"li",55)(27,"a",57),t._uU(28,"Data"),t.qZA()(),t.TgZ(29,"li",55)(30,"a",58),t._uU(31,"Validation"),t.qZA()(),t.TgZ(32,"li",55)(33,"a",59),t._uU(34,"API"),t.qZA()(),t.TgZ(35,"li",55)(36,"a",60),t._uU(37,"Conditional"),t.qZA()(),t.TgZ(38,"li",55)(39,"a",61),t._uU(40,"Logic"),t.qZA()(),t.TgZ(41,"li",55)(42,"a",62),t._uU(43,"Layout"),t.qZA()(),t.TgZ(44,"li",55)(45,"a",63),t._uU(46,"UOM"),t.qZA()()(),t.TgZ(47,"div",64)(48,"div",65)(49,"div",49)(50,"div",3)(51,"div",66)(52,"div",8)(53,"label"),t._uU(54,"Label "),t.TgZ(55,"span",67),t._UZ(56,"i",68),t.qZA()(),t._UZ(57,"input",69),t.qZA()(),t.TgZ(58,"div",66)(59,"div",8)(60,"label"),t._uU(61,"Label Position "),t.TgZ(62,"span",67),t._UZ(63,"i",68),t.qZA()(),t.TgZ(64,"select",52)(65,"option"),t._uU(66,"Top"),t.qZA(),t.TgZ(67,"option"),t._uU(68,"Bottom"),t.qZA()()()(),t.TgZ(69,"div",66)(70,"div",8)(71,"label"),t._uU(72,"Placeholder "),t.TgZ(73,"span",67),t._UZ(74,"i",68),t.qZA()(),t._UZ(75,"input",69),t.qZA()()(),t.TgZ(76,"div",3)(77,"div",50)(78,"div",8)(79,"label"),t._uU(80,"Description "),t.TgZ(81,"span",67),t._UZ(82,"i",68),t.qZA()(),t.TgZ(83,"div",70)(84,"div",71),t._UZ(85,"input",72),t.qZA(),t.TgZ(86,"div",73),t._UZ(87,"input",74),t.qZA(),t.TgZ(88,"div",75)(89,"a",76),t._UZ(90,"i",77),t.qZA()()()()(),t.TgZ(91,"div",50)(92,"div",8)(93,"label"),t._uU(94,"Description "),t.TgZ(95,"span",67),t._UZ(96,"i",68),t.qZA()(),t.TgZ(97,"div",70)(98,"div",71),t._UZ(99,"input",72),t.qZA(),t.TgZ(100,"div",73),t._UZ(101,"input",74),t.qZA(),t.TgZ(102,"div",75)(103,"a",76),t._UZ(104,"i",77),t.qZA()()()()(),t.TgZ(105,"div",66)(106,"div",8)(107,"label"),t._uU(108,"Prefix "),t.TgZ(109,"span",67),t._UZ(110,"i",68),t.qZA()(),t._UZ(111,"input",78),t.qZA()(),t.TgZ(112,"div",66)(113,"div",8)(114,"label"),t._uU(115,"Suffix "),t.TgZ(116,"span",67),t._UZ(117,"i",68),t.qZA()(),t._UZ(118,"input",79),t.qZA()(),t.TgZ(119,"div",66)(120,"div",8)(121,"label"),t._uU(122,"Widget "),t.TgZ(123,"span",67),t._UZ(124,"i",68),t.qZA()(),t._UZ(125,"input",80),t.qZA()(),t.TgZ(126,"div",66)(127,"div",8)(128,"label"),t._uU(129,"Input Mask "),t.TgZ(130,"span",67),t._UZ(131,"i",68),t.qZA()(),t._UZ(132,"input",80),t.qZA()(),t.TgZ(133,"div",66)(134,"div",8)(135,"label"),t._uU(136,"Display Mask "),t.TgZ(137,"span",67),t._UZ(138,"i",68),t.qZA()(),t._UZ(139,"input",80),t.qZA()(),t.TgZ(140,"div",66)(141,"div",8)(142,"label"),t._uU(143,"Custom CSS Class "),t.TgZ(144,"span",67),t._UZ(145,"i",68),t.qZA()(),t._UZ(146,"input",80),t.qZA()(),t.TgZ(147,"div",66)(148,"div",8)(149,"label"),t._uU(150,"Tab Index "),t.TgZ(151,"span",67),t._UZ(152,"i",68),t.qZA()(),t._UZ(153,"input",80),t.qZA()(),t.TgZ(154,"div",66)(155,"div",8)(156,"label"),t._uU(157,"Autocomplete "),t.TgZ(158,"span",67),t._UZ(159,"i",68),t.qZA()(),t._UZ(160,"input",80),t.qZA()(),t.TgZ(161,"div",50)(162,"div",81)(163,"div",8)(164,"div",82)(165,"label"),t._UZ(166,"input",83),t._uU(167," Hidden "),t.TgZ(168,"span",67),t._UZ(169,"i",68),t.qZA(),t.TgZ(170,"small",84),t._uU(171,"A hidden field is still part of the form, but is hidden from view"),t.qZA()()()(),t.TgZ(172,"div",8)(173,"div",82)(174,"label"),t._UZ(175,"input",83),t._uU(176," Hide Label "),t.TgZ(177,"span",67),t._UZ(178,"i",68),t.qZA()()()(),t.TgZ(179,"div",8)(180,"div",82)(181,"label"),t._UZ(182,"input",83),t._uU(183," Show Word Counter "),t.TgZ(184,"span",67),t._UZ(185,"i",68),t.qZA()()()(),t.TgZ(186,"div",8)(187,"div",82)(188,"label"),t._UZ(189,"input",83),t._uU(190," Show Character Counter "),t.TgZ(191,"span",67),t._UZ(192,"i",68),t.qZA()()()(),t.TgZ(193,"div",8)(194,"div",82)(195,"label"),t._UZ(196,"input",83),t._uU(197," Hide Input "),t.TgZ(198,"span",67),t._UZ(199,"i",68),t.qZA()()()(),t.TgZ(200,"div",8)(201,"div",82)(202,"label"),t._UZ(203,"input",83),t._uU(204," Add to Card View "),t.TgZ(205,"span",67),t._UZ(206,"i",68),t.qZA()()()()()(),t.TgZ(207,"div",50)(208,"div",81)(209,"div",8)(210,"div",82)(211,"label"),t._UZ(212,"input",83),t._uU(213," Initial Focus "),t.TgZ(214,"span",67),t._UZ(215,"i",68),t.qZA()()()(),t.TgZ(216,"div",8)(217,"div",82)(218,"label"),t._UZ(219,"input",83),t._uU(220," Allow Spellcheck "),t.TgZ(221,"span",67),t._UZ(222,"i",68),t.qZA()()()(),t.TgZ(223,"div",8)(224,"div",82)(225,"label"),t._UZ(226,"input",83),t._uU(227," Disabled "),t.TgZ(228,"span",67),t._UZ(229,"i",68),t.qZA()()()(),t.TgZ(230,"div",8)(231,"div",82)(232,"label"),t._UZ(233,"input",83),t._uU(234," Table View "),t.TgZ(235,"span",67),t._UZ(236,"i",68),t.qZA()()()(),t.TgZ(237,"div",8)(238,"div",82)(239,"label"),t._UZ(240,"input",83),t._uU(241," Modal Edit "),t.TgZ(242,"span",67),t._UZ(243,"i",68),t.qZA()()()()()()()()(),t.TgZ(244,"div",85)(245,"div",49)(246,"div",3)(247,"div",66)(248,"div",8)(249,"label"),t._uU(250,"Default Value "),t.TgZ(251,"span",67),t._UZ(252,"i",68),t.qZA()(),t._UZ(253,"input",69),t.qZA()(),t.TgZ(254,"div",66)(255,"div",8)(256,"label"),t._uU(257,"Persistent "),t.TgZ(258,"span",67),t._UZ(259,"i",68),t.qZA()(),t.TgZ(260,"select",52)(261,"option"),t._uU(262,"None"),t.qZA()()()(),t.TgZ(263,"div",50)(264,"div",8)(265,"label"),t._uU(266,"Input Format "),t.TgZ(267,"span",67),t._UZ(268,"i",68),t.qZA()(),t.TgZ(269,"select",52)(270,"option"),t._uU(271,"Plain"),t.qZA()(),t.TgZ(272,"div",86)(273,"div",8)(274,"div",87)(275,"label"),t._UZ(276,"input",83),t._uU(277," Protected "),t.TgZ(278,"span",67),t._UZ(279,"i",68),t.qZA()()(),t.TgZ(280,"div",88)(281,"label"),t._UZ(282,"input",83),t._uU(283," Database Index "),t.TgZ(284,"span",67),t._UZ(285,"i",68),t.qZA()()()()()()(),t.TgZ(286,"div",50)(287,"div",8)(288,"label"),t._uU(289,"Text Case "),t.TgZ(290,"span",67),t._UZ(291,"i",68),t.qZA()(),t.TgZ(292,"select",52)(293,"option"),t._uU(294,"Mixed"),t.qZA()(),t.TgZ(295,"div",86)(296,"div",8)(297,"div",87)(298,"label"),t._UZ(299,"input",83),t._uU(300," Truncate Multiple Spaces "),t.TgZ(301,"span",67),t._UZ(302,"i",68),t.qZA()()(),t.TgZ(303,"div",87)(304,"label"),t._UZ(305,"input",83),t._uU(306," Encrypted (Enterprise Only) "),t.TgZ(307,"span",67),t._UZ(308,"i",68),t.qZA()()()()()()(),t.TgZ(309,"div",50)(310,"div",8)(311,"label"),t._uU(312,"Redraw On "),t.TgZ(313,"span",67),t._UZ(314,"i",68),t.qZA()(),t.TgZ(315,"select",52)(316,"option"),t._uU(317,"None"),t.qZA()(),t.TgZ(318,"div",86)(319,"div",8)(320,"div",82)(321,"label"),t._UZ(322,"input",83),t._uU(323," Clear Value When Hidden "),t.TgZ(324,"span",67),t._UZ(325,"i",68),t.qZA()()()()()()()(),t.TgZ(326,"div",7)(327,"div",8),t._UZ(328,"input",89),t.TgZ(329,"span",90),t._UZ(330,"i",91),t.qZA()(),t.TgZ(331,"div",8),t._UZ(332,"input",89),t.TgZ(333,"span",90),t._UZ(334,"i",91),t.qZA()(),t.TgZ(335,"div",81)(336,"div",8)(337,"div",82)(338,"label"),t._UZ(339,"input",83),t._uU(340," Calculate Value on server "),t.TgZ(341,"span",67),t._UZ(342,"i",68),t.qZA()()()(),t.TgZ(343,"div",8)(344,"div",82)(345,"label"),t._UZ(346,"input",83),t._uU(347," Allow Manual Override of Calculated Value "),t.TgZ(348,"span",67),t._UZ(349,"i",68),t.qZA()()()()()()()(),t.TgZ(350,"div",92)(351,"div",49)(352,"div",3)(353,"div",50)(354,"div",8)(355,"label"),t._uU(356,"Validate On "),t.TgZ(357,"span",67),t._UZ(358,"i",68),t.qZA()(),t.TgZ(359,"select",52)(360,"option"),t._uU(361,"Change"),t.qZA()(),t.TgZ(362,"div",86)(363,"div",8)(364,"div",87)(365,"label"),t._UZ(366,"input",83),t._uU(367," Required "),t.TgZ(368,"span",67),t._UZ(369,"i",68),t.qZA()()(),t.TgZ(370,"div",88)(371,"label"),t._UZ(372,"input",83),t._uU(373," Unique "),t.TgZ(374,"span",67),t._UZ(375,"i",68),t.qZA()()()()()()()(),t.TgZ(376,"div",3)(377,"div",93)(378,"div",8)(379,"label"),t._uU(380,"Minimum Length "),t.TgZ(381,"span",67),t._UZ(382,"i",68),t.qZA()(),t._UZ(383,"input",94),t.qZA()(),t.TgZ(384,"div",93)(385,"div",8)(386,"label"),t._uU(387,"Maximum Length "),t.TgZ(388,"span",67),t._UZ(389,"i",68),t.qZA()(),t._UZ(390,"input",95),t.qZA()(),t.TgZ(391,"div",93)(392,"div",8)(393,"label"),t._uU(394,"Minimum Word Length "),t.TgZ(395,"span",67),t._UZ(396,"i",68),t.qZA()(),t._UZ(397,"input",96),t.qZA()(),t.TgZ(398,"div",93)(399,"div",8)(400,"label"),t._uU(401,"Maximum Word Length "),t.TgZ(402,"span",67),t._UZ(403,"i",68),t.qZA()(),t._UZ(404,"input",97),t.qZA()(),t.TgZ(405,"div",93)(406,"div",8)(407,"label"),t._uU(408,"Regular Expression Pattern "),t.TgZ(409,"span",67),t._UZ(410,"i",68),t.qZA()(),t._UZ(411,"input",98),t.qZA()(),t.TgZ(412,"div",93)(413,"div",8)(414,"label"),t._uU(415,"Error Label "),t.TgZ(416,"span",67),t._UZ(417,"i",68),t.qZA()(),t._UZ(418,"input",99),t.qZA()(),t.TgZ(419,"div",93)(420,"div",8)(421,"label"),t._uU(422,"Custom Error Message "),t.TgZ(423,"span",67),t._UZ(424,"i",68),t.qZA()(),t._UZ(425,"input",100),t.qZA()()(),t.TgZ(426,"div",3)(427,"div",7)(428,"div",8),t._UZ(429,"input",101),t.TgZ(430,"span",90),t._UZ(431,"i",91),t.qZA()(),t.TgZ(432,"div",8),t._UZ(433,"input",102),t.TgZ(434,"span",90),t._UZ(435,"i",91),t.qZA()(),t.TgZ(436,"div",8),t._UZ(437,"input",103),t.TgZ(438,"span",90),t._UZ(439,"i",91),t.qZA()()()()()(),t.TgZ(440,"div",104)(441,"div",49)(442,"div",3)(443,"div",66)(444,"div",8)(445,"label"),t._uU(446,"Property Name "),t.TgZ(447,"span",67),t._UZ(448,"i",68),t.qZA()(),t._UZ(449,"input",105),t.qZA()(),t.TgZ(450,"div",66)(451,"div",8)(452,"label"),t._uU(453,"Field Tags "),t.TgZ(454,"span",67),t._UZ(455,"i",68),t.qZA()(),t._UZ(456,"input",106),t.qZA()()(),t.TgZ(457,"div",3)(458,"div",7)(459,"div",8)(460,"label"),t._uU(461,"Property Name "),t.TgZ(462,"span",67),t._UZ(463,"i",68),t.qZA()(),t.TgZ(464,"div",107)(465,"div"),t._uU(466,"Key"),t.qZA(),t.TgZ(467,"div"),t._uU(468,"Value"),t.qZA(),t.TgZ(469,"div")(470,"a",108),t._UZ(471,"i",77),t.qZA()()()()()(),t.TgZ(472,"div",109)(473,"div",110),t._UZ(474,"input",111)(475,"input",112),t.TgZ(476,"div")(477,"a",113),t._UZ(478,"i",114),t.qZA()()(),t._UZ(479,"div",115),t.qZA()()(),t.TgZ(480,"div",116)(481,"div",49)(482,"div",3)(483,"div",50)(484,"div",8)(485,"label"),t._uU(486,"This component should Display "),t.TgZ(487,"span",67),t._UZ(488,"i",68),t.qZA()(),t.TgZ(489,"select",52)(490,"option"),t._uU(491,"Property Name"),t.qZA()()()(),t.TgZ(492,"div",50)(493,"div",8)(494,"label"),t._uU(495,"When the form component "),t.TgZ(496,"span",67),t._UZ(497,"i",68),t.qZA()(),t.TgZ(498,"select",52)(499,"option"),t._uU(500,"Field Tags"),t.qZA()()()(),t.TgZ(501,"div",50)(502,"div",8)(503,"label"),t._uU(504,"Has the value"),t.qZA(),t._UZ(505,"input",117),t.qZA()()(),t.TgZ(506,"div",3)(507,"div",7)(508,"div",8),t._UZ(509,"input",118),t.TgZ(510,"span",90),t._UZ(511,"i",91),t.qZA()()()()()(),t.TgZ(512,"div",119)(513,"div",49)(514,"div",120)(515,"div",121)(516,"div",8)(517,"label"),t._uU(518,"Advanced Logic "),t.TgZ(519,"span",67),t._UZ(520,"i",68),t.qZA()(),t._UZ(521,"input",122),t.qZA()(),t.TgZ(522,"div",123)(523,"div",8)(524,"label"),t._uU(525,"\xa0"),t.qZA(),t.TgZ(526,"a",124),t._UZ(527,"i",77),t._uU(528," Add Logic"),t.qZA()()()(),t.TgZ(529,"div",125)(530,"div",3)(531,"div",50)(532,"div",8)(533,"label"),t._uU(534,"Logic Name"),t.qZA(),t._UZ(535,"input",126),t.qZA()(),t.TgZ(536,"div",50)(537,"div",8)(538,"label"),t._uU(539,"Type"),t.qZA(),t.TgZ(540,"select",52)(541,"option"),t._uU(542,"Type"),t.qZA()()()()(),t.TgZ(543,"div",127)(544,"div",128)(545,"div",8)(546,"h4",129),t._uU(547,"Actions: "),t.TgZ(548,"span"),t._uU(549,"0 Actions"),t.qZA()()()(),t.TgZ(550,"div",130)(551,"div",8)(552,"a",124),t._UZ(553,"i",77),t._uU(554," Add Actions"),t.qZA()()()(),t.TgZ(555,"div",8)(556,"div",131)(557,"div",132)(558,"label"),t._uU(559,"Action Name"),t.qZA(),t._UZ(560,"input",133),t.qZA(),t.TgZ(561,"div",132)(562,"label"),t._uU(563,"Type"),t.qZA(),t.TgZ(564,"select",52)(565,"option"),t._uU(566,"Type"),t.qZA()()(),t.TgZ(567,"div")(568,"label"),t._uU(569,"\xa0"),t.qZA(),t.TgZ(570,"a",113),t._UZ(571,"i",114),t.qZA()()()(),t.TgZ(572,"div",134)(573,"button",135),t._uU(574,"Cancel"),t.qZA(),t.TgZ(575,"button",136),t._uU(576,"Save"),t.qZA()()()()(),t.TgZ(577,"div",137)(578,"div",49)(579,"div",3)(580,"div",7)(581,"div",8)(582,"label"),t._uU(583,"HTML Attributes "),t.TgZ(584,"span",67),t._UZ(585,"i",68),t.qZA()(),t.TgZ(586,"div",107)(587,"div"),t._uU(588,"Attribute Name"),t.qZA(),t.TgZ(589,"div"),t._uU(590,"Attribute Value"),t.qZA(),t.TgZ(591,"div")(592,"a",108),t._UZ(593,"i",77),t.qZA()()()()()(),t.TgZ(594,"div",109)(595,"div",110),t._UZ(596,"input",111)(597,"input",112),t.TgZ(598,"div")(599,"a",113),t._UZ(600,"i",114),t.qZA()()(),t._UZ(601,"div",115),t.qZA(),t.TgZ(602,"div",3)(603,"div",7)(604,"div",8),t._UZ(605,"input",138),t.TgZ(606,"span",90),t._UZ(607,"i",91),t.qZA()()()()()(),t.TgZ(608,"div",139)(609,"div",49)(610,"div",3)(611,"div",50)(612,"div",8)(613,"label"),t._uU(614,"Measurement "),t.TgZ(615,"span",67),t._UZ(616,"i",68),t.qZA()(),t.TgZ(617,"select",52)(618,"option"),t._uU(619,"Property Name"),t.qZA()()()(),t.TgZ(620,"div",50)(621,"div",8)(622,"label"),t._uU(623,"Measurement "),t.TgZ(624,"span",67),t._UZ(625,"i",68),t.qZA()(),t.TgZ(626,"select",52)(627,"option"),t._uU(628,"Field Tags"),t.qZA()()()()()()()()(),t.TgZ(629,"div",140)(630,"button",135),t._uU(631,"Cancel"),t.qZA(),t.TgZ(632,"a",141),t._uU(633,"Save"),t.qZA()()()()()()())}const B=function(o){return{"is-invalid":o}},Ct=function(o){return{"fa-spin fa-spinner":o}};let ho=(()=>{class o{constructor(e,i,n,r,s){this._FB=e,this._notifier=i,this._PS=n,this._CS=r,this.router=s,this.fields=["textfield","textarea","number","password","checkbox","selectboxes","select","radio","button"],this.refreshForm=new t.vpe,this.options={noDefaultSubmitButton:!0,builder:{advanced:!1,search:!1,data:!1,layout:!1,premium:!1,basic:{weight:-10,title:"Basic",default:!0,components:{"custom-textfield":!0,"custom-textarea":!0,"custom-number":!0,"custom-password":!0,"custom-radio":!0,"custom-select":!0,"custom-selectboxes":!0,textfield:!1,textarea:!1,number:!1,radio:!1,select:!1,selectboxes:!1,password:!1,button:!1,panel:!0,columns:!0}}},editForm:{}},this.submitted=!1,this.isLoading=!1,this.isLoadingSave=!1,this.categories=[],this.configList=[],this.subCategories=[],this.tags=[],this.form={components:[]}}ngOnInit(){this.getCategoryList(),this.getAppConfigByKey(),this.initAddProductForm()}initAddProductForm(){this.productForm=this._FB.group({categoryId:["",l.kI.required],subCategoryId:["",l.kI.required],productName:["",l.kI.required],productImg:["",l.kI.required],avaTaxCode:["",l.kI.required],hsnCode:["",l.kI.required]})}get productFormControls(){return this.productForm.controls}fileValue(e){var i=e.target.value,n=i.split(".").pop();if("jpg"==n||"svg"==n||"jpeg"==n||"png"==n||"gif"==n){const r=new FormData;r.append("image",e.target.files[0]),this.isLoading=!0,this._CS.uploadImage(r).subscribe(s=>{if(s.meta.status){var c=i.replace(/^.*[\\\/]/,"").split(".").slice(0,-1).join(".");document.getElementById("filename").innerHTML=c,this.productForm.get("productImg")?.setValue([s.data]),this.isLoading=!1,this._notifier.showSuccess(s.meta.msg,"Success")}else this.isLoading=!1,this._notifier.showWarning(s.meta.msg,"")},s=>{this.isLoading=!1})}else alert("File not supported. Kindly Upload the Image of below given extension ")}getCategoryList(){this._PS.getCategoryList("ROOT","ACTIVE","",void 0,void 0).subscribe(e=>{e.meta.status?this.categories=e.data:(this.categories=[],this._notifier.showWarning(e.meta.msg,""))},e=>{})}getAppConfigByKey(){this._PS.getAppConfigByKey("MEASUREMENT_FORM_MODULE").subscribe(e=>{if(e.meta.status){this.configList=e.data;let i=this.configList.value.split("|").map(n=>({value:(n=n.trim()).toLowerCase(),label:n}));this.options.editForm={...this.hideTabs(i)}}else this.configList=[],this._notifier.showWarning(e.meta.msg,"")},e=>{})}changeCategory(e){this.getSubCategoryList(e.target.value)}getSubCategoryList(e){this._PS.getSubCategoryList("PARENT","ACTIVE","",e,void 0,void 0).subscribe(i=>{i.meta.status?this.subCategories=i.data:(this.subCategories=[],this._notifier.showWarning(i.meta.msg,""))},i=>{})}onChange(e){this.refreshForm.emit({property:"form",value:e.form})}hideTabs(e){let i={};return this.fields.map(n=>{i[n]=[{key:"logic",ignore:!0},{key:"layout",ignore:!0},{key:"display",components:[{key:"inputMask",ignore:!0},{key:"displayMask",ignore:!0},{key:"applyMaskOn",ignore:!0},{key:"allowMultipleMasks",ignore:!0}]}]}),i}addProductWithForm(){if(this.productForm.valid){let e={...this.productForm.value,productForm:this.form.components.length?this.form.components:[]};this.isLoadingSave=!0,this._PS.addProduct(e).subscribe(i=>{i.meta.status?(this.isLoadingSave=!1,this.router.navigate(["/products-master/products"]),this._notifier.showSuccess(i.meta.msg,"Success")):(this.isLoadingSave=!1,this._notifier.showError(i.meta.msg,""))},i=>{this.isLoadingSave=!1})}else this.submitted=!0}onItemAdded(e){let i=this.tags.map(n=>n.value);this.productForm.get("tags")?.setValue(i)}onItemRemoved(e){let i=this.tags.map(n=>n.value);this.productForm.get("tags")?.setValue(i)}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(l.qu),t.Y36(q.l),t.Y36(C.M),t.Y36(U.v),t.Y36(p.F0))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-product-type"]],decls:78,vars:34,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between"],[1,"account_dashboard","profile_dashboard"],[1,"row"],[1,"col-12","col-sm-4","col-md-3","col-lg-3"],[1,"login-white-box"],[1,"pop-form-box","form-box","category_tab","mt-4",3,"formGroup"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"form-group"],["formControlName","categoryId",1,"form-control","form-ctrl",3,"ngClass","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","subCategoryId",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Product","formControlName","productName",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","avaTaxCode","formControlName","avaTaxCode",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","hsnCode","formControlName","hsnCode",1,"form-control","form-ctrl",3,"ngClass"],[1,"file-form-control"],[1,"upload-doc-item"],[1,"image-upload"],["type","file","name","","accept","image/*","id","logo",3,"disabled","change"],["for","logo","id","file-label",1,"upload-field"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/mc.png","alt",""],["id","filename"],[1,"Upload-btn","btn","btn-success"],[1,"fa",3,"ngClass"],["style","display: block;","class","invalid-feedback",4,"ngIf"],[1,"col-12","col-sm-8","col-md-9","col-lg-9"],[1,"main_editor"],["class","classic_editor",4,"ngIf"],[1,"col-lg-12"],[1,"text-end","main_btn","mt-5"],["type","button",1,"btn","btn-success","ms-2",3,"disabled","click"],["class","modal fade","id","textFieldModal",4,"ngIf"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[1,"invalid-feedback",2,"display","block"],[1,"classic_editor"],[3,"form","options","change"],["id","textFieldModal",1,"modal","fade"],[1,"modal-dialog","modal-xl","sample-popup-form"],[1,"modal-content"],[1,"modal-body"],[1,"d-flex","justify-content-between","mb-3"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"pop-form-box","form-box"],[1,"greyBox"],[1,"form-box","mt-3"],[1,"col-12","col-sm-12","col-md-6","col-lg-6"],[1,"form-group","mb-0"],[1,"form-control","form-ctrl","greenborder"],[1,"greyBox","mt-4"],[1,"nav","nav-pills","nav-justified","tabsBlue"],[1,"nav-item"],["data-bs-toggle","tab","aria-current","page","href","#Display",1,"nav-link","active"],["data-bs-toggle","tab","href","#Data",1,"nav-link"],["data-bs-toggle","tab","href","#Validation",1,"nav-link"],["data-bs-toggle","tab","href","#api",1,"nav-link"],["data-bs-toggle","tab","href","#Conditional",1,"nav-link"],["data-bs-toggle","tab","href","#Logic",1,"nav-link"],["data-bs-toggle","tab","href","#Layout",1,"nav-link"],["data-bs-toggle","tab","href","#uom",1,"nav-link"],["id","myTabContent",1,"tab-content"],["id","Display","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","active","show"],[1,"col-6","col-sm-6","col-md-6","col-lg-6"],[1,"inventoryBadge"],["title","Information",1,"bi","bi-info-circle-fill"],["type","text","placeholder","Text Field",1,"form-control","form-ctrl","greenborder"],[1,"d-flex","descriptionBoxMain"],[1,"descriptionBox1"],["type","text","placeholder","1",1,"form-control","form-ctrl","greenborder"],[1,"descriptionBox2"],["type","text","placeholder","Description",1,"form-control","form-ctrl","greenborder"],[1,"delete_add","descriptionBox3"],["href","#",1,"add"],[1,"bi","bi-plus-lg"],["type","text","placeholder","Prefix",1,"form-control","form-ctrl","greenborder"],["type","text","placeholder","Suffix",1,"form-control","form-ctrl","greenborder"],["type","text","placeholder","Input Field",1,"form-control","form-ctrl","greenborder"],[1,"checkboxList"],[1,"form-check"],["type","checkbox","value","","id","invalidCheck","required","",1,"form-check-input"],[1,"formSmallText"],["id","Data","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade"],[1,"checkboxList","mt-2"],[1,"form-check","form-check-inline"],[1,"form-check","form-check-inline","ms-4"],["type","text","placeholder","Custom Default value",1,"form-control","form-ctrl","greenborder"],[1,"plusIcon"],[1,"bi","bi-plus"],["id","Validation","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade"],[1,"col-12","col-sm-6","col-md-6","col-lg-6"],["type","text","placeholder","Minimum Length",1,"form-control","form-ctrl","greenborder"],["type","text","placeholder","Maximum Length",1,"form-control","form-ctrl","greenborder"],["type","text","placeholder","Minimum Word Length",1,"form-control","form-ctrl","greenborder"],["type","text","placeholder","Maximum Word Length",1,"form-control","form-ctrl","greenborder"],["type","text","placeholder","Regular Expression Pattern",1,"form-control","form-ctrl","greenborder"],["type","text","placeholder","Error Label",1,"form-control","form-ctrl","greenborder"],["type","text","placeholder","Custom Error Message",1,"form-control","form-ctrl","greenborder"],["type","text","placeholder","Custom validation",1,"form-control","form-ctrl","greenborder"],["type","text","placeholder","JSONLogic Validation",1,"form-control","form-ctrl","greenborder"],["type","text","placeholder","Custom Errors",1,"form-control","form-ctrl","greenborder"],["id","api","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade"],["type","text","placeholder","Property Name",1,"form-control","form-ctrl","greenborder"],["type","text","placeholder","Field Tags",1,"form-control","form-ctrl","greenborder"],[1,"propertyNameBox"],["href","#",1,"addMore","add-property"],["role","alert",1,"addMorePropertyBox","alert","alert-light","alert-dismissible"],[1,"addProperyName","form-group"],["type","text","placeholder","Key",1,"form-control","form-ctrl","greenborder"],["type","text","placeholder","Value",1,"form-control","form-ctrl","greenborder"],["href","#",1,"deletProperty"],[1,"fa","fa-trash-o"],[1,"addProperyName-add"],["id","Conditional","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade"],["type","text","placeholder","Has the value",1,"form-control","form-ctrl","greenborder"],["type","text","placeholder","Advanced Conditions",1,"form-control","form-ctrl","greenborder"],["id","Logic","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade"],[1,"row","justify-content-between","align-items-end"],[1,"col-8","col-sm-7","col-md-6","col-lg-6"],["type","text","placeholder","0 Advanced Logic Configured",1,"form-control","form-ctrl","greenborder"],[1,"col-4","col-sm-4","col-md-2","col-lg-2","ps-0"],["href","#",1,"btn","btn-success","btn-block"],[1,"formBoxWhite"],["type","text","placeholder","Logic Name",1,"form-control","form-ctrl","greenborder"],[1,"row","justify-content-between","align-items-center"],[1,"col-7","col-sm-8","col-md-6","col-lg-6"],[1,"m-0"],[1,"col-5","col-sm-4","col-md-2","col-lg-2","ps-0"],[1,"addProperyName"],[1,"width100"],["type","text","placeholder","Action Name",1,"form-control","form-ctrl","greenborder"],[1,"text-end","main_btn","mt-3"],["type","button",1,"btn","btn-light"],["type","button",1,"btn","btn-success","ms-2"],["id","Layout","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade"],["type","text","placeholder","PDF Overlay",1,"form-control","form-ctrl","greenborder"],["id","uom","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade"],[1,"text-end","main_btn","mt-4"],["href","add-product-type-2-edit.php",1,"btn","btn-success","ms-2"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t._uU(3,"Add Product"),t.qZA()(),t.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"h6"),t._uU(9,"Add Products"),t.qZA(),t.TgZ(10,"div",6)(11,"div",3)(12,"div",7)(13,"div",8)(14,"label"),t._uU(15,"Category"),t.qZA(),t.TgZ(16,"select",9),t.NdJ("change",function(s){return n.changeCategory(s)}),t.TgZ(17,"option",10),t._uU(18,"Select"),t.qZA(),t.YNc(19,Xe,2,2,"option",11),t.qZA(),t.YNc(20,eo,2,1,"div",12),t.qZA()(),t.TgZ(21,"div",7)(22,"div",8)(23,"label"),t._uU(24,"Sub Category"),t.qZA(),t.TgZ(25,"select",13)(26,"option",10),t._uU(27,"Select"),t.qZA(),t.YNc(28,oo,2,2,"option",11),t.qZA(),t.YNc(29,io,2,1,"div",12),t.qZA()()(),t.TgZ(30,"div",3)(31,"div",7)(32,"div",8)(33,"label"),t._uU(34,"Product"),t.qZA(),t._UZ(35,"input",14),t.YNc(36,ao,2,1,"div",12),t.qZA()(),t.TgZ(37,"div",7)(38,"div",8)(39,"label"),t._uU(40,"Ava Tax Code "),t.qZA(),t._UZ(41,"input",15),t.YNc(42,lo,2,1,"div",12),t.qZA()(),t.TgZ(43,"div",3)(44,"div",7)(45,"div",8)(46,"label"),t._uU(47,"HSN Code "),t.qZA(),t._UZ(48,"input",16),t.YNc(49,uo,2,1,"div",12),t.qZA()(),t.TgZ(50,"div",7)(51,"div",8)(52,"label"),t._uU(53,"Upload Image"),t.qZA(),t.TgZ(54,"div",17)(55,"div",18)(56,"div",19)(57,"input",20),t.NdJ("change",function(s){return n.fileValue(s)}),t.qZA(),t.TgZ(58,"label",21)(59,"div",22),t._UZ(60,"img",23),t.TgZ(61,"h6",24),t._uU(62,"Select Image"),t.qZA(),t.TgZ(63,"div",25),t._UZ(64,"i",26),t._uU(65," Upload "),t.qZA()()(),t.YNc(66,go,2,1,"div",27),t.qZA()()()()()()(),t._UZ(67,"div",3),t.qZA()()(),t.TgZ(68,"div",28)(69,"div",29)(70,"div",5),t.YNc(71,mo,4,2,"div",30),t.qZA()()(),t.TgZ(72,"div",31)(73,"div",32)(74,"button",33),t.NdJ("click",function(){return n.addProductWithForm()}),t._UZ(75,"i",26),t._uU(76," Submit "),t.qZA()()()()()(),t.YNc(77,_o,634,0,"div",34)),2&i&&(t.xp6(10),t.Q6J("formGroup",n.productForm),t.xp6(6),t.Q6J("ngClass",t.VKq(20,B,n.submitted&&n.productFormControls.categoryId.errors)),t.xp6(3),t.Q6J("ngForOf",n.categories),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.productFormControls.categoryId.errors),t.xp6(5),t.Q6J("ngClass",t.VKq(22,B,n.submitted&&n.productFormControls.subCategoryId.errors)),t.xp6(3),t.Q6J("ngForOf",n.subCategories),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.productFormControls.subCategoryId.errors),t.xp6(6),t.Q6J("ngClass",t.VKq(24,B,n.submitted&&n.productFormControls.productName.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.productFormControls.productName.errors),t.xp6(5),t.Q6J("ngClass",t.VKq(26,B,n.submitted&&n.productFormControls.avaTaxCode.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.productFormControls.avaTaxCode.errors),t.xp6(6),t.Q6J("ngClass",t.VKq(28,B,n.submitted&&n.productFormControls.hsnCode.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.productFormControls.hsnCode.errors),t.xp6(8),t.Q6J("disabled",n.isLoading),t.xp6(7),t.Q6J("ngClass",t.VKq(30,Ct,n.isLoading)),t.xp6(2),t.Q6J("ngIf",n.submitted&&n.productFormControls.productImg.errors),t.xp6(5),t.Q6J("ngIf",n.options.editForm&&n.options.editForm.button),t.xp6(3),t.Q6J("disabled",n.isLoadingSave),t.xp6(1),t.Q6J("ngClass",t.VKq(32,Ct,n.isLoadingSave)),t.xp6(2),t.Q6J("ngIf",!1))},dependencies:[d.mk,d.sg,d.O5,v.hd,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u]})}return o})(),fo=(()=>{class o{fileValue(e){var i=e.target.value,n=i.split(".").pop();if("jpg"==n||"svg"==n||"jpeg"==n||"png"==n||"gif"==n){var r=i.replace(/^.*[\\\/]/,"").split(".").slice(0,-1).join(".");document.getElementById("filename").innerHTML=r}else alert("File not supported. Kindly Upload the Image of below given extension ")}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-select-category"]],decls:575,vars:0,consts:[[1,"dashboardMain"],[1,"wz-wrapper","wizzy"],[1,"wz-inner"],[1,"wz-header"],["href","#",1,"active"],["href","#"],[1,"bi","bi-check2"],["href","#",1,"last-step"],[1,"progress",2,"width","283px"],[1,"wz-body"],["action","#"],[1,"wz-step","active"],[1,"title","text-center"],[1,"form-box","form-filter"],[1,"row","justify-content-between"],[1,"col-12","col-sm-4","col-md-3","col-lg-3"],[1,"searchgroup","form-group"],["type","text","placeholder","Search",1,"form-control","form-ctrl"],["type","button",1,"btn","btn-link"],["src","assets/images/search-icon.png"],[1,"d-flex","flex-wrap","text-center","list-inline","ulfive-row"],[1,"add-product-item"],[1,"product-icon"],["src","assets/images/product-icon0.png","alt",""],["src","assets/images/product-icon1.png","alt",""],["src","assets/images/product-icon2.png","alt",""],["src","assets/images/product-icon3.png","alt",""],["src","assets/images/product-icon4.png","alt",""],["src","assets/images/product-icon5.png","alt",""],["src","assets/images/product-icon6.png","alt",""],["src","assets/images/product-icon7.png","alt",""],["src","assets/images/product-icon8.png","alt",""],["src","assets/images/product-icon9.png","alt",""],["src","assets/images/product-icon10.png","alt",""],[1,"wz-navigator"],["type","submit","data-action","next",1,"btn","btn-success"],[1,"wz-step"],[1,"col-6","col-sm-4","col-md-3","col-lg-3"],[1,"form-group"],[1,"form-control","form-ctrl"],[1,"account_dashboard"],[1,"row","form-box","justify-content-center"],[1,"col-12","col-sm-12","col-md-10","col-lg-10"],[1,"fw500"],[1,"row","mb-4"],[1,"col-12","col-sm-6","col-md-4","col-lg-4"],[1,"checkbox-btns-list-equal-w","d-flex","justify-content-between","w100"],[1,"checkbox-btns"],["type","radio","name","optradio","id","option1","autocomplete","off","checked","",1,"btn-check"],["for","option1",1,"btn-outline-primary"],["type","radio","name","optradio","id","option2","autocomplete","off",1,"btn-check"],["for","option2",1,"btn-outline-primary"],["type","text","placeholder","30",1,"form-control","form-ctrl"],["type","radio","name","optradio1","id","option3","autocomplete","off","checked","",1,"btn-check"],["for","option3",1,"btn-outline-primary"],["type","radio","name","optradio1","id","option4","autocomplete","off",1,"btn-check"],["for","option4",1,"btn-outline-primary"],[1,"row"],[1,"col-12","col-sm-6","col-md-6","col-lg-6"],[1,"text-success"],["type","text","placeholder","within Acceptable Quality Limit (LSD)",1,"form-control","form-ctrl"],[1,"form-box"],[1,"row","rowNplus"],[1,"col-12","col-sm-6","col-md-3","col-lg-3","brd-rgt"],[1,"inventoryBadge"],["title","Information",1,"bi","bi-info-circle-fill"],[1,"d-flex"],[1,"upload-doc-item","Upload-plus"],[1,"image-upload"],["type","file","name","","id","productImg",1,"custom-file-upload-hidden",2,"position","absolute","left","-9999px",3,"change"],[1,"file-upload-wrapper"],["for","logo","id","file-label",1,"upload-field"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/upload-icon.png","alt",""],["id","filename"],[1,"d-flex","flex-wrap"],[1,"form-check-inline","text-center"],["role","alert",1,"alert-photo","alert","alert-warning","alert-dismissible","fade","show"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],[1,"alert-photo-img"],["src","assets/images/product-img0.png"],["src","assets/images/product-img1.png"],["type","file","name","","id","artwork",3,"change"],["src","assets/images/cdr.png"],["src","assets/images/illustrator.png"],[1,"col-12","col-sm-6","col-md-3","col-lg-3"],["type","file","name","","id","additionalAttach",3,"change"],["src","assets/images/pdf.png"],["src","assets/images/xls.png"],["src","assets/images/excel.png"],["type","file","name","","id","resellerCerti","onchange","fileValue(this)"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"nav")(5,"a",4)(6,"span")(7,"span"),t._UZ(8,"em"),t._uU(9," Select Category"),t.qZA()()(),t.TgZ(10,"a",5)(11,"span")(12,"span")(13,"em"),t._UZ(14,"i",6),t.qZA(),t._uU(15," Select Sub Catgeory"),t.qZA()()(),t.TgZ(16,"a",5)(17,"span")(18,"span")(19,"em"),t._UZ(20,"i",6),t.qZA(),t._uU(21," Select Product"),t.qZA()()(),t.TgZ(22,"a",7)(23,"span")(24,"span")(25,"em"),t._UZ(26,"i",6),t.qZA(),t._uU(27," Product Tolerances"),t.qZA()()(),t._UZ(28,"div",8)(29,"div",8),t.qZA()(),t.TgZ(30,"div",9)(31,"form",10)(32,"div",11)(33,"div",12)(34,"h3"),t._uU(35,"Select Category"),t.qZA()(),t.TgZ(36,"div",13)(37,"div",14)(38,"div",15)(39,"div",16),t._UZ(40,"input",17),t.TgZ(41,"button",18),t._UZ(42,"img",19),t.qZA()()()()(),t.TgZ(43,"ul",20)(44,"li")(45,"div",21)(46,"div",22),t._UZ(47,"img",23),t.qZA(),t.TgZ(48,"h5"),t._uU(49,"Bagasse Plates"),t.qZA()()(),t.TgZ(50,"li")(51,"div",21)(52,"div",22),t._UZ(53,"img",24),t.qZA(),t.TgZ(54,"h5"),t._uU(55,"Laminated Rolls"),t.qZA()()(),t.TgZ(56,"li")(57,"div",21)(58,"div",22),t._UZ(59,"img",25),t.qZA(),t.TgZ(60,"h5"),t._uU(61,"Pillow Pouches"),t.qZA()()(),t.TgZ(62,"li")(63,"div",21)(64,"div",22),t._UZ(65,"img",26),t.qZA(),t.TgZ(66,"h5"),t._uU(67,"Non Padded Paper mailers"),t.qZA()()(),t.TgZ(68,"li")(69,"div",21)(70,"div",22),t._UZ(71,"img",27),t.qZA(),t.TgZ(72,"h5"),t._uU(73,"Padded Paper Mailers"),t.qZA()()(),t.TgZ(74,"li")(75,"div",21)(76,"div",22),t._UZ(77,"img",28),t.qZA(),t.TgZ(78,"h5"),t._uU(79,"Plastic Containers"),t.qZA()()(),t.TgZ(80,"li")(81,"div",21)(82,"div",22),t._UZ(83,"img",29),t.qZA(),t.TgZ(84,"h5"),t._uU(85,"Merchandise Paper Bags"),t.qZA()()(),t.TgZ(86,"li")(87,"div",21)(88,"div",22),t._UZ(89,"img",30),t.qZA(),t.TgZ(90,"h5"),t._uU(91,"D-Cut Paper bags"),t.qZA()()(),t.TgZ(92,"li")(93,"div",21)(94,"div",22),t._UZ(95,"img",31),t.qZA(),t.TgZ(96,"h5"),t._uU(97,"Luxury Paper Bags"),t.qZA()()(),t.TgZ(98,"li")(99,"div",21)(100,"div",22),t._UZ(101,"img",32),t.qZA(),t.TgZ(102,"h5"),t._uU(103,"SOS Paper Bags"),t.qZA()()(),t.TgZ(104,"li")(105,"div",21)(106,"div",22),t._UZ(107,"img",30),t.qZA(),t.TgZ(108,"h5"),t._uU(109,"V Bottom Paper Bags"),t.qZA()()(),t.TgZ(110,"li")(111,"div",21)(112,"div",22),t._UZ(113,"img",33),t.qZA(),t.TgZ(114,"h5"),t._uU(115,"J Cut Paper Bags"),t.qZA()()()(),t.TgZ(116,"div",34)(117,"button",35),t._uU(118,"Next"),t.qZA()()(),t.TgZ(119,"div",36)(120,"div",12)(121,"h3"),t._uU(122,"Create Product"),t.qZA(),t.TgZ(123,"p"),t._uU(124,"Select Sub Category"),t.qZA()(),t.TgZ(125,"div",13)(126,"div",14)(127,"div",15)(128,"div",16),t._UZ(129,"input",17),t.TgZ(130,"button",18),t._UZ(131,"img",19),t.qZA()()(),t.TgZ(132,"div",37)(133,"div",38)(134,"select",39)(135,"option"),t._uU(136,"SOIC PVT LTD"),t.qZA(),t.TgZ(137,"option"),t._uU(138,"Select"),t.qZA()()()()()(),t.TgZ(139,"ul",20)(140,"li")(141,"div",21)(142,"div",22),t._UZ(143,"img",23),t.qZA(),t.TgZ(144,"h5"),t._uU(145,"Bagasse Plates"),t.qZA()()(),t.TgZ(146,"li")(147,"div",21)(148,"div",22),t._UZ(149,"img",24),t.qZA(),t.TgZ(150,"h5"),t._uU(151,"Laminated Rolls"),t.qZA()()(),t.TgZ(152,"li")(153,"div",21)(154,"div",22),t._UZ(155,"img",25),t.qZA(),t.TgZ(156,"h5"),t._uU(157,"Pillow Pouches"),t.qZA()()(),t.TgZ(158,"li")(159,"div",21)(160,"div",22),t._UZ(161,"img",26),t.qZA(),t.TgZ(162,"h5"),t._uU(163,"Non Padded Paper mailers"),t.qZA()()(),t.TgZ(164,"li")(165,"div",21)(166,"div",22),t._UZ(167,"img",27),t.qZA(),t.TgZ(168,"h5"),t._uU(169,"Padded Paper Mailers"),t.qZA()()(),t.TgZ(170,"li")(171,"div",21)(172,"div",22),t._UZ(173,"img",28),t.qZA(),t.TgZ(174,"h5"),t._uU(175,"Plastic Containers"),t.qZA()()(),t.TgZ(176,"li")(177,"div",21)(178,"div",22),t._UZ(179,"img",29),t.qZA(),t.TgZ(180,"h5"),t._uU(181,"Merchandise Paper Bags"),t.qZA()()(),t.TgZ(182,"li")(183,"div",21)(184,"div",22),t._UZ(185,"img",30),t.qZA(),t.TgZ(186,"h5"),t._uU(187,"D-Cut Paper bags"),t.qZA()()(),t.TgZ(188,"li")(189,"div",21)(190,"div",22),t._UZ(191,"img",31),t.qZA(),t.TgZ(192,"h5"),t._uU(193,"Luxury Paper Bags"),t.qZA()()(),t.TgZ(194,"li")(195,"div",21)(196,"div",22),t._UZ(197,"img",32),t.qZA(),t.TgZ(198,"h5"),t._uU(199,"SOS Paper Bags"),t.qZA()()(),t.TgZ(200,"li")(201,"div",21)(202,"div",22),t._UZ(203,"img",30),t.qZA(),t.TgZ(204,"h5"),t._uU(205,"V Bottom Paper Bags"),t.qZA()()(),t.TgZ(206,"li")(207,"div",21)(208,"div",22),t._UZ(209,"img",33),t.qZA(),t.TgZ(210,"h5"),t._uU(211,"J Cut Paper Bags"),t.qZA()()()(),t.TgZ(212,"div",34)(213,"button",35),t._uU(214,"Next"),t.qZA()()(),t.TgZ(215,"div",36)(216,"div",12)(217,"h3"),t._uU(218,"Create Product"),t.qZA(),t.TgZ(219,"p"),t._uU(220,"Select Product"),t.qZA()(),t.TgZ(221,"div",13)(222,"div",14)(223,"div",15)(224,"div",16),t._UZ(225,"input",17),t.TgZ(226,"button",18),t._UZ(227,"img",19),t.qZA()()(),t.TgZ(228,"div",37)(229,"div",38)(230,"select",39)(231,"option"),t._uU(232,"SOIC PVT LTD"),t.qZA(),t.TgZ(233,"option"),t._uU(234,"Select"),t.qZA()()()()()(),t.TgZ(235,"ul",20)(236,"li")(237,"div",21)(238,"div",22),t._UZ(239,"img",23),t.qZA(),t.TgZ(240,"h5"),t._uU(241,"Bagasse Plates"),t.qZA()()(),t.TgZ(242,"li")(243,"div",21)(244,"div",22),t._UZ(245,"img",24),t.qZA(),t.TgZ(246,"h5"),t._uU(247,"Laminated Rolls"),t.qZA()()(),t.TgZ(248,"li")(249,"div",21)(250,"div",22),t._UZ(251,"img",25),t.qZA(),t.TgZ(252,"h5"),t._uU(253,"Pillow Pouches"),t.qZA()()(),t.TgZ(254,"li")(255,"div",21)(256,"div",22),t._UZ(257,"img",26),t.qZA(),t.TgZ(258,"h5"),t._uU(259,"Non Padded Paper mailers"),t.qZA()()(),t.TgZ(260,"li")(261,"div",21)(262,"div",22),t._UZ(263,"img",27),t.qZA(),t.TgZ(264,"h5"),t._uU(265,"Padded Paper Mailers"),t.qZA()()(),t.TgZ(266,"li")(267,"div",21)(268,"div",22),t._UZ(269,"img",28),t.qZA(),t.TgZ(270,"h5"),t._uU(271,"Plastic Containers"),t.qZA()()(),t.TgZ(272,"li")(273,"div",21)(274,"div",22),t._UZ(275,"img",29),t.qZA(),t.TgZ(276,"h5"),t._uU(277,"Merchandise Paper Bags"),t.qZA()()(),t.TgZ(278,"li")(279,"div",21)(280,"div",22),t._UZ(281,"img",30),t.qZA(),t.TgZ(282,"h5"),t._uU(283,"D-Cut Paper bags"),t.qZA()()(),t.TgZ(284,"li")(285,"div",21)(286,"div",22),t._UZ(287,"img",31),t.qZA(),t.TgZ(288,"h5"),t._uU(289,"Luxury Paper Bags"),t.qZA()()(),t.TgZ(290,"li")(291,"div",21)(292,"div",22),t._UZ(293,"img",32),t.qZA(),t.TgZ(294,"h5"),t._uU(295,"SOS Paper Bags"),t.qZA()()(),t.TgZ(296,"li")(297,"div",21)(298,"div",22),t._UZ(299,"img",30),t.qZA(),t.TgZ(300,"h5"),t._uU(301,"V Bottom Paper Bags"),t.qZA()()(),t.TgZ(302,"li")(303,"div",21)(304,"div",22),t._UZ(305,"img",33),t.qZA(),t.TgZ(306,"h5"),t._uU(307,"J Cut Paper Bags"),t.qZA()()()(),t.TgZ(308,"div",34)(309,"button",35),t._uU(310,"Next"),t.qZA()()(),t.TgZ(311,"div",36)(312,"div",12)(313,"h3"),t._uU(314,"Create Product"),t.qZA(),t.TgZ(315,"p"),t._uU(316,"Enter Product Details"),t.qZA()(),t.TgZ(317,"div",40)(318,"div",41)(319,"div",42)(320,"h3",43),t._uU(321,"Dimensionality:"),t.qZA(),t.TgZ(322,"div",44)(323,"div",45)(324,"div",38)(325,"label"),t._uU(326,"Choose"),t.qZA(),t.TgZ(327,"div",46)(328,"div",47),t._UZ(329,"input",48),t.TgZ(330,"label",49),t._uU(331,"Percentage"),t.qZA()(),t.TgZ(332,"div",47),t._UZ(333,"input",50),t.TgZ(334,"label",51),t._uU(335,"Absolute"),t.qZA()()()()(),t.TgZ(336,"div",45)(337,"div",38)(338,"label"),t._uU(339,"Lower Limit"),t.qZA(),t._UZ(340,"input",52),t.qZA()(),t.TgZ(341,"div",45)(342,"div",38)(343,"label"),t._uU(344,"Upper Limit"),t.qZA(),t._UZ(345,"input",52),t.qZA()()(),t.TgZ(346,"h3",43),t._uU(347,"GSM:"),t.qZA(),t.TgZ(348,"div",44)(349,"div",45)(350,"div",38)(351,"label"),t._uU(352,"Choose"),t.qZA(),t.TgZ(353,"div",46)(354,"div",47),t._UZ(355,"input",53),t.TgZ(356,"label",54),t._uU(357,"Percentage"),t.qZA()(),t.TgZ(358,"div",47),t._UZ(359,"input",55),t.TgZ(360,"label",56),t._uU(361,"Absolute"),t.qZA()()()()(),t.TgZ(362,"div",45)(363,"div",38)(364,"label"),t._uU(365,"Lower Limit"),t.qZA(),t._UZ(366,"input",52),t.qZA()(),t.TgZ(367,"div",45)(368,"div",38)(369,"label"),t._uU(370,"Upper Limit"),t.qZA(),t._UZ(371,"input",52),t.qZA()()(),t.TgZ(372,"div",57)(373,"div",58)(374,"div",38)(375,"label"),t._uU(376,"Printing "),t.TgZ(377,"small",59),t._uU(378,"(in percentage)"),t.qZA()(),t._UZ(379,"input",60),t.qZA()()()()()(),t.TgZ(380,"div",34)(381,"button",35),t._uU(382,"Next"),t.qZA()()(),t.TgZ(383,"div",36)(384,"div",12)(385,"h3"),t._uU(386,"Create Product"),t.qZA(),t.TgZ(387,"p"),t._uU(388,"Add Product Uploads"),t.qZA()(),t.TgZ(389,"div",40)(390,"div",61)(391,"div",62)(392,"div",63)(393,"div",38)(394,"label"),t._uU(395,"Upload Product Images "),t.TgZ(396,"span",64),t._UZ(397,"i",65),t.qZA()(),t.TgZ(398,"div",66)(399,"div",67)(400,"div",68)(401,"input",69),t.NdJ("change",function(s){return n.fileValue(s)}),t.qZA(),t._UZ(402,"div",70),t.TgZ(403,"label",71)(404,"div",72),t._UZ(405,"img",73)(406,"br"),t.TgZ(407,"span"),t._uU(408,"File format jpeg, jpg, png, webp"),t.qZA(),t._UZ(409,"br")(410,"h6",74),t.qZA()()()()()(),t.TgZ(411,"div",38)(412,"div",75)(413,"div",76)(414,"div",77),t._UZ(415,"button",78),t.TgZ(416,"div",79),t._UZ(417,"img",80),t.qZA(),t.TgZ(418,"h6"),t._uU(419,"Artwork.jpeg"),t.qZA()()(),t.TgZ(420,"div",76)(421,"div",77),t._UZ(422,"button",78),t.TgZ(423,"div",79),t._UZ(424,"img",81),t.qZA(),t.TgZ(425,"h6"),t._uU(426,"Artwork.jpeg"),t.qZA()()(),t.TgZ(427,"div",76)(428,"div",77),t._UZ(429,"button",78),t.TgZ(430,"div",79),t._UZ(431,"img",81),t.qZA(),t.TgZ(432,"h6"),t._uU(433,"Artwork.jpeg"),t.qZA()()(),t.TgZ(434,"div",76)(435,"div",77),t._UZ(436,"button",78),t.TgZ(437,"div",79),t._UZ(438,"img",80),t.qZA(),t.TgZ(439,"h6"),t._uU(440,"Artwork.jpeg"),t.qZA()()(),t.TgZ(441,"div",76)(442,"div",77),t._UZ(443,"button",78),t.TgZ(444,"div",79),t._UZ(445,"img",81),t.qZA(),t.TgZ(446,"h6"),t._uU(447,"Artwork.jpeg"),t.qZA()()(),t.TgZ(448,"div",76)(449,"div",77),t._UZ(450,"button",78),t.TgZ(451,"div",79),t._UZ(452,"img",81),t.qZA(),t.TgZ(453,"h6"),t._uU(454,"Artwork.jpeg"),t.qZA()()()()()(),t.TgZ(455,"div",63)(456,"div",38)(457,"label"),t._uU(458,"Artwork "),t.TgZ(459,"span",64),t._UZ(460,"i",65),t.qZA()(),t.TgZ(461,"div",66)(462,"div",67)(463,"div",68)(464,"input",82),t.NdJ("change",function(s){return n.fileValue(s)}),t.qZA(),t.TgZ(465,"label",71)(466,"div",72),t._UZ(467,"img",73)(468,"br"),t.TgZ(469,"span"),t._uU(470,"File format .ai, .cdr, .pdf"),t._UZ(471,"br"),t._uU(472,"Max file size 20 MB"),t.qZA(),t._UZ(473,"h6",74),t.qZA()()()()()(),t.TgZ(474,"div",38)(475,"div",75)(476,"div",76)(477,"div",77),t._UZ(478,"button",78),t.TgZ(479,"div",79),t._UZ(480,"img",83),t.qZA(),t.TgZ(481,"h6"),t._uU(482,"Artwork.cdr"),t.qZA()()(),t.TgZ(483,"div",76)(484,"div",77),t._UZ(485,"button",78),t.TgZ(486,"div",79),t._UZ(487,"img",84),t.qZA(),t.TgZ(488,"h6"),t._uU(489,"Artwork.ai"),t.qZA()()()()()(),t.TgZ(490,"div",85)(491,"div",38)(492,"label"),t._uU(493,"Additional Attachments "),t.TgZ(494,"span",64),t._UZ(495,"i",65),t.qZA()(),t.TgZ(496,"div",66)(497,"div",67)(498,"div",68)(499,"input",86),t.NdJ("change",function(s){return n.fileValue(s)}),t.qZA(),t.TgZ(500,"label",71)(501,"div",72),t._UZ(502,"img",73)(503,"br"),t.TgZ(504,"span"),t._uU(505,"File format .pdf, .xls, .word, .csv"),t.qZA(),t._UZ(506,"br")(507,"h6",74),t.qZA()()()()()(),t.TgZ(508,"div",38)(509,"div",75)(510,"div",76)(511,"div",77),t._UZ(512,"button",78),t.TgZ(513,"div",79),t._UZ(514,"img",87),t.qZA(),t.TgZ(515,"h6"),t._uU(516,"Product.pdf"),t.qZA()()(),t.TgZ(517,"div",76)(518,"div",77),t._UZ(519,"button",78),t.TgZ(520,"div",79),t._UZ(521,"img",88),t.qZA(),t.TgZ(522,"h6"),t._uU(523,"Product.xls"),t.qZA()()(),t.TgZ(524,"div",76)(525,"div",77),t._UZ(526,"button",78),t.TgZ(527,"div",79),t._UZ(528,"img",89),t.qZA(),t.TgZ(529,"h6"),t._uU(530,"Product.word"),t.qZA()()()()()(),t.TgZ(531,"div",85)(532,"div",38)(533,"label"),t._uU(534,"Reseller Certificate "),t.TgZ(535,"span",64),t._UZ(536,"i",65),t.qZA()(),t.TgZ(537,"div",66)(538,"div",67)(539,"div",68),t._UZ(540,"input",90),t.TgZ(541,"label",71)(542,"div",72),t._UZ(543,"img",73)(544,"br"),t.TgZ(545,"span"),t._uU(546,"File format .pdf, .xls, .word, .csv"),t.qZA(),t._UZ(547,"br")(548,"h6",74),t.qZA()()()()()(),t.TgZ(549,"div",38)(550,"div",75)(551,"div",76)(552,"div",77),t._UZ(553,"button",78),t.TgZ(554,"div",79),t._UZ(555,"img",87),t.qZA(),t.TgZ(556,"h6"),t._uU(557,"Product.pdf"),t.qZA()()(),t.TgZ(558,"div",76)(559,"div",77),t._UZ(560,"button",78),t.TgZ(561,"div",79),t._UZ(562,"img",88),t.qZA(),t.TgZ(563,"h6"),t._uU(564,"Product.xls"),t.qZA()()(),t.TgZ(565,"div",76)(566,"div",77),t._UZ(567,"button",78),t.TgZ(568,"div",79),t._UZ(569,"img",89),t.qZA(),t.TgZ(570,"h6"),t._uU(571,"Product.word"),t.qZA()()()()()()()()(),t.TgZ(572,"div",34)(573,"button",35),t._uU(574,"Next"),t.qZA()()()()()()()())},dependencies:[l._Y,l.YN,l.Kr,l.JL,l.F]})}return o})();function bo(o,a){if(1&o&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",e._id),t.xp6(1),t.hij(" ",e.categoryName," ")}}function vo(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Category is required. "),t.qZA())}function Co(o,a){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,vo,2,0,"div",37),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productFormControls.categoryId.errors.required)}}function yo(o,a){if(1&o&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",e._id),t.xp6(1),t.hij(" ",e.categoryName," ")}}function Zo(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Sub Category is required. "),t.qZA())}function xo(o,a){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,Zo,2,0,"div",37),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productFormControls.subCategoryId.errors.required)}}function To(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Product Name is required. "),t.qZA())}function wo(o,a){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,To,2,0,"div",37),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productFormControls.productName.errors.required)}}function qo(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," HsnCode is required. "),t.qZA())}function Po(o,a){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,qo,2,0,"div",37),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productFormControls.hsnCode.errors.required)}}function Ao(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," AvaTaxCode is required. "),t.qZA())}function ko(o,a){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,Ao,2,0,"div",37),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productFormControls.avaTaxCode.errors.required)}}function Io(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Product Image is required. "),t.qZA())}function Uo(o,a){if(1&o&&(t.TgZ(0,"div",38),t.YNc(1,Io,2,0,"div",37),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productFormControls.productImg.errors.required)}}const j=function(o){return{"is-invalid":o}},yt=function(o){return{"fa-spin fa-spinner":o}};let Mo=(()=>{class o{constructor(e,i,n,r,s,c){this._FB=e,this._notifier=i,this._PS=n,this._CS=r,this.router=s,this.routes=c,this.fields=["textfield","textarea","number","password","checkbox","selectboxes","select","radio","button"],this.refreshForm=new t.vpe,this.options={noDefaultSubmitButton:!0,builder:{advanced:!1,search:!1,data:!1,layout:!1,premium:!1,basic:{weight:-10,title:"Basic",default:!0,components:{"custom-textfield":!0,"custom-textarea":!0,"custom-number":!0,"custom-password":!0,"custom-radio":!0,"custom-select":!0,"custom-selectboxes":!0,textfield:!1,textarea:!1,number:!1,radio:!1,select:!1,selectboxes:!1,password:!1,button:!1,panel:!0,columns:!0}}},editForm:{...this.hideTabs()}},this.submitted=!1,this.isLoading=!1,this.isLoadingSave=!1,this.productId="",this.categories=[],this.subCategories=[],this.tags=[]}ngOnInit(){this.routes.params.subscribe(e=>{e.productId&&(this.productId=e.productId,this.getProductDetails())}),this.getCategoryList(),this.initAddProductForm()}initAddProductForm(){this.productForm=this._FB.group({categoryId:["",l.kI.required],subCategoryId:["",l.kI.required],productName:["",l.kI.required],productImg:["",l.kI.required],avaTaxCode:["",l.kI.required],hsnCode:["",l.kI.required]})}get productFormControls(){return this.productForm.controls}fileValue(e){var i=e.target.value,n=i.split(".").pop();if("jpg"==n||"svg"==n||"jpeg"==n||"png"==n||"gif"==n){const r=new FormData;r.append("image",e.target.files[0]),this.isLoading=!0,this._CS.uploadImage(r).subscribe(s=>{if(s.meta.status){var c=i.replace(/^.*[\\\/]/,"").split(".").slice(0,-1).join(".");document.getElementById("filename").innerHTML=c,this.productForm.get("productImg")?.setValue([s.data]),this.isLoading=!1,this._notifier.showSuccess(s.meta.msg,"Success")}else this.isLoading=!1,this._notifier.showWarning(s.meta.msg,"")},s=>{this.isLoading=!1})}else alert("File not supported. Kindly Upload the Image of below given extension ")}getProductDetails(){this._PS.getProductDetails(this.productId).subscribe(e=>{if(e.meta.status){this.productDetails=e.data,this.getSubCategoryList(this.productDetails.categoryId),this.productForm.patchValue(this.productDetails),this.form=this.productDetails.productForm&&this.productDetails.productForm.length?{components:this.productDetails.productForm}:{components:[]};let i=this.productDetails.productImg[0]&&this.productDetails.productImg[0].length?this.productDetails.productImg[0].split("/")[this.productDetails.productImg[0].split("/").length-1]:"Select Image";document.getElementById("filename").innerHTML=i,this.tags=this.productDetails.tags}else this.productDetails=void 0,this._notifier.showWarning(e.meta.msg,"")},e=>{})}getCategoryList(){this._PS.getCategoryList("ROOT","ACTIVE","",void 0,void 0).subscribe(e=>{e.meta.status?this.categories=e.data:(this.categories=[],this._notifier.showWarning(e.meta.msg,""))},e=>{})}changeCategory(e){this.getSubCategoryList(e.target.value)}getSubCategoryList(e){this._PS.getSubCategoryList("PARENT","ACTIVE","",e,void 0,void 0).subscribe(i=>{i.meta.status?this.subCategories=i.data:(this.subCategories=[],this._notifier.showWarning(i.meta.msg,""))},i=>{})}onChange(e){this.refreshForm.emit({property:"form",value:e.form})}hideTabs(){let e={};return this.fields.map(i=>{e[i]=[{key:"logic",ignore:!0},{key:"layout",ignore:!0},{key:"display",components:[{key:"inputMask",ignore:!0},{key:"displayMask",ignore:!0},{key:"applyMaskOn",ignore:!0},{key:"allowMultipleMasks",ignore:!0}]}]}),e}updateProductWithForm(){if(this.productForm.valid){let e={...this.productForm.value,productForm:this.form.components.length?this.form.components:[]};console.log("objobjobj",e),this.isLoadingSave=!0,this._PS.updateProduct(e,this.productId).subscribe(i=>{i.meta.status?(this.isLoadingSave=!1,this.router.navigate(["/products-master/products"]),this._notifier.showSuccess(i.meta.msg,"Success")):(this.isLoadingSave=!1,this._notifier.showWarning(i.meta.msg,""))},i=>{this.isLoadingSave=!1})}else this.submitted=!0}onItemAdded(e){let i=this.tags.map(n=>n.value);this.productForm.get("tags")?.setValue(i)}onItemRemoved(e){let i=this.tags.map(n=>n.value);this.productForm.get("tags")?.setValue(i)}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(l.qu),t.Y36(q.l),t.Y36(C.M),t.Y36(U.v),t.Y36(p.F0),t.Y36(p.gz))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-product"]],decls:80,vars:34,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between"],[1,"account_dashboard","profile_dashboard"],[1,"row"],[1,"col-12","col-sm-4","col-md-3","col-lg-3"],[1,"login-white-box"],[1,"pop-form-box","form-box","category_tab","mt-4",3,"formGroup"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"form-group"],["formControlName","categoryId",1,"form-control","form-ctrl",3,"ngClass","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","subCategoryId",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Product Name","formControlName","productName",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","hsnCode","formControlName","hsnCode",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","avaTaxCode","formControlName","avaTaxCode",1,"form-control","form-ctrl",3,"ngClass"],[1,"file-form-control"],[1,"upload-doc-item"],[1,"image-upload"],["type","file","name","","accept","image/*","id","logo",3,"disabled","change"],["for","logo","id","file-label",1,"upload-field"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/mc.png","alt",""],["id","filename"],[1,"Upload-btn","btn","btn-success"],[1,"fa",3,"ngClass"],["style","display: block;","class","invalid-feedback",4,"ngIf"],[1,"col-12","col-sm-8","col-md-9","col-lg-9"],[1,"main_editor"],[1,"classic_editor"],[3,"form","options","change"],[1,"col-lg-12"],[1,"text-end","main_btn","mt-5"],["type","button",1,"btn","btn-success","ms-2",3,"disabled","click"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[1,"invalid-feedback",2,"display","block"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t._uU(3,"Edit Product"),t.qZA()(),t.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"h6"),t._uU(9,"Edit Products"),t.qZA(),t.TgZ(10,"div",6)(11,"div",3)(12,"div",7)(13,"div",8)(14,"label"),t._uU(15,"Category"),t.qZA(),t.TgZ(16,"select",9),t.NdJ("change",function(s){return n.changeCategory(s)}),t.TgZ(17,"option",10),t._uU(18,"Select"),t.qZA(),t.YNc(19,bo,2,2,"option",11),t.qZA(),t.YNc(20,Co,2,1,"div",12),t.qZA()(),t.TgZ(21,"div",7)(22,"div",8)(23,"label"),t._uU(24,"Sub Category"),t.qZA(),t.TgZ(25,"select",13)(26,"option",10),t._uU(27,"Select"),t.qZA(),t.YNc(28,yo,2,2,"option",11),t.qZA(),t.YNc(29,xo,2,1,"div",12),t.qZA()()(),t.TgZ(30,"div",3)(31,"div",7)(32,"div",8)(33,"label"),t._uU(34,"Product"),t.qZA(),t._UZ(35,"input",14),t.YNc(36,wo,2,1,"div",12),t.qZA()(),t.TgZ(37,"div",7)(38,"div",8)(39,"label"),t._uU(40,"HSN Code "),t.qZA(),t._UZ(41,"input",15),t.YNc(42,Po,2,1,"div",12),t.qZA()()(),t.TgZ(43,"div",3)(44,"div",7)(45,"div",8)(46,"label"),t._uU(47,"Ava Tax Code "),t.qZA(),t._UZ(48,"input",16),t.YNc(49,ko,2,1,"div",12),t.qZA()(),t.TgZ(50,"div",7)(51,"div",8)(52,"label"),t._uU(53,"Upload Image"),t.qZA(),t.TgZ(54,"div",17)(55,"div",18)(56,"div",19)(57,"input",20),t.NdJ("change",function(s){return n.fileValue(s)}),t.qZA(),t.TgZ(58,"label",21)(59,"div",22),t._UZ(60,"img",23),t.TgZ(61,"h6",24),t._uU(62,"Select Image"),t.qZA(),t.TgZ(63,"div",25),t._UZ(64,"i",26),t._uU(65," Upload "),t.qZA()()(),t.YNc(66,Uo,2,1,"div",27),t.qZA()()()()()(),t._UZ(67,"div",3),t.qZA()()(),t.TgZ(68,"div",28)(69,"div",29)(70,"div",5)(71,"div",30)(72,"h6"),t._uU(73,"Products Forms"),t.qZA(),t.TgZ(74,"form-builder",31),t.NdJ("change",function(s){return n.onChange(s)}),t.qZA()()()()(),t.TgZ(75,"div",32)(76,"div",33)(77,"button",34),t.NdJ("click",function(){return n.updateProductWithForm()}),t._UZ(78,"i",26),t._uU(79," Update"),t.qZA()()()()()()),2&i&&(t.xp6(10),t.Q6J("formGroup",n.productForm),t.xp6(6),t.Q6J("ngClass",t.VKq(20,j,n.submitted&&n.productFormControls.categoryId.errors)),t.xp6(3),t.Q6J("ngForOf",n.categories),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.productFormControls.categoryId.errors),t.xp6(5),t.Q6J("ngClass",t.VKq(22,j,n.submitted&&n.productFormControls.subCategoryId.errors)),t.xp6(3),t.Q6J("ngForOf",n.subCategories),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.productFormControls.subCategoryId.errors),t.xp6(6),t.Q6J("ngClass",t.VKq(24,j,n.submitted&&n.productFormControls.productName.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.productFormControls.productName.errors),t.xp6(5),t.Q6J("ngClass",t.VKq(26,j,n.submitted&&n.productFormControls.hsnCode.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.productFormControls.hsnCode.errors),t.xp6(6),t.Q6J("ngClass",t.VKq(28,j,n.submitted&&n.productFormControls.avaTaxCode.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.productFormControls.avaTaxCode.errors),t.xp6(8),t.Q6J("disabled",n.isLoading),t.xp6(7),t.Q6J("ngClass",t.VKq(30,yt,n.isLoading)),t.xp6(2),t.Q6J("ngIf",n.submitted&&n.productFormControls.productImg.errors),t.xp6(8),t.Q6J("form",n.form)("options",n.options),t.xp6(3),t.Q6J("disabled",n.isLoadingSave),t.xp6(1),t.Q6J("ngClass",t.VKq(32,yt,n.isLoadingSave)))},dependencies:[d.mk,d.sg,d.O5,v.hd,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u]})}return o})();var M=f(19631),P=f(69862),h=f(64716);function So(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"li")(1,"div",76)(2,"label",77)(3,"div",78)(4,"input",79),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.changeSelection("category",n))}),t.qZA()(),t.TgZ(5,"div",80),t._UZ(6,"img",81),t.qZA(),t.TgZ(7,"h5"),t._uU(8),t.qZA(),t._UZ(9,"span",82),t.qZA()()()}if(2&o){const e=a.$implicit;t.xp6(4),t.Q6J("value",null==e?null:e._id),t.xp6(2),t.Q6J("src",null==e?null:e.categoryImg,t.LSH),t.xp6(2),t.Oqu(null==e?null:e.categoryName)}}function Oo(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"li")(1,"div",76)(2,"label",77)(3,"div",78)(4,"input",83),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.changeSelection("subCategory",n))}),t.qZA()(),t.TgZ(5,"div",80),t._UZ(6,"img",81),t.qZA(),t.TgZ(7,"h5"),t._uU(8),t.qZA(),t._UZ(9,"span",82),t.qZA()()()}if(2&o){const e=a.$implicit;t.xp6(4),t.Q6J("value",null==e?null:e._id),t.xp6(2),t.Q6J("src",e.categoryImg,t.LSH),t.xp6(2),t.Oqu(e.categoryName)}}function No(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"li")(1,"div",76)(2,"label",77)(3,"div",78)(4,"input",84),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.changeSelection("product",n))}),t.qZA()(),t.TgZ(5,"div",80),t._UZ(6,"img",81),t.qZA(),t.TgZ(7,"h5"),t._uU(8),t.qZA(),t._UZ(9,"span",82),t.qZA()()()}if(2&o){const e=a.$implicit;t.xp6(4),t.Q6J("value",null==e?null:e._id),t.xp6(2),t.Q6J("src",e.productImg[0],t.LSH),t.xp6(2),t.Oqu(e.productName)}}function Fo(o,a){1&o&&(t.TgZ(0,"span",85),t._uU(1," Product title is required"),t.qZA())}function Do(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",86)(1,"div",87)(2,"button",88),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.removeFile("image",r))}),t.qZA(),t.TgZ(3,"div",89),t._UZ(4,"img",90),t.qZA(),t.TgZ(5,"h6"),t._uU(6),t.qZA()()()}if(2&o){const e=a.$implicit;t.xp6(4),t.Q6J("src",e,t.LSH),t.xp6(2),t.Oqu(e.split("-").pop())}}function Jo(o,a){1&o&&t._UZ(0,"img",94)}function Qo(o,a){1&o&&t._UZ(0,"img",95)}function Eo(o,a){1&o&&t._UZ(0,"img",96)}function Lo(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",86)(1,"div",87)(2,"button",88),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.removeFile("artwork",r))}),t.qZA(),t.TgZ(3,"div",89),t.YNc(4,Jo,1,0,"img",91),t.YNc(5,Qo,1,0,"img",92),t.YNc(6,Eo,1,0,"img",93),t.qZA(),t.TgZ(7,"h6"),t._uU(8),t.qZA()()()}if(2&o){const e=a.$implicit;t.xp6(4),t.Q6J("ngIf","pdf"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","ai"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","cdr"===e.split(".").pop()),t.xp6(2),t.Oqu(e.split("-").pop())}}function Yo(o,a){1&o&&t._UZ(0,"img",94)}function $o(o,a){1&o&&t._UZ(0,"img",100)}function Vo(o,a){1&o&&t._UZ(0,"img",101)}function Ko(o,a){1&o&&t._UZ(0,"img",102)}function Bo(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",86)(1,"div",87)(2,"button",88),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.removeFile("attachment",r))}),t.qZA(),t.TgZ(3,"div",89),t.YNc(4,Yo,1,0,"img",91),t.YNc(5,$o,1,0,"img",97),t.YNc(6,Vo,1,0,"img",98),t.YNc(7,Ko,1,0,"img",99),t.qZA(),t.TgZ(8,"h6"),t._uU(9),t.qZA()()()}if(2&o){const e=a.$implicit;t.xp6(4),t.Q6J("ngIf","pdf"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","xls"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","word"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","csv"===e.split(".").pop()),t.xp6(2),t.Oqu(e.split("-").pop())}}function jo(o,a){1&o&&t._UZ(0,"img",94)}function Ho(o,a){1&o&&t._UZ(0,"img",100)}function Ro(o,a){1&o&&t._UZ(0,"img",101)}function Go(o,a){1&o&&t._UZ(0,"img",102)}function Wo(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",86)(1,"div",87)(2,"button",88),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.removeFile("certificate",r))}),t.qZA(),t.TgZ(3,"div",89),t.YNc(4,jo,1,0,"img",91),t.YNc(5,Ho,1,0,"img",97),t.YNc(6,Ro,1,0,"img",98),t.YNc(7,Go,1,0,"img",99),t.qZA(),t.TgZ(8,"h6"),t._uU(9),t.qZA()()()}if(2&o){const e=a.$implicit;t.xp6(4),t.Q6J("ngIf","pdf"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","xls"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","word"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","csv"===e.split(".").pop()),t.xp6(2),t.Oqu(e.split("-").pop())}}function zo(o,a){1&o&&(t.TgZ(0,"p",103),t._uU(1,"Please upload artwork "),t.qZA())}const Xo=function(){return["/product/list"]};let tn=(()=>{class o{constructor(e,i,n,r,s,c,m,b){this._notify=e,this.PS=i,this.FB=n,this.ngxService=r,this.router=s,this.commonService=c,this.routes=m,this.location=b,this.productDetails=null,this.selectedCategory=null,this.selectedSubCategory=null,this.selectedProduct=null,this.categoryType="ROOT",this.fields=[],this.categorySearch="",this.subCategorySearch="",this.productSearch="",this.submitted=!1,this.productImages=[],this.artworks=[],this.attachments=[],this.certificates=[],this.isRequiredAllFields={},this.attachmentError=!1,this.objForm={},this.form={components:[]}}ngOnInit(){this.formGroup=this.FB.group({productTitle:["",[l.kI.required]],estimatedAnnualConsumption:["",[]]}),this.commonService.getKey().subscribe(e=>{let i=Object.keys(e)[0];this.isRequiredAllFields.hasOwnProperty(i)?this.isRequiredAllFields[i]=e[i]:this.isRequiredAllFields={...this.isRequiredAllFields,...e}}),this.getCategories(),this.customerId=this.routes.snapshot.paramMap.get("id")}ngAfterViewInit(){setTimeout(()=>{$(".wizzy").wizzy()},100)}searchData(e,i){switch(e){case"category":default:this.categorySearch=i.target.value,this.getCategories();break;case"subCategory":this.subCategorySearch=i?.target?.value,this.getSubCategories();break;case"product":this.productSearch=i?.target?.value,this.getProducts()}}addQueryParams(){let e=new P.LE;return e=e.append("type","ROOT"),e=e.append("searchKey",this.categorySearch),e}getCategories(){this.ngxService.start(),this.PS.getCategoryList(this.categoryType,"active",this.categorySearch,"","").pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?this.categoryList=e?.data:this._notify.showError(e.meta.msg,"Error"),this.initializeWizzy()})}subCategoryQueryParams(){let e=new P.LE;return e=e.append("categoryId",this.selectedCategory),e=e.append("searchKey",this.subCategorySearch),e}getSubCategories(){this.ngxService.start(),this.PS.getSubCategoryList("","",this.subCategorySearch,this.selectedCategory,"","").pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?(this.subCategoryList=e?.data,this.initializeWizzy()):this._notify.showError(e.meta.msg,"Error")})}productQueryParams(){let e=new P.LE;return e=e.append("categoryId",this.selectedCategory),e=e.append("subCategoryId",this.selectedSubCategory),e=e.append("searchKey",this.productSearch),e}getProducts(){this.ngxService.start(),this.PS.getProductList(this.selectedCategory,this.productSearch,"","",this.selectedSubCategory).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?(this.productsList=e.data,this.initializeWizzy()):this._notify.showError(e.meta.msg,"Error")})}getProductDetails(){this.ngxService.start(),this.productDetails=null,this.fields=[],this.PS.getProductDetails(this.selectedProduct).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?(this.form={components:e?.data?.productForm||[]},this._notify.showSuccess(e.meta.msg,"Success"),this.initializeWizzy()):this._notify.showError(e.meta.msg,"Error")})}changeSelection(e,i){switch(e){case"category":this.selectedCategory=i?.target?.value,this.selectedSubCategory=null,this.selectedProduct=null;break;case"subCategory":this.selectedSubCategory=i?.target?.value,this.selectedProduct=null;break;case"product":this.selectedProduct=i?.target?.value}this.initializeWizzy()}initializeWizzy(){this.selectedCategory?($(".category-navigator .btn").prop("disabled",!1),$(".category-navigator .btn").prop("disabled",!1)&&$(".category-navigator .btn").on("click",()=>{this.getSubCategories()})):$(".category-navigator .btn").prop("disabled",!0),this.selectedSubCategory?($(".subcategory-navigator .btn-success").prop("disabled",!1),$(".subcategory-navigator .btn-success").prop("disabled",!1)&&$(".subcategory-navigator .btn-success").on("click",()=>{this.getProducts()})):$(".subcategory-navigator .btn-success").prop("disabled",!0),this.selectedProduct?($(".product-navigator .btn-success").prop("disabled",!1),$(".product-navigator .btn-success").prop("disabled",!1)&&$(".product-navigator .btn-success").on("click",()=>{setTimeout(()=>{$(".product-details-navigator .btn-success").attr("data-isvalid",!1)},50),this.getProductDetails()})):$(".product-navigator .btn-success").prop("disabled",!0),null===this.selectedCategory&&null===this.selectedSubCategory&&null===this.selectedProduct?$(".product-details-navigator .btn-success").prop("disabled",!0):($(".product-details-navigator .btn-success").prop("disabled",!1),$(".product-details-navigator .btn-success").on("click",e=>{let i=$(".product-details-navigator .btn-success");this.formio.formio.checkValidity(null,!1,null,!0)?Object.values(this.isRequiredAllFields).every(r=>r)&&(i.data("isvalid",!0),setTimeout(()=>{$(".submit-navigator .btn-outline-success").on("click",()=>{setTimeout(()=>{$(".product-details-navigator .btn-success").data("data-isvalid",!1),this.initializeWizzy()},50)}),$(".submit-navigator .btn-success").on("click",()=>{setTimeout(()=>{this.submitForm()},100)})},300)):i.data("isvalid",!1),this.formio&&this.formio.formio.emit("submitButton")}))}onChangeForm(e){this.commonService.getUnit().subscribe(i=>{i&&(this.objForm.hasOwnProperty(i.key)?this.objForm[i.key].unit=i.value:this.objForm={...this.objForm,[i.key]:{value:"",unit:i.value}})})}onSubmit(e){Object.keys(this.objForm).length&&Object.keys(this.objForm).map(i=>{this.objForm[i].value=e.data[i],e.data[i]=this.objForm[i]}),this.productForm=e.data,this.attachmentError="yes"==this.productForm?.printingRequired}test(){this.formio.formio.checkValidity(null,!1,null,!0)||console.log("The form is invalid!"),this.formio&&this.formio.formio.emit("submitButton")}fileValue(e){var i=e.target.files[0],n=e.target.value,r=n.split(".").pop();"jpg"==r||"svg"==r||"jpeg"==r||"png"==r||"gif"==r?(n.replace(/^.*[\\\/]/,"").split(".").slice(0,-1).join("."),i&&this.uploadImage("productImage",i)):alert("File not supported. Kindly Upload the Image of below given extension ")}uploadImage(e,i){this.ngxService.start();let n=new FormData;n.append("image",i),this.commonService.uploadImage(n).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(r=>{r.meta.status?this.productImages.push(r?.data):this._notify.showError(r.meta.msg,"Error"),this.initializeWizzy()})}uploadArtwork(e){var i=e.target.files[0],r=e.target.value.split(".").pop();"ai"==r||"cdr"==r||"pdf"==r?i&&this.uploadDoc("artwork",i):alert("File not supported. Kindly Upload the file of below given extension ")}uploadAttachment(e){var i=e.target.files[0],r=e.target.value.split(".").pop();"pdf"==r||"xls"==r||"word"==r||"csv"==r?i&&this.uploadDoc("attachment",i):alert("File not supported. Kindly Upload the file of below given extension ")}uploadCertificate(e){var i=e.target.files[0],r=e.target.value.split(".").pop();"pdf"==r||"xls"==r||"word"==r||"csv"==r?i&&this.uploadDoc("certificate",i):alert("File not supported. Kindly Upload the file of below given extension ")}uploadDoc(e,i){this.ngxService.start();let n=new FormData;n.append("doc",i),this.commonService.uploadDocument(n).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(r=>{r.meta.status?("artwork"===e&&(this.artworks.push(r?.data),this.artworks.length?(this.attachmentError=!1,$(".submit-navigator .btn-success").prop("disabled",!1)):(this.attachmentError=!0,$(".submit-navigator .btn-success").prop("disabled",!0))),"attachment"===e&&this.attachments.push(r?.data),"certificate"===e&&this.certificates.push(r?.data)):this._notify.showError(r.meta.msg,"Error"),this.initializeWizzy()})}removeFile(e,i){this.ngxService.start();let n={filePath:i.split("/").pop()};this.commonService.removeFile(n).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(r=>{if(r.meta.status){if("image"===e){const s=this.productImages.indexOf(i);this.productImages.splice(s,1)}if("artwork"===e){const s=this.artworks.indexOf(i);this.artworks.splice(s,1),this.artworks.length?(this.attachmentError=!1,$(".submit-navigator .btn-success").prop("disabled",!1)):(this.attachmentError=!0,$(".submit-navigator .btn-success").prop("disabled",!0))}if("attachment"===e){const s=this.attachments.indexOf(i);this.attachments.splice(s,1)}if("certificate"===e){const s=this.certificates.indexOf(i);this.certificates.splice(s,1)}}else this._notify.showError(r.meta.msg,"Error")})}submitForm(){"yes"!==this.productForm?.printingRequired||""!=this.productForm?.numberOfColors||""!=this.productForm?.inkCoverage||0!=this.artworks?.length?(this.ngxService.start(),this.submitted=!1,this.PS.addCustomerProduct({productTitle:this.formGroup.value.productTitle,estimatedAnnualConsumption:this.formGroup.value.estimatedAnnualConsumption?this.formGroup.value.estimatedAnnualConsumption:0,customerId:this.customerId,categoryId:this.selectedCategory,subCategoryId:this.selectedSubCategory,productId:this.selectedProduct,productForm:this.productForm,productImages:this.productImages,productArtworks:this.artworks,productAttachments:this.attachments,resellerCertificate:this.certificates}).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(i=>{i.meta.status?(this._notify.showSuccess(i.meta.msg,"Success"),$("#CongrulationsModal").modal("show"),setTimeout(()=>{this.location.back(),$("#CongrulationsModal").modal("hide")},1e3)):($("#CongrulationsModal").modal("hide"),this._notify.showError(i.meta.msg,"Error"))})):this.attachmentError=!0}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(q.l),t.Y36(C.M),t.Y36(l.qu),t.Y36(x.LA),t.Y36(p.F0),t.Y36(U.v),t.Y36(p.gz),t.Y36(d.Ye))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-create-customer-product"]],viewQuery:function(i,n){if(1&i&&t.Gf(v.k4,5),2&i){let r;t.iGM(r=t.CRH())&&(n.formio=r.first)}},decls:204,vars:14,consts:[[1,"dashboardMain"],[1,"wz-wrapper","wizzy"],[1,"wz-inner"],[1,"wz-header"],["href","javascript:void(0)"],[1,"fa","fa-check"],["href","javascript:void(0)",1,"last-step"],[1,"wz-body"],["action","#"],[1,"wz-step"],[1,"title","text-center"],[1,"form-box","form-filter"],[1,"row"],[1,"col-12","col-sm-4","col-md-3","col-lg-3"],[1,"searchgroup","form-group"],["type","text","placeholder","Search",1,"form-control","form-ctrl",3,"keyup"],["type","button",1,"btn","btn-link"],["src","assets/images/search-icon.png"],[1,"d-flex","flex-wrap","text-center","list-inline","ulfive-row","sampleRVendor"],[4,"ngFor","ngForOf"],[1,"wz-navigator","category-navigator"],[1,"wz-navigator","subcategory-navigator"],[1,"wz-navigator","product-navigator"],[1,"account_dashboard"],[1,"row","form-box","justify-content-center"],[1,"col-12","col-sm-12","col-md-10","col-lg-10","row","p-0",3,"formGroup"],[1,"col-6","col-sm-12","col-md-6","col-lg-6"],[1,"form-group"],[1,"col-form-label","field-required",2,"line-height","25px"],["type","text","formControlName","productTitle",1,"form-ctrl","form-control"],["style","color: red;",4,"ngIf"],[1,"col-form-label"],[1,"info-icon-green",2,"display","inline-block"],["title","Information",1,"bi","bi-info"],["type","number","formControlName","estimatedAnnualConsumption",1,"form-ctrl","form-control"],[1,"col-12","col-sm-12","col-md-10","col-lg-10"],[3,"form","submit","change"],[1,"wz-navigator","product-details-navigator"],[1,"form-box"],[1,"row","rowNplus"],[1,"col-12","col-sm-6","col-md-3","col-lg-3","brd-rgt"],[1,"d-flex","justify-content-between","align-items-center"],[1,"info-icon-green"],[1,"d-flex"],[1,"upload-doc-item","Upload-plus"],[1,"image-upload"],["type","file","name","","id","productImg",3,"change"],["for","productImg","id","file-label",1,"upload-field"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/upload-icon.png","alt",""],["id","productImgName"],[1,"d-flex","flex-wrap"],["class","form-check-inline text-center",4,"ngFor","ngForOf"],["type","file","name","","id","artwork",3,"change"],["for","artwork","id","file-label",1,"upload-field"],["id","filename"],["type","file","name","","id","attachment",3,"change"],["for","attachment","id","file-label",1,"upload-field"],[1,"col-12","col-sm-6","col-md-3","col-lg-3"],["type","file","name","","id","certificate",3,"change"],["for","certificate","id","file-label",1,"upload-field"],["class","w-100 text-center errorMsgText",4,"ngIf"],[1,"wz-navigator","submit-navigator"],["id","CongrulationsModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","feedback-popup"],[1,"modal-body"],[1,"congrulations","text-center"],[1,"login-white-box"],[1,"congrulations-img"],["src","assets/images/objects.png"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 130.2 130.2"],["fill","none","stroke","#fff","stroke-width","0","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#fff","stroke-width","10","stroke-linecap","round","stroke-miterlimit","10","points","100.2,40.2 51.5,88.8 29.8,67.5 ",1,"path","check"],["href","javascript:void(0)","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-light",3,"routerLink"],["fgsColor","#3E916C",3,"hasProgressBar"],[1,"add-product-item"],[1,"labelContainer"],[1,"form-check","greencheck"],["type","radio","name","category",1,"form-check-input",3,"value","change"],[1,"product-icon"],["alt","",3,"src"],[1,"checkmark"],["type","radio","name","subCategory",1,"form-check-input",3,"value","change"],["type","radio","name","product",1,"form-check-input",3,"value","change"],[2,"color","red"],[1,"form-check-inline","text-center"],["role","alert",1,"alert-photo","alert","alert-warning","alert-dismissible","fade","show"],["type","button",1,"btn-close",3,"click"],[1,"alert-photo-img"],[3,"src"],["src","assets/images/pdf.png",4,"ngIf"],["src","assets/images/illustrator.png",4,"ngIf"],["src","assets/images/cdr.png",4,"ngIf"],["src","assets/images/pdf.png"],["src","assets/images/illustrator.png"],["src","assets/images/cdr.png"],["src","assets/images/xls.png",4,"ngIf"],["src","assets/images/excel.png",4,"ngIf"],["src","assets/images/csv.png",4,"ngIf"],["src","assets/images/xls.png"],["src","assets/images/excel.png"],["src","assets/images/csv.png"],[1,"w-100","text-center","errorMsgText"]],template:function(i,n){if(1&i&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"nav")(6,"a",4)(7,"em"),t._UZ(8,"i",5),t.qZA(),t._uU(9," Select Category"),t.qZA(),t.TgZ(10,"a",4)(11,"em"),t._UZ(12,"i",5),t.qZA(),t._uU(13," Select Sub Catgeory"),t.qZA(),t.TgZ(14,"a",4)(15,"em"),t._UZ(16,"i",5),t.qZA(),t._uU(17," Select Product"),t.qZA(),t.TgZ(18,"a",4)(19,"em"),t._UZ(20,"i",5),t.qZA(),t._uU(21," Product Details"),t.qZA(),t.TgZ(22,"a",6)(23,"em"),t._UZ(24,"i",5),t.qZA(),t._uU(25," Product Images"),t.qZA()()(),t.TgZ(26,"div",7)(27,"form",8)(28,"div",9)(29,"div",10)(30,"h3"),t._uU(31,"Create Product"),t.qZA(),t.TgZ(32,"p"),t._uU(33,"Select Category"),t.qZA()(),t.TgZ(34,"div",11)(35,"div",12)(36,"div",13)(37,"div",14)(38,"input",15),t.NdJ("keyup",function(s){return n.searchData("category",s)}),t.qZA(),t.TgZ(39,"button",16),t._UZ(40,"img",17),t.qZA()()()()(),t.TgZ(41,"ul",18),t.YNc(42,So,10,3,"li",19),t.qZA(),t._UZ(43,"div",20),t.qZA(),t.TgZ(44,"div",9)(45,"div",10)(46,"h3"),t._uU(47,"Create Product"),t.qZA(),t.TgZ(48,"p"),t._uU(49,"Select Product Type"),t.qZA()(),t.TgZ(50,"div",11)(51,"div",12)(52,"div",13)(53,"div",14)(54,"input",15),t.NdJ("keyup",function(s){return n.searchData("subCategory",s)}),t.qZA(),t.TgZ(55,"button",16),t._UZ(56,"img",17),t.qZA()()()()(),t.TgZ(57,"ul",18),t.YNc(58,Oo,10,3,"li",19),t.qZA(),t._UZ(59,"div",21),t.qZA(),t.TgZ(60,"div",9)(61,"div",10)(62,"h3"),t._uU(63,"Create Product"),t.qZA(),t.TgZ(64,"p"),t._uU(65,"Select Product Type"),t.qZA()(),t.TgZ(66,"div",11)(67,"div",12)(68,"div",13)(69,"div",14)(70,"input",15),t.NdJ("keyup",function(s){return n.searchData("product",s)}),t.qZA(),t.TgZ(71,"button",16),t._UZ(72,"img",17),t.qZA()()()()(),t.TgZ(73,"ul",18),t.YNc(74,No,10,3,"li",19),t.qZA(),t._UZ(75,"div",22),t.qZA(),t.TgZ(76,"div",9)(77,"div",10)(78,"h3"),t._uU(79,"Product Details"),t.qZA()(),t.TgZ(80,"div",23)(81,"div",24)(82,"div",25)(83,"div",26)(84,"div",27)(85,"label",28),t._uU(86,"Product Title"),t.qZA(),t._UZ(87,"input",29),t.YNc(88,Fo,2,0,"span",30),t.qZA()(),t.TgZ(89,"div",26)(90,"div",27)(91,"label",31),t._uU(92,"Estimated Annual Consumption \xa0 "),t.TgZ(93,"em",32),t._UZ(94,"i",33),t.qZA()(),t._UZ(95,"input",34),t.qZA()()(),t.TgZ(96,"div",35)(97,"formio",36),t.NdJ("submit",function(s){return n.onSubmit(s)})("change",function(s){return n.onChangeForm(s)}),t.qZA()()()(),t._UZ(98,"div",37),t.qZA(),t.TgZ(99,"div",9)(100,"div",10)(101,"h3"),t._uU(102,"Add Product Images"),t.qZA()(),t.TgZ(103,"div",23)(104,"div",38)(105,"div",39)(106,"div",40)(107,"div",27)(108,"label",41),t._uU(109,"Upload Product Images "),t.TgZ(110,"em",42),t._UZ(111,"i",33),t.qZA()(),t.TgZ(112,"div",43)(113,"div",44)(114,"div",45)(115,"input",46),t.NdJ("change",function(s){return n.fileValue(s)}),t.qZA(),t.TgZ(116,"label",47)(117,"div",48),t._UZ(118,"img",49)(119,"br"),t.TgZ(120,"h6",50),t._uU(121,"File format jpeg, jpg, png, webp "),t.qZA()()()()()()(),t.TgZ(122,"div",27)(123,"div",51),t.YNc(124,Do,7,2,"div",52),t.qZA()()(),t.TgZ(125,"div",40)(126,"div",27)(127,"label",41),t._uU(128,"Artwork "),t.TgZ(129,"em",42),t._UZ(130,"i",33),t.qZA()(),t.TgZ(131,"div",43)(132,"div",44)(133,"div",45)(134,"input",53),t.NdJ("change",function(s){return n.uploadArtwork(s)}),t.qZA(),t.TgZ(135,"label",54)(136,"div",48),t._UZ(137,"img",49)(138,"br"),t.TgZ(139,"h6",55),t._uU(140,"File format .ai, .cdr, .pdf"),t._UZ(141,"br"),t._uU(142,"Max file size 20 MB"),t.qZA()()()()()()(),t.TgZ(143,"div",27)(144,"div",51),t.YNc(145,Lo,9,4,"div",52),t.qZA()()(),t.TgZ(146,"div",40)(147,"div",27)(148,"label",41),t._uU(149,"Additional Attachments "),t.TgZ(150,"em",42),t._UZ(151,"i",33),t.qZA()(),t.TgZ(152,"div",43)(153,"div",44)(154,"div",45)(155,"input",56),t.NdJ("change",function(s){return n.uploadAttachment(s)}),t.qZA(),t.TgZ(156,"label",57)(157,"div",48),t._UZ(158,"img",49)(159,"br"),t.TgZ(160,"h6",55),t._uU(161,"File format .pdf, .xls, .word, .csv"),t.qZA()()()()()()(),t.TgZ(162,"div",27)(163,"div",51),t.YNc(164,Bo,10,5,"div",52),t.qZA()()(),t.TgZ(165,"div",58)(166,"div",27)(167,"label",41),t._uU(168,"Reseller Certificate "),t.TgZ(169,"em",42),t._UZ(170,"i",33),t.qZA()(),t.TgZ(171,"div",43)(172,"div",44)(173,"div",45)(174,"input",59),t.NdJ("change",function(s){return n.uploadCertificate(s)}),t.qZA(),t.TgZ(175,"label",60)(176,"div",48),t._UZ(177,"img",49)(178,"br"),t.TgZ(179,"h6",55),t._uU(180,"File format .pdf, .xls, .word, .csv"),t.qZA()()()()()()(),t.TgZ(181,"div",27)(182,"div",51),t.YNc(183,Wo,10,5,"div",52),t.qZA()()(),t.YNc(184,zo,2,0,"p",61),t.qZA()()(),t._UZ(185,"div",62),t.qZA()()()()()()(),t.TgZ(186,"div",63)(187,"div",64)(188,"div",65)(189,"div",66)(190,"div",67)(191,"div",68)(192,"div",69),t._UZ(193,"img",70),t.O4$(),t.TgZ(194,"svg",71),t._UZ(195,"circle",72)(196,"polyline",73),t.qZA()(),t.kcU(),t.TgZ(197,"h3"),t._uU(198,"Product Added"),t.qZA(),t.TgZ(199,"p"),t._uU(200,"You have successfully added the product. It can now be shared with vendor(s) for quotation(s) & follow on order(s) "),t.qZA(),t.TgZ(201,"a",74),t._uU(202,"Back to Home"),t.qZA()()()()()()(),t._UZ(203,"ngx-ui-loader",75)),2&i){let r;t.xp6(42),t.Q6J("ngForOf",n.categoryList),t.xp6(16),t.Q6J("ngForOf",n.subCategoryList),t.xp6(16),t.Q6J("ngForOf",n.productsList),t.xp6(8),t.Q6J("formGroup",n.formGroup),t.xp6(6),t.Q6J("ngIf",(null==(r=n.formGroup.get("productTitle"))?null:r.hasError("required"))&&((null==(r=n.formGroup.get("productTitle"))?null:r.dirty)||(null==(r=n.formGroup.get("productTitle"))?null:r.touched))),t.xp6(9),t.Q6J("form",n.form),t.xp6(27),t.Q6J("ngForOf",n.productImages),t.xp6(21),t.Q6J("ngForOf",n.artworks),t.xp6(19),t.Q6J("ngForOf",n.attachments),t.xp6(19),t.Q6J("ngForOf",n.certificates),t.xp6(1),t.Q6J("ngIf",n.attachmentError),t.xp6(17),t.Q6J("routerLink",t.DdM(13,Xo)),t.xp6(2),t.Q6J("hasProgressBar",!1)}},dependencies:[p.rH,d.sg,d.O5,v.k4,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,l.F,x.Eo],styles:[".custom-number.ng-star-inserted[_ngcontent-%COMP%]   .form-group.ng-star-inserted[_ngcontent-%COMP%]{margin-top:-30px!important}.errorMsgText[_ngcontent-%COMP%]{color:red}"]})}return o})();var S=f(57870);let en=(()=>{class o{constructor(e,i,n){this._PS=e,this.routes=i,this._notifier=n,this.catId=""}ngOnInit(){this.routes.params.subscribe(e=>{e&&e.catId&&(this.catId=e.catId,this.getCategoryDetails())})}getCategoryDetails(){this._PS.getCategoryDetails(this.catId).subscribe(e=>{e.meta.status?this.catDetails=e.data:(this.catDetails=[],this._notifier.showWarning(e.meta.msg,""))},e=>{this._notifier.showError("Something went wrong","Error")})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(C.M),t.Y36(p.gz),t.Y36(S.lG))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-cat-details"]],decls:45,vars:8,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between","row"],[1,"col-12","col-sm-8","col-md-10","col-lg-10"],["href","javascript:history.back()"],[1,"bi","bi-arrow-left-short","me-4"],[1,"account_dashboard","profile_dashboard","mb-5"],[1,"login-white-box"],[1,"my-vender-item","mb-0"],[1,"row"],[1,"col-12","col-sm-4","col-md-4","col-lg-3"],[1,"catdetailimg"],[3,"src","alt"],[1,"col-12","col-sm-8","col-md-8","col-lg-9","bdr-lft"],[1,"my-vender-body"],[1,"mb-4"],[1,"small"],[1,"col-6","col-sm-4","col-md-4","col-lg-4"],[1,"profile-info"],[1,"text-success"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","mt-3"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3")(4,"a",3),t._UZ(5,"i",4),t.qZA(),t._uU(6,"Category"),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10),t._UZ(13,"img",11),t.qZA()(),t.TgZ(14,"div",12)(15,"div",13)(16,"h4",14),t._uU(17),t.TgZ(18,"span",15),t._uU(19),t.qZA()(),t.TgZ(20,"div",8)(21,"div",16)(22,"div",17)(23,"h6"),t._uU(24,"Category ID: "),t.TgZ(25,"span",18),t._uU(26),t.qZA()()()(),t.TgZ(27,"div",16)(28,"div",17)(29,"h6"),t._uU(30,"Category Details: "),t.TgZ(31,"span",18),t._uU(32),t.qZA()()()(),t.TgZ(33,"div",16)(34,"div",17)(35,"h6"),t._uU(36,"Slug: "),t.TgZ(37,"span",18),t._uU(38),t.qZA()()()(),t.TgZ(39,"div",19)(40,"div",17)(41,"h6"),t._uU(42,"Description: "),t.TgZ(43,"span",18),t._uU(44),t.qZA()()()()()()()()()()()()),2&i&&(t.xp6(13),t.s9C("src",null==n.catDetails?null:n.catDetails.categoryImg,t.LSH),t.s9C("alt",null==n.catDetails?null:n.catDetails.categoryName),t.xp6(4),t.hij("",null==n.catDetails?null:n.catDetails.categoryName," "),t.xp6(2),t.hij(" (",null==n.catDetails?null:n.catDetails.categoryId,")"),t.xp6(7),t.hij("",null==n.catDetails?null:n.catDetails.categoryId," "),t.xp6(6),t.hij("",null==n.catDetails?null:n.catDetails.categoryName," "),t.xp6(6),t.Oqu(null==n.catDetails?null:n.catDetails.slug),t.xp6(6),t.hij(" ",null==n.catDetails?null:n.catDetails.description,""))}})}return o})(),on=(()=>{class o{constructor(e,i,n){this._PS=e,this.routes=i,this._notifier=n,this.productId=""}ngOnInit(){this.routes.params.subscribe(e=>{e&&e.productId&&(this.productId=e.productId,this.getProductDetails())})}getProductDetails(){this._PS.getProductDetails(this.productId).subscribe(e=>{e.meta.status?this.productDetails=e.data:(this.productDetails=[],this._notifier.showWarning(e.meta.msg,""))},e=>{this._notifier.showError("Something went wrong","Error")})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(C.M),t.Y36(p.gz),t.Y36(S.lG))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-details"]],decls:51,vars:8,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between","row"],[1,"col-12","col-sm-8","col-md-10","col-lg-10"],["href","javascript:history.back()"],[1,"bi","bi-arrow-left-short","me-4"],[1,"account_dashboard","profile_dashboard","mb-5"],[1,"login-white-box"],[1,"my-vender-item","mb-0"],[1,"row"],[1,"col-12","col-sm-4","col-md-4","col-lg-3"],[1,"catdetailimg"],["alt","",3,"src"],[1,"col-12","col-sm-8","col-md-8","col-lg-9","bdr-lft"],[1,"my-vender-body"],[1,"mb-4"],[1,"small"],[1,"col-12","col-sm-6","col-md-6","col-lg-6"],[1,"profile-info"],[1,"text-success"],[1,"col-12","col-sm-6","col-md-6","col-lg-6","mt-2"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3")(4,"a",3),t._UZ(5,"i",4),t.qZA(),t._uU(6,"Product"),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10),t._UZ(13,"img",11),t.qZA()(),t.TgZ(14,"div",12)(15,"div",13)(16,"h4",14),t._uU(17),t.TgZ(18,"span",15),t._uU(19),t.qZA()(),t.TgZ(20,"div",8)(21,"div",16)(22,"div",17)(23,"h6"),t._uU(24,"Category ID: "),t.TgZ(25,"span",18),t._uU(26),t.qZA()()()(),t.TgZ(27,"div",16)(28,"div",17)(29,"h6"),t._uU(30,"Sub Category ID: "),t.TgZ(31,"span",18),t._uU(32),t.qZA()()()(),t.TgZ(33,"div",19)(34,"div",17)(35,"h6"),t._uU(36,"Category: "),t.TgZ(37,"span",18),t._uU(38),t.qZA()()()(),t.TgZ(39,"div",19)(40,"div",17)(41,"h6"),t._uU(42,"Sub Category: "),t.TgZ(43,"span",18),t._uU(44),t.qZA()()()(),t.TgZ(45,"div",19)(46,"div",17)(47,"h6"),t._uU(48,"Product Details: "),t.TgZ(49,"span",18),t._uU(50),t.qZA()()()()()()()()()()()()),2&i&&(t.xp6(13),t.s9C("src",null==n.productDetails?null:n.productDetails.productImg[0],t.LSH),t.xp6(4),t.hij("",null==n.productDetails?null:n.productDetails.productName,", "),t.xp6(2),t.hij(" ",null==n.productDetails?null:n.productDetails.productId," "),t.xp6(7),t.hij("",null==n.productDetails||null==n.productDetails.category?null:n.productDetails.category.categoryId," "),t.xp6(6),t.hij("",null==n.productDetails||null==n.productDetails.subCategory?null:n.productDetails.subCategory.categoryId," "),t.xp6(6),t.hij("",null==n.productDetails||null==n.productDetails.category?null:n.productDetails.category.categoryName," "),t.xp6(6),t.hij("",null==n.productDetails||null==n.productDetails.subCategory?null:n.productDetails.subCategory.categoryName," "),t.xp6(6),t.Oqu(null==n.productDetails?null:n.productDetails.productName))}})}return o})(),nn=(()=>{class o{constructor(e,i,n){this._PS=e,this.routes=i,this._notifier=n,this.catId=""}ngOnInit(){this.routes.params.subscribe(e=>{e&&e.catId&&(this.catId=e.catId,this.getCategoryDetails())})}getCategoryDetails(){this._PS.getCategoryDetails(this.catId).subscribe(e=>{e.meta.status?this.catDetails=e.data:(this.catDetails=[],this._notifier.showWarning(e.meta.msg,""))},e=>{this._notifier.showError("Something went wrong","Error")})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(C.M),t.Y36(p.gz),t.Y36(S.lG))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-sub-cat-details"]],decls:45,vars:8,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between","row"],[1,"col-12","col-sm-8","col-md-10","col-lg-10"],["href","javascript:history.back()"],[1,"bi","bi-arrow-left-short","me-4"],[1,"account_dashboard","profile_dashboard","mb-5"],[1,"login-white-box"],[1,"my-vender-item","mb-0"],[1,"row"],[1,"col-12","col-sm-4","col-md-4","col-lg-3"],[1,"catdetailimg"],[3,"src","alt"],[1,"col-12","col-sm-8","col-md-8","col-lg-9","bdr-lft"],[1,"my-vender-body"],[1,"mb-4"],[1,"small"],[1,"col-6","col-sm-4","col-md-4","col-lg-4"],[1,"profile-info"],[1,"text-success"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3")(4,"a",3),t._UZ(5,"i",4),t.qZA(),t._uU(6,"Sub Category"),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10),t._UZ(13,"img",11),t.qZA()(),t.TgZ(14,"div",12)(15,"div",13)(16,"h4",14),t._uU(17),t.TgZ(18,"span",15),t._uU(19),t.qZA()(),t.TgZ(20,"div",8)(21,"div",16)(22,"div",17)(23,"h6"),t._uU(24,"Sub Category ID: "),t.TgZ(25,"span",18),t._uU(26),t.qZA()()()(),t.TgZ(27,"div",16)(28,"div",17)(29,"h6"),t._uU(30,"Sub Category: "),t.TgZ(31,"span",18),t._uU(32),t.qZA()()()(),t.TgZ(33,"div",16)(34,"div",17)(35,"h6"),t._uU(36,"Slug "),t.TgZ(37,"span",18),t._uU(38),t.qZA()()()(),t.TgZ(39,"div",16)(40,"div",17)(41,"h6"),t._uU(42,"Description "),t.TgZ(43,"span",18),t._uU(44),t.qZA()()()()()()()()()()()()),2&i&&(t.xp6(13),t.s9C("src",null==n.catDetails?null:n.catDetails.categoryImg,t.LSH),t.s9C("alt",null==n.catDetails?null:n.catDetails.categoryName),t.xp6(4),t.hij("",null==n.catDetails?null:n.catDetails.categoryName," "),t.xp6(2),t.hij(" (",null==n.catDetails?null:n.catDetails.categoryId,")"),t.xp6(7),t.Oqu(null==n.catDetails?null:n.catDetails.categoryId),t.xp6(6),t.Oqu(null==n.catDetails?null:n.catDetails.categoryName),t.xp6(6),t.Oqu(null==n.catDetails?null:n.catDetails.slug),t.xp6(6),t.Oqu(null==n.catDetails?null:n.catDetails.description))}})}return o})();var ct=f(50412),L=f(15861);function rn(o,a){if(1&o&&(t.TgZ(0,"option",53),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",null==e?null:e._id),t.xp6(1),t.hij(" ",null==e?null:e.categoryName,"")}}function an(o,a){if(1&o&&(t.TgZ(0,"option",53),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",null==e?null:e._id),t.xp6(1),t.hij(" ",null==e?null:e.categoryName,"")}}function sn(o,a){if(1&o&&(t.TgZ(0,"option",53),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",null==e?null:e._id),t.xp6(1),t.hij(" ",null==e?null:e.productName,"")}}function ln(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",54)(1,"div",55)(2,"button",56),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.removeFile("image",r))}),t.qZA(),t.TgZ(3,"div",57)(4,"img",58),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.downloadImage(r))}),t.qZA()(),t.TgZ(5,"h6"),t._uU(6),t.qZA()()()}if(2&o){const e=a.$implicit;t.xp6(4),t.Q6J("src",e,t.LSH),t.xp6(2),t.Oqu(e.split("-").pop())}}function cn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",62),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.downloadImage(n))}),t.qZA()}}function dn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",63),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.downloadImage(n))}),t.qZA()}}function un(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",64),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.downloadImage(n))}),t.qZA()}}function pn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",54)(1,"div",55)(2,"button",56),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.removeFile("artwork",r))}),t.qZA(),t.TgZ(3,"div",57),t.YNc(4,cn,1,0,"img",59),t.YNc(5,dn,1,0,"img",60),t.YNc(6,un,1,0,"img",61),t.qZA(),t.TgZ(7,"h6"),t._uU(8),t.qZA()()()}if(2&o){const e=a.$implicit;t.xp6(4),t.Q6J("ngIf","pdf"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","ai"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","cdr"===e.split(".").pop()),t.xp6(2),t.Oqu(e.split("-").pop())}}function gn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",62),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.downloadImage(n))}),t.qZA()}}function mn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",68),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.downloadImage(n))}),t.qZA()}}function _n(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",69),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.downloadImage(n))}),t.qZA()}}function hn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",70),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.downloadImage(n))}),t.qZA()}}function fn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",54)(1,"div",55)(2,"button",56),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.removeFile("attachment",r))}),t.qZA(),t.TgZ(3,"div",57),t.YNc(4,gn,1,0,"img",59),t.YNc(5,mn,1,0,"img",65),t.YNc(6,_n,1,0,"img",66),t.YNc(7,hn,1,0,"img",67),t.qZA(),t.TgZ(8,"h6"),t._uU(9),t.qZA()()()}if(2&o){const e=a.$implicit;t.xp6(4),t.Q6J("ngIf","pdf"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","xls"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","word"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","csv"===e.split(".").pop()),t.xp6(2),t.Oqu(e.split("-").pop())}}function bn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",62),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.downloadImage(n))}),t.qZA()}}function vn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",68),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.downloadImage(n))}),t.qZA()}}function Cn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",69),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.downloadImage(n))}),t.qZA()}}function yn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",70),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.downloadImage(n))}),t.qZA()}}function Zn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",54)(1,"div",55)(2,"button",56),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.removeFile("certificate",r))}),t.qZA(),t.TgZ(3,"div",57),t.YNc(4,bn,1,0,"img",59),t.YNc(5,vn,1,0,"img",65),t.YNc(6,Cn,1,0,"img",66),t.YNc(7,yn,1,0,"img",67),t.qZA(),t.TgZ(8,"h6"),t._uU(9),t.qZA()()()}if(2&o){const e=a.$implicit;t.xp6(4),t.Q6J("ngIf","pdf"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","xls"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","word"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","csv"===e.split(".").pop()),t.xp6(2),t.Oqu(e.split("-").pop())}}function xn(o,a){1&o&&(t.TgZ(0,"span",71),t._uU(1," Product title is required"),t.qZA())}let Zt=(()=>{class o{constructor(e,i,n,r,s,c){this._notify=e,this.PS=i,this.FB=n,this.ngxService=r,this.router=s,this.commonService=c,this.customerChange=new t.vpe,this.categoryType="ROOT",this.productDetails=null,this.selectedCategory=null,this.selectedSubCategory=null,this.selectedProduct=null,this.fields=[],this.categorySearch="",this.subCategorySearch="",this.productSearch="",this.submitted=!1,this.productImages=[],this.artworks=[],this.attachments=[],this.certificates=[],this.objForm={},this.formGroup=this.FB.group({productTitle:["",[l.kI.required]],estimatedAnnualConsumption:["",[]]})}ngOnInit(){this.getCategories(),this.selectedSubCategory=this.subCatergoryId,this.selectedCategory=this.catergoryId,this.selectedProduct=this.adminProductId,this.getSubCategories(),this.getProducts(),this.getCustomerProductDetails()}update(){this.customerChange.emit(!1)}getCustomerProductDetails(){this.ngxService.start(),this.PS.getCustomerProductDetails(this.customerId,this.productId).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?(this.productDetails=e?.data,this.formGroup.patchValue({productTitle:this.productDetails?.productTitle,estimatedAnnualConsumption:this.productDetails?.estimatedAnnualConsumption}),this.productImages=this.productDetails.productImages,this.artworks=this.productDetails.productArtworks,this.attachments=this.productDetails.productAttachments,this.certificates=this.productDetails.resellerCertificate,e?.data?.adminProduct?.productForm.map(i=>{i.multiple&&Object.keys(e?.data?.productForm).map(n=>{i.key===n&&(e.data.productForm[n]=e?.data?.productForm[n].value?e?.data?.productForm[n].value:e?.data?.productForm[n])})}),this.form={components:e?.data?.adminProduct?.productForm||[]},this.submission={data:e?.data?.productForm}):this._notify.showError(e.meta.msg,"Error")})}categoryChange(e){this.selectedCategory=e?.target?.value,this.getSubCategories(),this.selectedSubCategory="",this.selectedProduct=""}subCategoryChange(e){this.selectedSubCategory=e?.target?.value,this.getProducts(),this.selectedProduct=""}productChange(e){this.selectedProduct=e?.target?.value,this.getCustomerProductDetails()}addQueryParams(){let e=new P.LE;return e=e.append("type","ROOT"),e=e.append("searchKey",this.categorySearch),e}getCategories(){this.ngxService.start(),this.PS.getCategoryList(this.categoryType,"active",this.categorySearch,"","").pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?this.categoryList=e?.data:this._notify.showError(e.meta.msg,"Error")})}subCategoryQueryParams(){let e=new P.LE;return e=e.append("categoryId",this.selectedCategory),e=e.append("searchKey",this.subCategorySearch),e}getSubCategories(){this.selectedCategory&&(this.ngxService.start(),this.PS.getSubCategoryList("","",this.subCategorySearch,this.selectedCategory,"","").pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?this.subCategoryList=e?.data:this._notify.showError(e.meta.msg,"Error")}))}productQueryParams(){let e=new P.LE;return e=e.append("categoryId",this.selectedCategory),e=e.append("subCategoryId",this.selectedSubCategory),e=e.append("searchKey",this.productSearch),e}getProducts(){this.selectedSubCategory&&(this.ngxService.start(),this.PS.getAdminProducts(this.productQueryParams()).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?this.productsList=e.data:this._notify.showError(e.meta.msg,"Error")}))}getProductDetails(){this.ngxService.start(),this.productDetails=null,this.fields=[],this.PS.getAdminProductDetail(this.selectedProduct).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?this.form={components:e?.data?.productForm||[]}:this._notify.showError(e.meta.msg,"Error")})}fileValue(e){var i=e.target.files[0],n=e.target.value,r=n.split(".").pop();"jpg"==r||"svg"==r||"jpeg"==r||"png"==r||"gif"==r?(n.replace(/^.*[\\\/]/,"").split(".").slice(0,-1).join("."),i&&this.uploadImage("productImage",i)):alert("File not supported. Kindly Upload the Image of below given extension ")}uploadImage(e,i){this.ngxService.start();let n=new FormData;n.append("image",i),this.commonService.uploadImage(n).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(r=>{r.meta.status?this.productImages.push(r?.data):this._notify.showError(r.meta.msg,"Error")})}uploadArtwork(e){var i=e.target.files[0],r=e.target.value.split(".").pop();"ai"==r||"cdr"==r||"pdf"==r?i&&this.uploadDoc("artwork",i):alert("File not supported. Kindly Upload the file of below given extension ")}uploadAttachment(e){var i=e.target.files[0],r=e.target.value.split(".").pop();"pdf"==r||"xls"==r||"word"==r||"csv"==r?i&&this.uploadDoc("attachment",i):alert("File not supported. Kindly Upload the file of below given extension ")}uploadCertificate(e){var i=e.target.files[0],r=e.target.value.split(".").pop();"pdf"==r||"xls"==r||"word"==r||"csv"==r?i&&this.uploadDoc("certificate",i):alert("File not supported. Kindly Upload the file of below given extension ")}uploadDoc(e,i){this.ngxService.start();let n=new FormData;n.append("doc",i),this.commonService.uploadDocument(n).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(r=>{r.meta.status?("artwork"===e&&this.artworks.push(r?.data),"attachment"===e&&this.attachments.push(r?.data),"certificate"===e&&this.certificates.push(r?.data)):this._notify.showError(r.meta.msg,"Error")})}removeFile(e,i){this.ngxService.start();let n={filePath:i.split("/").pop()};this.commonService.removeFile(n).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(r=>{if(r.meta.status){if("image"===e){const s=this.productImages.indexOf(i);this.productImages.splice(s,1)}if("artwork"===e){const s=this.artworks.indexOf(i);this.artworks.splice(s,1)}if("attachment"===e){const s=this.attachments.indexOf(i);this.attachments.splice(s,1)}if("certificate"===e){const s=this.certificates.indexOf(i);this.certificates.splice(s,1)}}else this._notify.showError(r.meta.msg,"Error")})}onChangeForm(e){this.commonService.getUnit().subscribe(i=>{i&&(this.objForm.hasOwnProperty(i.key)?this.objForm[i.key].unit=i.value:this.objForm={...this.objForm,[i.key]:{value:"",unit:i.value}})})}onSubmit(e){Object.keys(this.objForm).length&&Object.keys(this.objForm).map(i=>{this.objForm[i].value="object"==typeof e.data[i]?e.data[i].value:e.data[i],e.data[i]=this.objForm[i]}),this.productForm=e.data,this.cloneProduct()}test(){this.formio.formio.checkValidity(null,!1,null,!0)||console.log("The form is invalid!"),this.formio&&this.formio.formio.emit("submitButton")}cloneProduct(){this.ngxService.start(),this.submitted=!1,this.PS.cloneProduct({productTitle:this.formGroup.value.productTitle,estimatedAnnualConsumption:this.formGroup.value.estimatedAnnualConsumption?this.formGroup.value.estimatedAnnualConsumption:0,customerId:this.customerId,categoryId:this.selectedCategory,subCategoryId:this.selectedSubCategory,productId:this.selectedProduct,productForm:this.productForm,productImages:this.productImages,productArtworks:this.artworks,productAttachments:this.attachments,resellerCertificate:this.certificates}).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(i=>{i.meta.status?($("#CongrulationsModal").modal("show"),setTimeout(()=>{this.router.navigate(["/product/list"]),$("#CongrulationsModal").modal("hide")},1e3),this.customerChange.emit(!0)):this._notify.showError(i.meta.msg,"Error")})}submitForm(){this.formio&&this.formio.formio.emit("submitButton")}destroyCom(){this.update()}downloadImage(e){return(0,L.Z)(function*(){const n=yield(yield fetch(`${e}?pactap=1`)).blob(),r=e.substring(e.lastIndexOf("/")+1),s=document.createElement("a"),c=window.URL.createObjectURL(n);s.href=c,s.download=r,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(e)})()}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(q.l),t.Y36(C.M),t.Y36(l.qu),t.Y36(x.LA),t.Y36(p.F0),t.Y36(U.v))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-clone-product"]],viewQuery:function(i,n){if(1&i&&t.Gf(v.k4,5),2&i){let r;t.iGM(r=t.CRH())&&(n.formio=r.first)}},inputs:{customerId:"customerId",catergoryId:"catergoryId",subCatergoryId:"subCatergoryId",productId:"productId",adminProductId:"adminProductId",cloneModalStatus:"cloneModalStatus"},outputs:{customerChange:"customerChange"},decls:140,vars:14,consts:[[1,"modal","fade","show","d-block","bg-modal"],[1,"modal-dialog","modal-dialog-centered","clone-modal-dialog"],[1,"modal-content","feedback-popup"],[1,"modal-header","justify-content-center"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-box","form-box-dashboard"],[1,"p-3"],[1,"row"],[1,"col-6","col-sm-4","col-md-3","col-lg-3"],[1,"form-group"],[1,"form-control","form-ctrl",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"account_dashboard"],[1,"form-box"],[1,"row","rowNplus"],[1,"col-12","col-sm-6","col-md-3","col-lg-3","brd-rgt"],[1,"d-flex","justify-content-between","align-items-center"],[1,"info-icon-green"],["title","Information",1,"bi","bi-info"],[1,"d-flex"],[1,"upload-doc-item","Upload-plus"],[1,"image-upload"],["type","file","name","","id","productImg",3,"change"],["for","productImg","id","file-label",1,"upload-field"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/upload-icon.png","alt",""],["id","productImgName"],[1,"d-flex","flex-wrap"],["class","form-check-inline text-center",4,"ngFor","ngForOf"],["type","file","name","","id","artwork",3,"change"],["for","artwork","id","file-label",1,"upload-field"],["id","filename"],["type","file","name","","id","attachment",3,"change"],["for","attachment","id","file-label",1,"upload-field"],[1,"col-12","col-sm-6","col-md-3","col-lg-3"],["type","file","name","","id","certificate",3,"change"],["for","certificate","id","file-label",1,"upload-field"],[1,"row",3,"formGroup"],[1,"col-6","col-sm-12","col-md-6","col-lg-6"],[1,"col-form-label","field-required",2,"line-height","25px"],["type","text","formControlName","productTitle",1,"form-ctrl","form-control"],["style","color: red;",4,"ngIf"],[1,"col-form-label"],[1,"info-icon-green",2,"display","inline-block"],["type","text","formControlName","estimatedAnnualConsumption",1,"form-ctrl","form-control"],[3,"form","submission","submit","change"],[1,"row","justify-content-end","mt-5"],[1,"col-6","col-sm-4","col-md-3"],["type","button","aria-label","Close",1,"btn","btn-block","btn-lg","btn-light","btn-sumbit",3,"click"],["type","submit",1,"btn","btn-block","btn-success",3,"click"],[3,"value"],[1,"form-check-inline","text-center"],["role","alert",1,"alert-photo","alert","alert-warning","alert-dismissible","fade","show"],["type","button",1,"btn-close",3,"click"],[1,"alert-photo-img"],[3,"src","click"],["src","assets/images/pdf.png",3,"click",4,"ngIf"],["src","assets/images/illustrator.png",3,"click",4,"ngIf"],["src","assets/images/cdr.png",3,"click",4,"ngIf"],["src","assets/images/pdf.png",3,"click"],["src","assets/images/illustrator.png",3,"click"],["src","assets/images/cdr.png",3,"click"],["src","assets/images/xls.png",3,"click",4,"ngIf"],["src","assets/images/excel.png",3,"click",4,"ngIf"],["src","assets/images/csv.png",3,"click",4,"ngIf"],["src","assets/images/xls.png",3,"click"],["src","assets/images/excel.png",3,"click"],["src","assets/images/csv.png",3,"click"],[2,"color","red"]],template:function(i,n){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5,"Clone Product"),t.qZA(),t.TgZ(6,"button",5),t.NdJ("click",function(){return n.destroyCom()}),t.qZA()(),t.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"label"),t._uU(14,"Category"),t.qZA(),t.TgZ(15,"select",12),t.NdJ("ngModelChange",function(s){return n.selectedCategory=s})("change",function(s){return n.categoryChange(s)}),t.TgZ(16,"option",13),t._uU(17,"Select Category"),t.qZA(),t.YNc(18,rn,2,2,"option",14),t.qZA()()(),t.TgZ(19,"div",10)(20,"div",11)(21,"label"),t._uU(22,"Sub Category"),t.qZA(),t.TgZ(23,"select",12),t.NdJ("ngModelChange",function(s){return n.selectedSubCategory=s})("change",function(s){return n.subCategoryChange(s)}),t.TgZ(24,"option",13),t._uU(25,"Select Sub Category"),t.qZA(),t.YNc(26,an,2,2,"option",14),t.qZA()()(),t.TgZ(27,"div",10)(28,"div",11)(29,"label"),t._uU(30,"Products"),t.qZA(),t.TgZ(31,"select",12),t.NdJ("ngModelChange",function(s){return n.selectedProduct=s})("change",function(s){return n.productChange(s)}),t.TgZ(32,"option",13),t._uU(33,"Select Product"),t.qZA(),t.YNc(34,sn,2,2,"option",14),t.qZA()()()(),t.TgZ(35,"div")(36,"div",15)(37,"div",16)(38,"div",17)(39,"div",18)(40,"div",11)(41,"label",19),t._uU(42,"Upload Product Images "),t.TgZ(43,"em",20),t._UZ(44,"i",21),t.qZA()(),t.TgZ(45,"div",22)(46,"div",23)(47,"div",24)(48,"input",25),t.NdJ("change",function(s){return n.fileValue(s)}),t.qZA(),t.TgZ(49,"label",26)(50,"div",27),t._UZ(51,"img",28)(52,"br"),t.TgZ(53,"h6",29),t._uU(54,"File format jpeg, jpg, png, webp "),t.qZA()()()()()()(),t.TgZ(55,"div",11)(56,"div",30),t.YNc(57,ln,7,2,"div",31),t.qZA()()(),t.TgZ(58,"div",18)(59,"div",11)(60,"label",19),t._uU(61,"Artwork "),t.TgZ(62,"em",20),t._UZ(63,"i",21),t.qZA()(),t.TgZ(64,"div",22)(65,"div",23)(66,"div",24)(67,"input",32),t.NdJ("change",function(s){return n.uploadArtwork(s)}),t.qZA(),t.TgZ(68,"label",33)(69,"div",27),t._UZ(70,"img",28)(71,"br"),t.TgZ(72,"h6",34),t._uU(73,"File format .ai, .cdr, .pdf"),t._UZ(74,"br"),t._uU(75,"Max file size 20 MB"),t.qZA()()()()()()(),t.TgZ(76,"div",11)(77,"div",30),t.YNc(78,pn,9,4,"div",31),t.qZA()()(),t.TgZ(79,"div",18)(80,"div",11)(81,"label",19),t._uU(82,"Additional Attachments "),t.TgZ(83,"em",20),t._UZ(84,"i",21),t.qZA()(),t.TgZ(85,"div",22)(86,"div",23)(87,"div",24)(88,"input",35),t.NdJ("change",function(s){return n.uploadAttachment(s)}),t.qZA(),t.TgZ(89,"label",36)(90,"div",27),t._UZ(91,"img",28)(92,"br"),t.TgZ(93,"h6",34),t._uU(94,"File format .pdf, .xls, .word, .csv"),t.qZA()()()()()()(),t.TgZ(95,"div",11)(96,"div",30),t.YNc(97,fn,10,5,"div",31),t.qZA()()(),t.TgZ(98,"div",37)(99,"div",11)(100,"label",19),t._uU(101,"Reseller Certificate "),t.TgZ(102,"em",20),t._UZ(103,"i",21),t.qZA()(),t.TgZ(104,"div",22)(105,"div",23)(106,"div",24)(107,"input",38),t.NdJ("change",function(s){return n.uploadCertificate(s)}),t.qZA(),t.TgZ(108,"label",39)(109,"div",27),t._UZ(110,"img",28)(111,"br"),t.TgZ(112,"h6",34),t._uU(113,"File format .pdf, .xls, .word, .csv"),t.qZA()()()()()()(),t.TgZ(114,"div",11)(115,"div",30),t.YNc(116,Zn,10,5,"div",31),t.qZA()()()()()()(),t.TgZ(117,"div")(118,"div",40)(119,"div",41)(120,"div",11)(121,"label",42),t._uU(122,"Product Title"),t.qZA(),t._UZ(123,"input",43),t.YNc(124,xn,2,0,"span",44),t.qZA()(),t.TgZ(125,"div",41)(126,"div",11)(127,"label",45),t._uU(128,"Estimated Annual Consumption \xa0 "),t.TgZ(129,"em",46),t._UZ(130,"i",21),t.qZA()(),t._UZ(131,"input",47),t.qZA()()(),t.TgZ(132,"formio",48),t.NdJ("submit",function(s){return n.onSubmit(s)})("change",function(s){return n.onChangeForm(s)}),t.qZA(),t.TgZ(133,"div",49)(134,"div",50)(135,"button",51),t.NdJ("click",function(){return n.destroyCom()}),t._uU(136,"Cancel"),t.qZA()(),t.TgZ(137,"div",50)(138,"button",52),t.NdJ("click",function(){return n.submitForm()}),t._uU(139,"Submit"),t.qZA()()()()()()()()()()),2&i){let r;t.xp6(15),t.Q6J("ngModel",n.selectedCategory),t.xp6(3),t.Q6J("ngForOf",n.categoryList),t.xp6(5),t.Q6J("ngModel",n.selectedSubCategory),t.xp6(3),t.Q6J("ngForOf",n.subCategoryList),t.xp6(5),t.Q6J("ngModel",n.selectedProduct),t.xp6(3),t.Q6J("ngForOf",n.productsList),t.xp6(23),t.Q6J("ngForOf",n.productImages),t.xp6(21),t.Q6J("ngForOf",n.artworks),t.xp6(19),t.Q6J("ngForOf",n.attachments),t.xp6(19),t.Q6J("ngForOf",n.certificates),t.xp6(2),t.Q6J("formGroup",n.formGroup),t.xp6(6),t.Q6J("ngIf",(null==(r=n.formGroup.get("productTitle"))?null:r.hasError("required"))&&((null==(r=n.formGroup.get("productTitle"))?null:r.dirty)||(null==(r=n.formGroup.get("productTitle"))?null:r.touched))),t.xp6(8),t.Q6J("form",n.form)("submission",n.submission)}},dependencies:[d.sg,d.O5,v.k4,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u,l.On],styles:[".clone-modal-dialog[_ngcontent-%COMP%]{width:80%!important;max-width:80%!important}.bg-modal[_ngcontent-%COMP%]{background-color:#7d7d7d3b}"]})}return o})();const Tn=function(o){return["/products-master/create-customer-product",o]};function wn(o,a){if(1&o&&(t.TgZ(0,"a",50),t._uU(1,"+ Add Product"),t.qZA()),2&o){const e=t.oxw();t.Q6J("routerLink",t.VKq(1,Tn,e.customerId))}}function qn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",66)(1,"div",67),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(),r=n.$implicit,s=n.index,c=t.oxw();return t.KtG(c.changeProductStatus(r,s))}),t._UZ(2,"input",68)(3,"label",69)(4,"span",70),t.qZA(),t.TgZ(5,"div",71)(6,"button",72),t._UZ(7,"i",73),t.qZA(),t.TgZ(8,"ul",74)(9,"li")(10,"a",75),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.cloneProduct(n))}),t._UZ(11,"img",76),t._uU(12," Clone Product"),t.qZA()(),t.TgZ(13,"li")(14,"a",75),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.deleteProductModal(n._id))}),t._UZ(15,"img",77),t._uU(16," Delete"),t.qZA()()()()()}if(2&o){const e=t.oxw(),i=e.index,n=e.$implicit;t.xp6(2),t.MGl("id","demo_",i,""),t.Q6J("checked","ACTIVE"===(null==n?null:n.status))("disabled",!0),t.xp6(1),t.MGl("for","demo_",i,"")}}const dt=function(o,a){return["/products-master/customer-products-details",o,a]};function Pn(o,a){if(1&o&&(t.TgZ(0,"a",78),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("routerLink",t.WLB(2,dt,i.customerId,null==e?null:e._id)),t.xp6(1),t.Oqu(null!=e&&null!=e.adminProduct&&e.adminProduct.productTitle?null==e||null==e.adminProduct?null:e.adminProduct.productTitle:null==e?null:e.productTitle)}}const An=function(o){return["/products-master/detail",o]};function kn(o,a){if(1&o&&(t.TgZ(0,"a",78),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(2,An,null==e?null:e._id)),t.xp6(1),t.hij(']">',null!=e&&null!=e.adminProduct&&e.adminProduct.productTitle?null==e||null==e.adminProduct?null:e.adminProduct.productTitle:null==e?null:e.productTitle,"")}}function In(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"p")(2,"span",79),t._uU(3),t.qZA(),t._uU(4),t.qZA(),t.BQk()),2&o){const e=a.$implicit;t.xp6(3),t.hij("",e.label,":"),t.xp6(1),t.hij(" ",e.value,"")}}function Un(o,a){if(1&o&&(t.TgZ(0,"a",80),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("routerLink",t.WLB(2,dt,i.customerId,null==e?null:e._id)),t.xp6(1),t.hij("No of Quotations - ",null==e?null:e.quotation,"")}}function Mn(o,a){if(1&o&&(t.TgZ(0,"a",81),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij("No of Quotations - ",null==e?null:e.quotation,"")}}function Sn(o,a){if(1&o&&(t.TgZ(0,"a",81),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij("Shared with - ",null==e?null:e.shared,"")}}function On(o,a){if(1&o&&(t.TgZ(0,"a",80),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("routerLink",t.WLB(2,dt,i.customerId,null==e?null:e._id)),t.xp6(1),t.hij("Shared with - ",null==e?null:e.shared," ")}}function Nn(o,a){if(1&o&&(t.TgZ(0,"div",51)(1,"div",52)(2,"div",53)(3,"h6"),t._uU(4),t.qZA(),t.YNc(5,qn,17,4,"div",54),t.qZA(),t.TgZ(6,"div",55),t._UZ(7,"img",56),t.qZA(),t.TgZ(8,"div",57)(9,"div",58)(10,"h6",59),t.YNc(11,Pn,2,5,"a",60),t.YNc(12,kn,2,4,"a",60),t.qZA(),t.TgZ(13,"div"),t._uU(14),t.qZA(),t._UZ(15,"br"),t.TgZ(16,"div",61),t.YNc(17,In,5,2,"ng-container",62),t.qZA()(),t.TgZ(18,"div",63),t.YNc(19,Un,2,5,"a",64),t.YNc(20,Mn,2,1,"a",65),t.YNc(21,Sn,2,1,"a",65),t.YNc(22,On,2,5,"a",64),t.qZA()()()()),2&o){const e=a.$implicit,i=t.oxw();t.xp6(4),t.hij("Product ID: ",null==e?null:e.customerProductId,""),t.xp6(1),t.Q6J("ngIf",i.productPermission.update),t.xp6(2),t.Q6J("src",(null==e?null:e.productImages[0])||(null==e||null==e.adminProduct?null:e.adminProduct.productImg[0]),t.LSH),t.xp6(4),t.Q6J("ngIf",i.customerId),t.xp6(1),t.Q6J("ngIf",!i.customerId),t.xp6(2),t.Oqu(null==e||null==e.adminProduct?null:e.adminProduct.productName),t.xp6(3),t.Q6J("ngForOf",null==e?null:e.enabledContents),t.xp6(2),t.Q6J("ngIf","APPROVED"===(null==e?null:e.state)&&(null==e?null:e.quotation)>0),t.xp6(1),t.Q6J("ngIf","APPROVED"===(null==e?null:e.state)&&(null==e?null:e.quotation)<1),t.xp6(1),t.Q6J("ngIf","APPROVED"===(null==e?null:e.state)&&(null==e?null:e.shared)<1),t.xp6(1),t.Q6J("ngIf","APPROVED"===(null==e?null:e.state)&&(null==e?null:e.shared)>0)}}function Fn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-clone-product",82),t.NdJ("customerChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.update(n))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("customerId",e.customerId)("cloneModalStatus",e.cloneStatus)("catergoryId",e.cloneCategoryId)("subCatergoryId",e.cloneSubCategoryId)("productId",e.cloneProductId)("adminProductId",e.cloneAdminProductId)}}const ut=function(o){return[o]},et=function(){return{exact:!0}},Dn=function(o){return["/products-master/customer-products",o]},Jn=function(o,a){return{firstName:o,lastName:a}},Qn=function(o,a){return["/products-master/select",o,a]};let En=(()=>{class o{constructor(e,i,n,r,s,c){this._US=e,this.routes=i,this.ngxService=n,this._CS=r,this._notifier=s,this.router=c,this.selectedProduct="",this.customerId="",this.firstName="",this.lastName="",this.permissionsArr=[],this.productPermission={read:!1,add:!1,update:!1,delete:!1},this.searchKey="",this.cloneStatus=!1,this.cloneCategoryId="",this.cloneSubCategoryId="",this.cloneProductId="",this.cloneAdminProductId=""}ngOnInit(){this.routes.params.subscribe(e=>{e&&e.customerId&&(this.customerId=e.customerId,this.products())}),this.routes.queryParams.subscribe(e=>{e&&e.firstName&&(this.firstName=e.firstName,e.lastName&&(this.lastName=e.lastName),this.customerName=this.firstName+" "+this.lastName)}),this._US.getPermissions().subscribe(e=>{this.permissionsArr=e,Object.keys(this.productPermission).map(i=>{this.canPerformAction("Customer Listing",i)})})}canPerformAction(e,i){this.productPermission[i]=this._US.hasPermission(e,i,this.permissionsArr)}addQueryParams(){let e=new P.LE;return e=e.append("searchKey",this.searchKey),e}searchData(e){this.searchKey=e?.target?.value,this.products()}products(){this.ngxService.start(),this._CS.getProductList(this.addQueryParams(),this.customerId).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e?.meta?.status?(this.myProducts=e.data,this.myProducts?.map(i=>{i.enabledContents=[],i.adminProduct?.productForm?.map(n=>{if("panel"===n.type)n.components.map(r=>{if(r.enabled)if("object"==typeof i.productForm?.[r.key])if("custom-selectboxes"===r.type){let s=[];r.values.map(c=>{i.productForm[r.key][c.value]&&s.push(c.label)}),i.enabledContents.push({label:r.label,value:`${s.join(", ")}`})}else i.enabledContents.push({label:r.label,value:`${i.productForm?.[r.key].value} ${i.productForm?.[r.key].unit}`});else if("custom-select"===r.type){let s="";r.data.values.map(c=>{i.productForm[r.key]===c.value&&(s=c.label)}),i.enabledContents.push({label:r.label,value:`${s}`})}else if("custom-radio"===r.type){let s="";r.values.map(c=>{i.productForm[r.key]===c.value&&(s=c.label)}),i.enabledContents.push({label:r.label,value:`${s}`})}else i.enabledContents.push({label:r.label,value:i.productForm?.[r.key]})});else if("columns"===n.type)n.columns.map(r=>{r.components.map(s=>{if(s.enabled)if("object"==typeof i.productForm?.[s.key])if("custom-selectboxes"===s.type){let c=[];s.values.map(m=>{i.productForm[s.key][m.value]&&c.push(m.label)}),i.enabledContents.push({label:s.label,value:`${c.join(", ")}`})}else i.enabledContents.push({label:s.label,value:`${i.productForm?.[s.key].value} ${i.productForm?.[s.key].unit}`});else if("custom-select"===s.type){let c="";s.data.values.map(m=>{i.productForm[s.key]===m.value&&(c=m.label)}),i.enabledContents.push({label:s.label,value:`${c}`})}else if("custom-radio"===s.type){let c="";s.values.map(m=>{i.productForm[s.key]===m.value&&(c=m.label)}),i.enabledContents.push({label:s.label,value:`${c}`})}else i.enabledContents.push({label:s.label,value:i.productForm?.[s.key]})})});else if(n.enabled)if("object"==typeof i.productForm[n.key])if("custom-selectboxes"===n.type){let r=[];n.values.map(s=>{i.productForm[n.key][s.value]&&r.push(s.label)}),i.enabledContents.push({label:n.label,value:`${r.join(", ")}`})}else i.enabledContents.push({label:n.label,value:`${i.productForm[n.key].value} ${i.productForm[n.key].unit}`});else if("custom-select"===n.type){let r="";n.data.values.map(s=>{i.productForm[n.key]===s.value&&(r=s.label)}),i.enabledContents.push({label:n.label,value:`${r}`})}else if("custom-radio"===n.type){let r="";n.values.map(s=>{i.productForm[n.key]===s.value&&(r=s.label)}),i.enabledContents.push({label:n.label,value:`${r}`})}else i.enabledContents.push({label:n.label,value:i.productForm?.[n.key]})})}),this.metaData=e.metadata[0]):this.myProducts=[]})}deleteProductModal(e){$("#DeleteModal").modal("show"),this.deleteProductId=e}deleteProduct(){this.ngxService.start(),this._CS.deleteProduct(this.deleteProductId,this.customerId).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{$("#DeleteModal").modal("hide"),e.meta.status?$("#successModal").modal("show"):$("#errerModal").modal("show"),this.products()})}changeProductStatus(e,i){this.selectedProduct=e,this.statusModalHeading="DEACTIVE"===e.status?"activate the product?":"deactivate the product?",$("#ProductActivationModal").modal("show"),$("#ProductActivationModal").on("hidden.bs.modal",n=>{this.statusModalHeading="",this.selectedProduct=void 0})}cloneProduct(e){this.cloneStatus=!1,$("#CloneProductModal").modal("show"),this.cloneCategoryId=e?.category?._id,this.cloneSubCategoryId=e?.subCategory?._id,this.cloneProductId=e?._id,this.cloneAdminProductId=e?.adminProduct?._id,this.cloneAdminProductId=e?.adminProduct?._id,this.cloneStatus=!0}activateProduct(){$("#ProductActivationModal").modal("hide"),this.ngxService.start(),this._CS.productStatus({_id:this.selectedProduct._id,status:"DEACTIVE"===this.selectedProduct.status?"ACTIVE":"DEACTIVE",customerId:this.customerId}).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(i=>{i.meta.status?(this.products(),this._notifier.showSuccess(i.meta.msg,"Success")):this._notifier.showWarning(i.meta.msg,"Error")})}editProduct(e){this.router.navigate(["/product/edit"],{queryParams:{id:e}})}singleShareWith(e){this.router.navigate(["/product/share-with"],{queryParams:{ids:[e]}})}update(e){this.cloneStatus=!1,e&&this.products()}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(J.K),t.Y36(p.gz),t.Y36(x.LA),t.Y36(ct.v),t.Y36(S.lG),t.Y36(p.F0))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-tab-products"]],decls:107,vars:34,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between"],["href","javascript:history.back()"],[1,"bi","bi-arrow-left-short","me-4"],[1,"account_dashboard","profile_dashboard"],[1,"login-white-box"],[1,"nav","nav-pills","nav-justified","tabs-nav"],[1,"nav-item"],["href","javascript:void(0)","routerLinkActive","active",1,"nav-link",3,"routerLink","routerLinkActiveOptions"],["href","javascript:void(0)","routerLinkActive","active",1,"nav-link",3,"routerLink","queryParams","routerLinkActiveOptions"],["id","myTabContent",1,"tab-content"],[1,"form-box","form-filter"],[1,"row","justify-content-between"],[1,"col-12","col-sm-4","col-md-3","col-lg-3"],[1,"searchgroup","form-group"],["type","text","placeholder","Search",1,"form-control","form-ctrl",3,"keyup"],["type","button",1,"btn","btn-link"],["src","assets/images/search-icon.png"],[1,"col-12","col-sm-5","col-md-6","col-lg-6","text-end"],[1,"form-group"],["href","javascript:void(0)",1,"btn","me-3","btn-sumbit","btn-white",3,"routerLink"],["src","assets/images/select-copy.png",1,"me-2"],["class","btn btn-sumbit btn-success",3,"routerLink",4,"ngIf"],[1,"row"],["class","col-12 col-sm-6 col-md-6 col-lg-4",4,"ngFor","ngForOf"],[3,"customerId","cloneModalStatus","catergoryId","subCatergoryId","productId","adminProductId","customerChange",4,"ngIf"],["id","ProductActivationModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","feedback-popup"],[1,"modal-header","justify-content-center"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"form-box","form-box-dashboard"],[1,"p-3"],[1,"title","text-center","mb-5"],[1,"fw400"],["type","submit",1,"btn","btn-block","btn-lg","btn-success","btn-sumbit",3,"click"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-block","btn-lg","btn-light","btn-sumbit"],["id","DeleteModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","button",1,"btn","btn-block","btn-lg","btn-success","btn-sumbit",3,"click"],["id","errerModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"congrulations","text-center"],[1,"congrulations-img"],["src","assets/images/errer-yellow-icon.png"],["id","successModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["src","assets/images/objects.png"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 130.2 130.2"],["fill","none","stroke","#fff","stroke-width","0","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#fff","stroke-width","10","stroke-linecap","round","stroke-miterlimit","10","points","100.2,40.2 51.5,88.8 29.8,67.5 ",1,"path","check"],[1,"btn","btn-sumbit","btn-success",3,"routerLink"],[1,"col-12","col-sm-6","col-md-6","col-lg-4"],[1,"product-item"],[1,"product-header","d-flex","justify-content-between","align-items-center"],["class","right-btns-dropdown",4,"ngIf"],[1,"product-tmb"],["alt","",3,"src"],[1,"product-body"],[1,"product-body-inner","mb-1"],[1,"border-b"],[3,"routerLink",4,"ngIf"],[1,"productDetailsDiv"],[4,"ngFor","ngForOf"],[1,"groups-btns","quoteQtyGrp"],["href","javascript:void(0)","class","btn btn-light btn-block text-success",3,"routerLink",4,"ngIf"],["href","javascript:void(0)","class","btn btn-light btn-block text-success",4,"ngIf"],[1,"right-btns-dropdown"],[1,"active-toggle","me-1",3,"click"],["type","checkbox",1,"input-switch",3,"id","checked","disabled"],[1,"label-switch",3,"for"],[1,"info-text"],[1,"dropdown","ms-2"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-link","dropdown-toggle"],[1,"fa","fa-ellipsis-h"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],["src","assets/images/clone.png","alt",""],["src","assets/images/delete-icon.png","alt",""],[3,"routerLink"],[1,"fw500"],["href","javascript:void(0)",1,"btn","btn-light","btn-block","text-success",3,"routerLink"],["href","javascript:void(0)",1,"btn","btn-light","btn-block","text-success"],[3,"customerId","cloneModalStatus","catergoryId","subCatergoryId","productId","adminProductId","customerChange"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3")(3,"a",2),t._UZ(4,"i",3),t.qZA(),t._uU(5),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"ul",6)(9,"li",7)(10,"a",8),t._uU(11,"Basic Details "),t.qZA()(),t.TgZ(12,"li",7)(13,"a",9),t._uU(14,"Products"),t.qZA()(),t.TgZ(15,"li",7)(16,"a",8),t._uU(17,"Orders"),t.qZA()(),t.TgZ(18,"li",7)(19,"a",8),t._uU(20,"Quotes"),t.qZA()()(),t.TgZ(21,"div",10)(22,"div",4)(23,"div",11)(24,"div",12)(25,"div",13)(26,"div",14)(27,"input",15),t.NdJ("keyup",function(s){return n.searchData(s)}),t.qZA(),t.TgZ(28,"button",16),t._UZ(29,"img",17),t.qZA()()(),t.TgZ(30,"div",18)(31,"div",19)(32,"a",20),t._UZ(33,"img",21),t._uU(34," Select"),t.qZA(),t.YNc(35,wn,2,3,"a",22),t.qZA()()()(),t.TgZ(36,"div",23),t.YNc(37,Nn,23,11,"div",24),t.qZA()()()()()(),t.YNc(38,Fn,1,6,"app-clone-product",25),t.TgZ(39,"div",26)(40,"div",27)(41,"div",28)(42,"div",29)(43,"h5",30),t._uU(44,"Product Activation"),t.qZA(),t._UZ(45,"button",31),t.qZA(),t.TgZ(46,"div",32)(47,"div",33)(48,"div",34)(49,"div",35)(50,"h4",36),t._uU(51,"Are you sure to"),t._UZ(52,"br"),t._uU(53),t.qZA()(),t.TgZ(54,"div",19)(55,"button",37),t.NdJ("click",function(){return n.activateProduct()}),t._uU(56,"Yes"),t.qZA()(),t.TgZ(57,"div",19)(58,"button",38),t._uU(59,"No"),t.qZA()()()()()()()(),t.TgZ(60,"div",39)(61,"div",27)(62,"div",28)(63,"div",29)(64,"h5",30),t._uU(65,"Delete"),t.qZA(),t._UZ(66,"button",31),t.qZA(),t.TgZ(67,"div",32)(68,"div",33)(69,"div",34)(70,"div",35)(71,"h4",36),t._uU(72,"Are you sure you want to delete the product?"),t.qZA()(),t.TgZ(73,"div",19)(74,"button",40),t.NdJ("click",function(){return n.deleteProduct()}),t._uU(75,"Yes"),t.qZA()(),t.TgZ(76,"div",19)(77,"button",38),t._uU(78,"No"),t.qZA()()()()()()()(),t.TgZ(79,"div",41)(80,"div",27)(81,"div",28)(82,"div",32)(83,"div",42)(84,"div",5)(85,"div",43),t._UZ(86,"img",44),t.qZA(),t.TgZ(87,"h3"),t._uU(88,"Product cantnot be deleted"),t.qZA(),t.TgZ(89,"p"),t._uU(90,"For further assistance please contact your account manager or reach us at support@pactap.com "),t.qZA()()()()()()(),t.TgZ(91,"div",45)(92,"div",27)(93,"div",28)(94,"div",32)(95,"div",42)(96,"div",5)(97,"div",43),t._UZ(98,"img",46),t.O4$(),t.TgZ(99,"svg",47),t._UZ(100,"circle",48)(101,"polyline",49),t.qZA()(),t.kcU(),t.TgZ(102,"h3"),t._uU(103,"Successfully deleted"),t.qZA(),t.TgZ(104,"p"),t._uU(105,"Product has been deleted Successfully "),t.qZA(),t._UZ(106,"p"),t.qZA()()()()()()),2&i&&(t.xp6(5),t.AsE(" ",n.firstName," ",n.lastName," "),t.xp6(5),t.Q6J("routerLink",t.VKq(16,ut,"/customers/"+n.customerId+"/edit-profile"))("routerLinkActiveOptions",t.DdM(18,et)),t.xp6(3),t.Q6J("routerLink",t.VKq(19,Dn,n.customerId))("queryParams",t.WLB(21,Jn,n.firstName,n.lastName))("routerLinkActiveOptions",t.DdM(24,et)),t.xp6(3),t.Q6J("routerLink",t.VKq(25,ut,"/customers/"+n.customerId+"/orders"))("routerLinkActiveOptions",t.DdM(27,et)),t.xp6(3),t.Q6J("routerLink",t.VKq(28,ut,"/customers/"+n.customerId+"/quotes"))("routerLinkActiveOptions",t.DdM(30,et)),t.xp6(13),t.Q6J("routerLink",t.WLB(31,Qn,n.customerId,n.customerName)),t.xp6(3),t.Q6J("ngIf",n.productPermission.add),t.xp6(2),t.Q6J("ngForOf",n.myProducts),t.xp6(1),t.Q6J("ngIf",n.cloneStatus),t.xp6(15),t.hij(" ",n.statusModalHeading,""))},dependencies:[p.rH,p.Od,d.sg,d.O5,Zt],styles:[".product-body-inner[_ngcontent-%COMP%]{height:185px;overflow:hidden}"]})}return o})();const Ln=function(o){return["/products-master/create-customer-product",o]};function Yn(o,a){if(1&o&&(t.TgZ(0,"a",41),t._uU(1,"+ Add Product"),t.qZA()),2&o){const e=t.oxw();t.Q6J("routerLink",t.VKq(1,Ln,e.customerId))}}function $n(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",56)(1,"div",57),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(),r=n.$implicit,s=n.index,c=t.oxw();return t.KtG(c.changeProductStatus(r,s))}),t._UZ(2,"input",58)(3,"label",59)(4,"span",60),t.qZA(),t.TgZ(5,"div",61)(6,"button",62),t._UZ(7,"i",63),t.qZA(),t.TgZ(8,"ul",64)(9,"li")(10,"a",65),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.cloneProduct(n))}),t._UZ(11,"img",66),t._uU(12," Clone Product"),t.qZA()(),t.TgZ(13,"li")(14,"a",65),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.deleteProductModal(n._id))}),t._UZ(15,"img",67),t._uU(16," Delete"),t.qZA()()()()()}if(2&o){const e=t.oxw(),i=e.index,n=e.$implicit;t.xp6(2),t.MGl("id","demo_",i,""),t.Q6J("checked","ACTIVE"===(null==n?null:n.status))("disabled",!0),t.xp6(1),t.MGl("for","demo_",i,"")}}const pt=function(o,a){return["/products-master/customer-products-details",o,a]};function Vn(o,a){if(1&o&&(t.TgZ(0,"a",68),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("routerLink",t.WLB(2,pt,i.customerId,null==e?null:e._id)),t.xp6(1),t.Oqu(null!=e&&null!=e.adminProduct&&e.adminProduct.productTitle?null==e||null==e.adminProduct?null:e.adminProduct.productTitle:null==e?null:e.productTitle)}}const Kn=function(o){return["/products-master/detail",o]};function Bn(o,a){if(1&o&&(t.TgZ(0,"a",68),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(2,Kn,null==e?null:e._id)),t.xp6(1),t.hij(']">',null!=e&&null!=e.adminProduct&&e.adminProduct.productTitle?null==e||null==e.adminProduct?null:e.adminProduct.productTitle:null==e?null:e.productTitle,"")}}function jn(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"p")(2,"span",69),t._uU(3),t.qZA(),t._uU(4),t.qZA(),t.BQk()),2&o){const e=a.$implicit;t.xp6(3),t.hij("",e.label,":"),t.xp6(1),t.hij(" ",e.value,"")}}function Hn(o,a){if(1&o&&(t.TgZ(0,"a",70),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("routerLink",t.WLB(2,pt,i.customerId,null==e?null:e._id)),t.xp6(1),t.hij("No of Quotations - ",null==e?null:e.quotation,"")}}function Rn(o,a){if(1&o&&(t.TgZ(0,"a",71),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij("No of Quotations - ",null==e?null:e.quotation,"")}}function Gn(o,a){if(1&o&&(t.TgZ(0,"a",71),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij("Shared with - ",null==e?null:e.shared,"")}}function Wn(o,a){if(1&o&&(t.TgZ(0,"a",70),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("routerLink",t.WLB(2,pt,i.customerId,null==e?null:e._id)),t.xp6(1),t.hij("Shared with - ",null==e?null:e.shared," ")}}function zn(o,a){if(1&o&&(t.TgZ(0,"div",42)(1,"div",43)(2,"div",44)(3,"h6"),t._uU(4),t.qZA(),t.YNc(5,$n,17,4,"div",45),t.qZA(),t.TgZ(6,"div",46),t._UZ(7,"img",47),t.qZA(),t.TgZ(8,"div",48)(9,"h6",49),t.YNc(10,Vn,2,5,"a",50),t.YNc(11,Bn,2,4,"a",50),t.qZA(),t.TgZ(12,"div"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"div",51),t.YNc(16,jn,5,2,"ng-container",52),t.qZA(),t.TgZ(17,"div",53),t.YNc(18,Hn,2,5,"a",54),t.YNc(19,Rn,2,1,"a",55),t.YNc(20,Gn,2,1,"a",55),t.YNc(21,Wn,2,5,"a",54),t.qZA()()()()),2&o){const e=a.$implicit,i=t.oxw();t.xp6(4),t.hij("Product ID: ",null==e?null:e.customerProductId,""),t.xp6(1),t.Q6J("ngIf",i.productPermission.update),t.xp6(2),t.Q6J("src",(null==e?null:e.productImages[0])||(null==e||null==e.adminProduct?null:e.adminProduct.productImg[0]),t.LSH),t.xp6(3),t.Q6J("ngIf",i.customerId),t.xp6(1),t.Q6J("ngIf",!i.customerId),t.xp6(2),t.Oqu(null==e||null==e.adminProduct?null:e.adminProduct.productName),t.xp6(3),t.Q6J("ngForOf",null==e?null:e.enabledContents),t.xp6(2),t.Q6J("ngIf","APPROVED"===(null==e?null:e.state)&&(null==e?null:e.quotation)>0),t.xp6(1),t.Q6J("ngIf","APPROVED"===(null==e?null:e.state)&&(null==e?null:e.quotation)<1),t.xp6(1),t.Q6J("ngIf","APPROVED"===(null==e?null:e.state)&&(null==e?null:e.shared)<1),t.xp6(1),t.Q6J("ngIf","APPROVED"===(null==e?null:e.state)&&(null==e?null:e.shared)>0)}}function Xn(o,a){1&o&&(t.TgZ(0,"div",72),t._uU(1," Product list not found "),t.qZA())}function ti(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"app-clone-product",73),t.NdJ("customerChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.update(n))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("customerId",e.customerId)("cloneModalStatus",e.cloneStatus)("catergoryId",e.cloneCategoryId)("subCatergoryId",e.cloneSubCategoryId)("productId",e.cloneProductId)("adminProductId",e.cloneAdminProductId)}}const ei=function(o,a){return["/products-master/select",o,a]};let oi=(()=>{class o{constructor(e,i,n,r,s,c){this._US=e,this.routes=i,this.ngxService=n,this._notifier=r,this._CS=s,this.router=c,this.selectedProduct="",this.permissionsArr=[],this.productPermission={read:!1,add:!1,update:!1,delete:!1},this.searchKey="",this.cloneStatus=!1,this.cloneCategoryId="",this.cloneSubCategoryId="",this.cloneProductId="",this.cloneAdminProductId="",this.id=""}ngOnInit(){this._US.getPermissions().subscribe(e=>{this.permissionsArr=e,Object.keys(this.productPermission).map(i=>{this.canPerformAction("Customer Products",i)})}),this.routes.params.subscribe(e=>{this.customerId=e.id,this.customerName=e.name,this.csId=e.customerId}),this.routes.queryParams.subscribe(e=>{e.id&&(this.id=e.id)}),this.products()}canPerformAction(e,i){this.productPermission[i]=this._US.hasPermission(e,i,this.permissionsArr)}addQueryParams(){let e=new P.LE;return e=e.append("searchKey",this.searchKey),e}searchData(e){this.searchKey=e?.target?.value,this.products()}products(){this.ngxService.start(),this._CS.getProductList(this.addQueryParams(),this.customerId).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e?.meta?.status?(this.myProducts=e.data,this.myProducts?.map(i=>{i.enabledContents=[],i.adminProduct?.productForm?.map(n=>{"panel"===n.type?n.components.map(r=>{r.enabled&&i.enabledContents.push("object"==typeof i.productForm?.[n.key]?{label:r.label,value:`${i.productForm?.[r.key].value} ${i.productForm?.[r.key].unit}`}:{label:r.label,value:i.productForm?.[r.key]})}):"columns"===n.type?n.columns.map(r=>{r.components.map(s=>{s.enabled&&i.enabledContents.push("object"==typeof i.productForm?.[n.key]?{label:s.label,value:`${i.productForm?.[s.key].value} ${i.productForm?.[s.key].unit}`}:{label:s.label,value:i.productForm?.[s.key]})})}):n.enabled&&i.enabledContents.push("object"==typeof i?.productForm?.[n.key]?{label:n.label,value:`${i.productForm?.[n.key].value} ${i.productForm?.[n.key].unit}`}:{label:n.label,value:i.productForm?.[n.key]})})}),this.metaData=e.metadata[0]):this.myProducts=[]})}deleteProductModal(e){$("#DeleteModal").modal("show"),this.deleteProductId=e}deleteProduct(){$("#DeleteModal").modal("hide"),this.ngxService.start(),this._CS.deleteProduct(this.deleteProductId,this.customerId).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{$("#errerModal").modal("show"),this.products()})}changeProductStatus(e,i){this.selectedProduct=e,this.statusModalHeading="DEACTIVE"===e.status?"activate the product?":"deactivate the product?",$("#ProductActivationModal").modal("show"),$("#ProductActivationModal").on("hidden.bs.modal",n=>{this.statusModalHeading="",this.selectedProduct=void 0})}cloneProduct(e){this.cloneStatus=!1,$("#CloneProductModal").modal("show"),this.cloneCategoryId=e?.category?._id,this.cloneSubCategoryId=e?.subCategory?._id,this.cloneProductId=e?._id,this.cloneAdminProductId=e?.adminProduct?._id,this.cloneStatus=!0}activateProduct(){$("#ProductActivationModal").modal("hide"),this.ngxService.start(),this._CS.productStatus({_id:this.selectedProduct._id,status:"DEACTIVE"===this.selectedProduct.status?"ACTIVE":"DEACTIVE",customerId:this.customerId}).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(i=>{i.meta.status?(this.products(),this._notifier.showSuccess(i.meta.msg,"Success")):this._notifier.showWarning(i.meta.msg,"Error")})}editProduct(e){this.router.navigate(["/product/edit"],{queryParams:{id:e}})}singleShareWith(e){this.router.navigate(["/product/share-with"],{queryParams:{ids:[e]}})}update(e){this.cloneStatus=!1,e&&this.products()}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(S.KD),t.Y36(p.gz),t.Y36(x.LA),t.Y36(S.lG),t.Y36(ct.v),t.Y36(p.F0))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-detail"]],decls:76,vars:11,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between"],["href","javascript:history.back()"],[1,"bi","bi-arrow-left-short","me-4"],[1,"account_dashboard","profile_dashboard"],[1,"form-box","form-filter"],[1,"row","justify-content-between"],[1,"col-12","col-sm-4","col-md-3","col-lg-3"],[1,"searchgroup","form-group"],["type","text","placeholder","Search",1,"form-control","form-ctrl",3,"keyup"],["type","button",1,"btn","btn-link"],["src","assets/images/search-icon.png"],[1,"col-6","col-sm-4","col-md-6","col-lg-6","text-end"],[1,"form-group"],[1,"btn","me-3","btn-sumbit","btn-white",3,"routerLink"],["src","assets/images/select-copy.png",1,"me-2"],["href","create-products.php","class","btn btn-sumbit btn-success",3,"routerLink",4,"ngIf"],[1,"row"],["class","col-12 col-sm-6 col-md-6 col-lg-4",4,"ngFor","ngForOf"],["class","col-12 col-sm-6 col-md-6 col-lg-6 col-xl-4",4,"ngIf"],[3,"customerId","cloneModalStatus","catergoryId","subCatergoryId","productId","adminProductId","customerChange",4,"ngIf"],["id","ProductActivationModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","feedback-popup"],[1,"modal-header","justify-content-center"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"form-box","form-box-dashboard"],[1,"p-3"],[1,"title","text-center","mb-5"],[1,"fw400"],["type","submit",1,"btn","btn-block","btn-lg","btn-success","btn-sumbit",3,"click"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-block","btn-lg","btn-light","btn-sumbit"],["id","DeleteModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","button",1,"btn","btn-block","btn-lg","btn-success","btn-sumbit",3,"click"],["id","errerModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"congrulations","text-center"],[1,"login-white-box"],[1,"congrulations-img"],["src","assets/images/errer-yellow-icon.png"],["href","create-products.php",1,"btn","btn-sumbit","btn-success",3,"routerLink"],[1,"col-12","col-sm-6","col-md-6","col-lg-4"],[1,"product-item"],[1,"product-header","d-flex","justify-content-between","align-items-center"],["class","right-btns-dropdown",4,"ngIf"],[1,"product-tmb"],["alt","",3,"src"],[1,"product-body"],[1,"border-b"],[3,"routerLink",4,"ngIf"],[1,"productDetailsDiv"],[4,"ngFor","ngForOf"],[1,"groups-btns"],["href","javascript:void(0)","class","btn btn-light btn-block text-success",3,"routerLink",4,"ngIf"],["href","javascript:void(0)","class","btn btn-light btn-block text-success",4,"ngIf"],[1,"right-btns-dropdown"],[1,"active-toggle","me-1",3,"click"],["type","checkbox",1,"input-switch",3,"id","checked","disabled"],[1,"label-switch",3,"for"],[1,"info-text"],[1,"dropdown","ms-2"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-link","dropdown-toggle"],[1,"fa","fa-ellipsis-h"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],["src","assets/images/clone.png","alt",""],["src","assets/images/delete-icon.png","alt",""],[3,"routerLink"],[1,"fw500"],["href","javascript:void(0)",1,"btn","btn-light","btn-block","text-success",3,"routerLink"],["href","javascript:void(0)",1,"btn","btn-light","btn-block","text-success"],[1,"col-12","col-sm-6","col-md-6","col-lg-6","col-xl-4"],[3,"customerId","cloneModalStatus","catergoryId","subCatergoryId","productId","adminProductId","customerChange"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3")(3,"a",2),t._UZ(4,"i",3),t.qZA(),t._uU(5),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"input",9),t.NdJ("keyup",function(s){return n.searchData(s)}),t.qZA(),t.TgZ(12,"button",10),t._UZ(13,"img",11),t.qZA()()(),t.TgZ(14,"div",12)(15,"div",13)(16,"a",14),t._UZ(17,"img",15),t._uU(18," Select"),t.qZA(),t.YNc(19,Yn,2,3,"a",16),t.qZA()()()(),t.TgZ(20,"div",17),t.YNc(21,zn,22,11,"div",18),t.YNc(22,Xn,2,0,"div",19),t.qZA()()(),t.YNc(23,ti,1,6,"app-clone-product",20),t.TgZ(24,"div",21)(25,"div",22)(26,"div",23)(27,"div",24)(28,"h5",25),t._uU(29,"Product Activation"),t.qZA(),t._UZ(30,"button",26),t.qZA(),t.TgZ(31,"div",27)(32,"div",28)(33,"div",29)(34,"div",30)(35,"h4",31),t._uU(36,"Are you sure to"),t._UZ(37,"br"),t._uU(38),t.qZA()(),t.TgZ(39,"div",13)(40,"button",32),t.NdJ("click",function(){return n.activateProduct()}),t._uU(41,"Yes"),t.qZA()(),t.TgZ(42,"div",13)(43,"button",33),t._uU(44,"No"),t.qZA()()()()()()()(),t.TgZ(45,"div",34)(46,"div",22)(47,"div",23)(48,"div",24)(49,"h5",25),t._uU(50,"Delete"),t.qZA(),t._UZ(51,"button",26),t.qZA(),t.TgZ(52,"div",27)(53,"div",28)(54,"div",29)(55,"div",30)(56,"h4",31),t._uU(57,"Are you sure you want to delete the product?"),t.qZA()(),t.TgZ(58,"div",13)(59,"button",35),t.NdJ("click",function(){return n.deleteProduct()}),t._uU(60,"Yes"),t.qZA()(),t.TgZ(61,"div",13)(62,"button",33),t._uU(63,"No"),t.qZA()()()()()()()(),t.TgZ(64,"div",36)(65,"div",22)(66,"div",23)(67,"div",27)(68,"div",37)(69,"div",38)(70,"div",39),t._UZ(71,"img",40),t.qZA(),t.TgZ(72,"h3"),t._uU(73,"Product no longer exist"),t.qZA(),t.TgZ(74,"p"),t._uU(75,"For further assistance please contact your account manager or reach us at support@pactap.com "),t.qZA()()()()()()()),2&i&&(t.xp6(5),t.AsE("",n.customerName,", (Id:",n.id,")"),t.xp6(11),t.Q6J("routerLink",t.WLB(8,ei,n.csId,n.customerName)),t.xp6(3),t.Q6J("ngIf",n.productPermission.add),t.xp6(2),t.Q6J("ngForOf",n.myProducts),t.xp6(1),t.Q6J("ngIf",(null==n.myProducts?null:n.myProducts.length)<1),t.xp6(1),t.Q6J("ngIf",n.cloneStatus),t.xp6(15),t.hij(" ",n.statusModalHeading,""))},dependencies:[p.rH,d.sg,d.O5,Zt],styles:[".productDetailsDiv[_ngcontent-%COMP%]{height:98px;overflow:hidden;width:100%}"]})}return o})();var N=f(1665);function ni(o,a){if(1&o&&(t.TgZ(0,"li",22)(1,"span",59),t._uU(2),t.qZA(),t._uU(3),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.hij("",e.label,":"),t.xp6(1),t.hij(" ",e.value,"")}}function ii(o,a){if(1&o&&(t.ynx(0),t.YNc(1,ni,4,2,"li",58),t.BQk()),2&o){const e=a.index,i=t.oxw();t.xp6(1),t.Q6J("ngIf",e<i.dataViewIndex)}}function ri(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",72),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function ai(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",73),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function si(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",74),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function li(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",75),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function ci(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",76),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function di(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",77),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function ui(o,a){if(1&o&&(t.TgZ(0,"div",63)(1,"div",64)(2,"div",65),t.YNc(3,ri,1,2,"img",66),t.YNc(4,ai,1,1,"img",67),t.YNc(5,si,1,1,"img",68),t.YNc(6,li,1,1,"img",69),t.YNc(7,ci,1,1,"img",70),t.YNc(8,di,1,1,"img",71),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()()()),2&o){const e=a.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function pi(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",72),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function gi(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",73),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function mi(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",74),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function _i(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",75),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function hi(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",76),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function fi(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",77),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function bi(o,a){if(1&o&&(t.TgZ(0,"div",63)(1,"div",64)(2,"div",65),t.YNc(3,pi,1,2,"img",66),t.YNc(4,gi,1,1,"img",67),t.YNc(5,mi,1,1,"img",68),t.YNc(6,_i,1,1,"img",69),t.YNc(7,hi,1,1,"img",70),t.YNc(8,fi,1,1,"img",71),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()()()),2&o){const e=a.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function vi(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"li",61)(2,"span",59),t._uU(3,"Artwork:"),t.qZA()(),t.TgZ(4,"div",35),t.YNc(5,bi,11,7,"div",62),t.qZA(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",e.artworks)}}function Ci(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",72),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function yi(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",73),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Zi(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",74),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function xi(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",75),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Ti(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",76),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function wi(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",77),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function qi(o,a){if(1&o&&(t.TgZ(0,"div",63)(1,"div",64)(2,"div",65),t.YNc(3,Ci,1,2,"img",66),t.YNc(4,yi,1,1,"img",67),t.YNc(5,Zi,1,1,"img",68),t.YNc(6,xi,1,1,"img",69),t.YNc(7,Ti,1,1,"img",70),t.YNc(8,wi,1,1,"img",71),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()()()),2&o){const e=a.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function Pi(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"li",61)(2,"span",59),t._uU(3,"Additional Attachments:"),t.qZA()(),t.TgZ(4,"div",35),t.YNc(5,qi,11,7,"div",62),t.qZA(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",e.attachments)}}function Ai(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",72),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function ki(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",73),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Ii(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",74),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Ui(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",75),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Mi(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",76),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Si(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",77),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Oi(o,a){if(1&o&&(t.TgZ(0,"div",63)(1,"div",64)(2,"div",65),t.YNc(3,Ai,1,2,"img",66),t.YNc(4,ki,1,1,"img",67),t.YNc(5,Ii,1,1,"img",68),t.YNc(6,Ui,1,1,"img",69),t.YNc(7,Mi,1,1,"img",70),t.YNc(8,Si,1,1,"img",71),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()()()),2&o){const e=a.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function Ni(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"li",61)(2,"span",59),t._uU(3,"Reseller Certificate:"),t.qZA()(),t.TgZ(4,"div",35),t.YNc(5,Oi,11,7,"div",62),t.qZA(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",e.resellerAttachements)}}function Fi(o,a){if(1&o&&(t.ynx(0)(1,60),t.TgZ(2,"li",61)(3,"span",59),t._uU(4," Product Images:"),t.qZA()(),t.TgZ(5,"div",35),t.YNc(6,ui,11,7,"div",62),t.qZA(),t.BQk(),t.YNc(7,vi,6,1,"ng-container",25),t.YNc(8,Pi,6,1,"ng-container",25),t.YNc(9,Ni,6,1,"ng-container",25),t.BQk()),2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.productImages),t.xp6(1),t.Q6J("ngIf",e.artworks.length),t.xp6(1),t.Q6J("ngIf",e.attachments.length),t.xp6(1),t.Q6J("ngIf",e.resellerAttachements.length)}}function Di(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",40)(1,"a",78),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.showMore())}),t._uU(2),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(2),t.Oqu((null==e.enabledContents?null:e.enabledContents.length)!=e.dataViewIndex?"View More":"View Less")}}function Ji(o,a){if(1&o&&(t.TgZ(0,"option",79),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e.trim()),t.xp6(1),t.hij(" ",e,"")}}function Qi(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Email is required. "),t.qZA())}function Ei(o,a){if(1&o&&(t.TgZ(0,"div",80),t.YNc(1,Qi,2,0,"div",25),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.quantityFormControls.selectedPrice.errors.required)}}function Li(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",86),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().index,r=t.oxw();return t.KtG(r.removeOneTimeCost(n))}),t._UZ(1,"i",87),t.qZA()}}function Yi(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",88),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.addItem())}),t._uU(1,"+"),t.qZA()}}function $i(o,a){if(1&o&&(t.TgZ(0,"div",81)(1,"div",82),t._UZ(2,"input",83),t.YNc(3,Li,2,0,"button",84),t.YNc(4,Yi,2,0,"button",85),t.qZA()()),2&o){const e=a.$implicit,i=a.last,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e)),t.xp6(3),t.Q6J("ngIf",n.oneTimeCostFormControls.controls.length>1),t.xp6(1),t.Q6J("ngIf",i&&n.oneTimeCostFormControls.controls.length<=4)}}function Vi(o,a){1&o&&(t.TgZ(0,"div",42)(1,"label",44),t._uU(2,"PPS Sample quantity "),t.qZA(),t._UZ(3,"input",89),t.qZA())}let Ki=(()=>{class o{constructor(e,i,n,r,s,c,m){this.PS=e,this.ngxService=i,this.router=n,this.routes=r,this._notifier=s,this.FB=c,this._US=m,this.quantityArray=[1,2],this.submitted=!1,this.enabledContents=[],this.dataViewIndex=3,this.attachments=[],this.artworks=[],this.productImages=[],this.resellerAttachements=[]}ngOnInit(){this.getConfigList(),this.initForm(),this.routes.params.subscribe(e=>{e&&e.id&&(this.productId=e.id,this.productDetails())})}showMore(){if(this.enabledContents?.length!=this.dataViewIndex){let i=this.enabledContents.indexOf(this.enabledContents[this.enabledContents.length-1]);this.dataViewIndex=i+1}else this.dataViewIndex=3}initForm(){this.oneTimeCostForm=this.FB.group({selectedPrice:new l.NI("",[l.kI.required]),ppsOption:[!1],ppsQuantity:[""],costsArray:new l.Oe([])})}createItem(e){return this.FB.group({cost:new l.NI(e||"",[l.kI.required])})}get quantityFormControls(){return this.oneTimeCostForm.controls}get oneTimeCostFormControls(){return this.oneTimeCostForm.controls.costsArray}addItem(e){this.oneTimeCostFormControls.push(this.createItem(e))}removeOneTimeCost(e){this.oneTimeCostForm.controls.costsArray.removeAt(e)}ngAfterViewInit(){this.initializeFancyBox(),this.initializeSwiper()}initializeFancyBox(){setTimeout(()=>{$('[data-fancybox="gallery"]').fancybox({buttons:["zoom","fullScreen","close"],loop:!1,protect:!0,margin:[44,0,22,0],thumbs:{autoStart:!0,axis:"x"}})},200)}initializeSwiper(){setTimeout(()=>{$(".detail-gallery").length>0&&$(".detail-gallery").each(function(){new Swiper(".slider-thumbnail",{slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,navigation:{nextEl:".nextMe",prevEl:".prevMe"}}),$(this).find(".carousel a").on("click",function(i){i.preventDefault(),$(this).parents(".detail-gallery").find(".carousel a").removeClass("active"),$(this).addClass("active");var n=$(this).find("img").attr("src");$(this).parents(".detail-gallery").find("#img_zoom").attr("src",n),$(".zoomWindow").css("background-image",'url("'+n+'")')})})},200)}productDetails(){this.ngxService.start(),this.PS.getCustomerProductDetails(this.productId).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e?.meta?.status&&(this.product=e.data,e.data.productImages.map(i=>{let n=i.split("/"),r=this.getFileType(n[n.length-1]);delete r.type,this.productImages.push({url:i,name:n[n.length-1],...r})}),e.data.productAttachments.map(i=>{let n=i.split("/"),r=this.getFileType(n[n.length-1]);delete r.type,this.attachments.push({url:i,name:n[n.length-1],...r})}),e.data.productArtworks.map(i=>{let n=i.split("/"),r=this.getFileType(n[n.length-1]);delete r.type,this.artworks.push({url:i,name:n[n.length-1],...r})}),e.data.resellerCertificate.map(i=>{let n=i.split("/"),r=this.getFileType(n[n.length-1]);delete r.type,this.resellerAttachements.push({url:i,name:n[n.length-1],...r})}),this.product.adminProduct?.productForm?.map(i=>{if("panel"===i.type)i.components.map(n=>{if("object"==typeof this.product.productForm?.[n.key])if("custom-selectboxes"===n.type){let r=[];n.values.map(s=>{this.product.productForm[n.key][s.value]&&r.push(s.label)}),this.enabledContents.push({label:n.label,value:`${r.join(", ")}`})}else this.enabledContents.push({label:n.label,value:`${this.product.productForm?.[n.key].value} ${this.product.productForm?.[n.key].unit}`});else{if("custom-select"===n.type){let r="";n.data.values.map(s=>{this.product.productForm[n.key]===s.value&&(r=s.label)}),this.enabledContents.push({label:n.label,value:`${r}`})}else if("custom-radio"===n.type){let r="";n.values.map(s=>{this.product.productForm[n.key]===s.value&&(r=s.label)}),this.enabledContents.push({label:n.label,value:`${r}`})}"custom-radio"!=n.type&&this.enabledContents.push({label:n.label,value:this.product.productForm?.[n.key]})}});else if("columns"===i.type)i.columns.map(n=>{n.components.map(r=>{if("object"==typeof this.product.productForm?.[r.key])if("custom-selectboxes"===r.type){let s=[];r.values.map(c=>{this.product.productForm[r.key][c.value]&&s.push(c.label)}),this.enabledContents.push({label:r.label,value:`${s.join(", ")}`})}else this.enabledContents.push({label:r.label,value:`${this.product.productForm?.[r.key].value} ${this.product.productForm?.[r.key].unit}`});else if("custom-select"===r.type){let s="";r.data.values.map(c=>{this.product.productForm[r.key]===c.value&&(s=c.label)}),this.enabledContents.push({label:r.label,value:`${s}`})}else if("custom-radio"===r.type){let s="";r.values.map(c=>{this.product.productForm[r.key]===c.value&&(s=c.label)}),this.enabledContents.enabledContents.push({label:r.label,value:`${s}`})}else this.enabledContents.push({label:r.label,value:this.product.productForm?.[r.key]})})});else if("object"==typeof this.product.productForm[i.key])if("custom-selectboxes"===i.type){let n=[];i.values.map(r=>{this.product.productForm[i.key][r.value]&&n.push(r.label)}),this.enabledContents.push({label:i.label,value:`${n.join(", ")}`})}else this.enabledContents.push({label:i.label,value:`${this.product.productForm[i.key].value} ${this.product.productForm[i.key].unit}`});else if("custom-select"===i.type){let n="";i.data.values.map(r=>{this.product.productForm[i.key]===r.value&&(n=r.label)}),this.enabledContents.push({label:i.label,value:`${n}`})}else if("custom-radio"===i.type){let n="";i.values.map(r=>{this.product.productForm[i.key]===r.value&&(n=r.label)}),this.enabledContents.push({label:i.label,value:`${n}`})}else this.enabledContents.push({label:i.label,value:this.product.productForm?.[i.key]})}),this.product.quantities&&this.product.quantities.length>0?(this.oneTimeCostForm.patchValue({selectedPrice:this.product?.quantityType,ppsOption:this.product?.isPrePurchaseSampleRequired,ppsQuantity:this.product?.prePurchaseSampleQuantity}),this.product.quantities.map((i,n)=>{this.addItem(i)})):this.addItem())})}getConfigList(){this.ngxService.start(),this.PS.getConfigQuantityList().pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e?.meta?.status&&(this.quantityList=e.data.value.split("|"))})}getFormGroup(e){return e}saveQuantity(){if(this.oneTimeCostForm.valid){let e=[],i={_id:this.productId,quantityType:this.oneTimeCostForm.value.selectedPrice,quantities:e,isPrePurchaseSampleRequired:this.oneTimeCostForm.value.ppsOption,...this.oneTimeCostForm.value.ppsOption&&{prePurchaseSampleQuantity:this.oneTimeCostForm.value.ppsQuantity}};this.oneTimeCostForm.value.costsArray.map((n,r)=>{e.push(n?.cost)}),this.PS.addQuantity(i).pipe((0,h.x)(()=>{})).subscribe(n=>{n.meta.status?this._notifier.showSuccess(n.meta.msg,"Success"):this._notifier.showWarning(n.meta.msg,"Error")},n=>{this._notifier.showError("Something Went Wrong","Error")})}else this.submitted=!0}getFileType(e){const i=e.lastIndexOf(".");if(-1===i)return"File name has no extension";switch(e.substring(i+1).toLowerCase()){case"jpg":case"jpeg":case"png":return{type:"Image file",isImage:!0};case"pdf":return{type:"PDF file",isPdf:!0};case"doc":case"docx":return{type:"Word document",isWord:!0};case"txt":return{type:"Text file",isText:!0};case"ai":return{type:"Adobe Illustrator file",isIllustrator:!0};case"cdr":return{type:"CorelDRAW file",isCorelDraw:!0};case"xls":return{type:"Excel spreadsheet",isExcel:!0};case"csv":return{type:"CSV file",isExcel:!0};default:return"Unknown file type"}}downloadImage(e){return(0,L.Z)(function*(){const n=yield(yield fetch(`${e}?pactap=1`)).blob(),r=e.substring(e.lastIndexOf("/")+1),s=document.createElement("a"),c=window.URL.createObjectURL(n);s.href=c,s.download=r,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(e)})()}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(N.s),t.Y36(x.LA),t.Y36(p.F0),t.Y36(p.gz),t.Y36(q.l),t.Y36(l.qu),t.Y36(J.K))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-detail-data"]],decls:85,vars:13,consts:[[1,"dashboardMain"],[1,"row"],[1,"col-12","col-sm-7","col-md-7","col-lg-7"],[1,"page-header","back-page","border-0"],[1,"mb-0"],["href","javascript:history.back()",1,"back-arrow"],["src","assets/images/back-arrow.png"],[1,"col-12","col-sm-12","col-md-5","col-lg-5"],[1,"bg-white","white-well"],[1,"preview-detail"],["id","carouselExampleControls","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["alt","...",1,"d-block","w-100",3,"src"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"product-title"],[1,"Price-Details","mb-0"],[1,"list-group","list-group-flush","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"badge","text-success"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","form-box",4,"ngIf"],[1,"col-12","col-sm-12","col-md-7","col-lg-7"],[3,"formGroup"],[1,"table-card-header","mb-3"],[1,"row","align-items-center"],[1,"col-8","col-sm-8","col-md-8","col-lg-8"],[1,"small"],[1,"col-4","col-sm-4","col-md-4","col-lg-4"],[1,"form-box","form-filter"],[1,"form-group","mb-0"],["formControlName","selectedPrice",1,"form-control","form-ctrl"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"form-box"],["class","form-group alert alert-dismissible fade show","role","alert",3,"formGroup",4,"ngFor","ngForOf"],[1,"form-group"],[1,"form-check"],["for","invalidCheck",1,"form-check-label"],["type","checkbox","id","invalidCheck","formControlName","ppsOption",1,"form-check-input"],["class","form-group",4,"ngIf"],[1,"nav","nav-pills","tabs-nav-success","tabs-nav-left"],[1,"nav-item"],["data-bs-toggle","tab","aria-current","page","href","#CurrentQuotes",1,"nav-link","active"],["data-bs-toggle","tab","href","#CurrentOrders",1,"nav-link"],["data-bs-toggle","tab","href","#PreviousQuotes",1,"nav-link"],["data-bs-toggle","tab","href","#PreviousOrders",1,"nav-link"],["id","myTabContent",1,"tab-content","bg-white","p-4","mb-3"],["id","CurrentQuotes","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","show","active"],["id","CurrentOrders","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade"],["id","PreviousQuotes","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade"],["id","PreviousOrders","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngIf"],[1,"badge"],["productImages.length",""],[1,"list-group-item","align-items-center"],["class","form-check-inline text-center",4,"ngFor","ngForOf"],[1,"form-check-inline","text-center"],[1,"alert-photo"],[1,"alert-photo-img"],[3,"src","alt","click",4,"ngIf"],["src","assets/images/cdr.png",3,"alt","click",4,"ngIf"],["src","assets/images/pdf.png",3,"alt","click",4,"ngIf"],["src","assets/images/excel.png",3,"alt","click",4,"ngIf"],["src","assets/images/xls.png",3,"alt","click",4,"ngIf"],["src","assets/images/illustrator.png",3,"alt","click",4,"ngIf"],[3,"src","alt","click"],["src","assets/images/cdr.png",3,"alt","click"],["src","assets/images/pdf.png",3,"alt","click"],["src","assets/images/excel.png",3,"alt","click"],["src","assets/images/xls.png",3,"alt","click"],["src","assets/images/illustrator.png",3,"alt","click"],["href","javascript:void(0)",1,"btn","btn-sumbit","btn-block","btn-outline-success",3,"click"],[3,"value"],[1,"invalid-feedback"],["role","alert",1,"form-group","alert","alert-dismissible","fade","show",3,"formGroup"],[1,"d-flex"],["type","number","placeholder","Enter Quantity","formControlName","cost",1,"form-control","form-ctrl"],["type","button","class","btn btn-circle btn-outline-success ms-3","data-bs-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],["type","submit","class","btn btn-circle btn-success ms-3",3,"click",4,"ngIf"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn","btn-circle","btn-outline-success","ms-3",3,"click"],[1,"fa","fa-trash-o"],["type","submit",1,"btn","btn-circle","btn-success","ms-3",3,"click"],["type","number","placeholder","Enter Quantity","formControlName","ppsQuantity",1,"form-control","form-ctrl"]],template:function(i,n){1&i&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h3",4)(6,"a",5),t._UZ(7,"img",6),t.qZA(),t._uU(8," Product Details "),t.qZA()()()(),t.TgZ(9,"div",1)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12),t._UZ(16,"img",13),t.qZA()(),t.TgZ(17,"button",14),t._UZ(18,"span",15),t.TgZ(19,"span",16),t._uU(20,"Previous"),t.qZA()(),t.TgZ(21,"button",17),t._UZ(22,"span",18),t.TgZ(23,"span",16),t._uU(24,"Next"),t.qZA()()(),t.TgZ(25,"div",19)(26,"h4"),t._uU(27),t.qZA()(),t.TgZ(28,"div",20)(29,"ul",21)(30,"li",22)(31,"span",23),t._uU(32,"Category:"),t.qZA(),t._uU(33),t.qZA(),t.TgZ(34,"li",22)(35,"span",23),t._uU(36,"Sub Category:"),t.qZA(),t._uU(37),t.qZA(),t.YNc(38,ii,2,1,"ng-container",24),t.YNc(39,Fi,10,4,"ng-container",25),t.qZA(),t.YNc(40,Di,3,1,"div",26),t.qZA()()()(),t.TgZ(41,"div",27)(42,"form",28)(43,"div",8)(44,"div",29)(45,"div",30)(46,"div",31)(47,"h4"),t._uU(48,"Quantity "),t.TgZ(49,"span",32),t._uU(50,"(Max 5 can be added)"),t.qZA()()(),t.TgZ(51,"div",33)(52,"div",34)(53,"div",35)(54,"select",36)(55,"option",37),t._uU(56,"Select Quantity"),t.qZA(),t.YNc(57,Ji,2,2,"option",38),t.qZA(),t.YNc(58,Ei,2,1,"div",39),t.qZA()()()()(),t.TgZ(59,"div",40),t.YNc(60,$i,5,3,"div",41),t.TgZ(61,"div",42)(62,"div",43)(63,"label",44),t._UZ(64,"input",45),t._uU(65," PPS Required "),t.qZA()()(),t.YNc(66,Vi,4,0,"div",46),t.qZA()()()()(),t.TgZ(67,"ul",47)(68,"li",48)(69,"a",49),t._uU(70,"Current Quotes"),t.qZA()(),t.TgZ(71,"li",48)(72,"a",50),t._uU(73,"Current Orders"),t.qZA()(),t.TgZ(74,"li",48)(75,"a",51),t._uU(76,"Prev Quotes"),t.qZA()(),t.TgZ(77,"li",48)(78,"a",52),t._uU(79,"Prev Orders"),t.qZA()()(),t.TgZ(80,"div",53),t._UZ(81,"div",54)(82,"div",55)(83,"div",56)(84,"div",57),t.qZA()()()),2&i&&(t.xp6(16),t.Q6J("src",(null==n.product||null==n.product.productImages?null:n.product.productImages.length)<1?null==n.product||null==n.product.adminProduct?null:n.product.adminProduct.productImg[0]:null==n.product?null:n.product.productImages[0],t.LSH),t.xp6(11),t.AsE("",null==n.product||null==n.product.adminProduct?null:n.product.adminProduct.productName,", ",null==n.product?null:n.product.customerProductId,""),t.xp6(6),t.hij(" ",null==n.product||null==n.product.category?null:n.product.category.categoryName," "),t.xp6(4),t.hij(" ",null==n.product||null==n.product.subCategory?null:n.product.subCategory.categoryName,""),t.xp6(1),t.Q6J("ngForOf",n.enabledContents),t.xp6(1),t.Q6J("ngIf",3<n.dataViewIndex),t.xp6(1),t.Q6J("ngIf",(null==n.enabledContents?null:n.enabledContents.length)>3),t.xp6(2),t.Q6J("formGroup",n.oneTimeCostForm),t.xp6(15),t.Q6J("ngForOf",n.quantityList),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.quantityFormControls.selectedPrice.errors),t.xp6(2),t.Q6J("ngForOf",n.oneTimeCostFormControls.controls),t.xp6(6),t.Q6J("ngIf",null==n.oneTimeCostForm||null==n.oneTimeCostForm.value?null:n.oneTimeCostForm.value.ppsOption))},dependencies:[d.sg,d.O5,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l.JJ,l.JL,l.sg,l.u]})}return o})();function Bi(o,a){if(1&o&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",null==e?null:e._id),t.xp6(1),t.Oqu(null==e?null:e.certificationName)}}function ji(o,a){1&o&&(t.TgZ(0,"td"),t._uU(1," -- "),t.qZA())}function Hi(o,a){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" $",null==e||null==e.quotation||null==e.quotation.quotation[0]?null:e.quotation.quotation[0].pricePerPiece," ")}}function Ri(o,a){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.AsE(" $",null==e||null==e.quotation||null==e.quotation.quotation[0]?null:e.quotation.quotation[0].pricePerPiece," to $",null==e||null==e.quotation||null==e.quotation.quotation[(null==e||null==e.quotation||null==e.quotation.quotation?null:e.quotation.quotation.length)-1]?null:e.quotation.quotation[(null==e||null==e.quotation||null==e.quotation.quotation?null:e.quotation.quotation.length)-1].pricePerPiece," ")}}function Gi(o,a){1&o&&(t.TgZ(0,"td"),t._uU(1," -- "),t.qZA())}function Wi(o,a){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",null==e||null==e.quotation||null==e.quotation.quotation[0]?null:e.quotation.quotation[0].productionleadTime," Days ")}}function zi(o,a){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.AsE(" ",null==e||null==e.quotation||null==e.quotation.quotation[0]?null:e.quotation.quotation[0].productionleadTime," Days to ",null==e||null==e.quotation||null==e.quotation.quotation[(null==e||null==e.quotation||null==e.quotation.quotation?null:e.quotation.quotation.length)-1]?null:e.quotation.quotation[(null==e||null==e.quotation||null==e.quotation.quotation?null:e.quotation.quotation.length)-1].productionleadTime," Days ")}}function Xi(o,a){if(1&o&&(t.TgZ(0,"td")(1,"a",31),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&o){const e=t.oxw(2).$implicit;t.xp6(2),t.Oqu(t.xi3(3,1,null==e||null==e.quotation?null:e.quotation.validUpto,"dd/MM/YYYY"))}}function tr(o,a){1&o&&(t.TgZ(0,"td")(1,"a",32),t._uU(2,"Expired"),t.qZA()())}const er=function(o){return["/quotation/details/",o]};function or(o,a){if(1&o&&(t.TgZ(0,"a",33),t._uU(1,"View"),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.Q6J("routerLink",t.VKq(1,er,null==e||null==e.quotation?null:e.quotation._id))}}function nr(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"a",34),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit,r=t.oxw();return t.KtG(r.requote(null==n||null==n.quotation?null:n.quotation._id))}),t._uU(1,"Re-Quote"),t.qZA()}}function ir(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"td",27),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"img",28),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"date"),t.qZA(),t.YNc(9,ji,2,0,"td",26),t.YNc(10,Hi,2,1,"td",26),t.YNc(11,Ri,2,2,"td",26),t.YNc(12,Gi,2,0,"td",26),t.YNc(13,Wi,2,1,"td",26),t.YNc(14,zi,2,2,"td",26),t.YNc(15,Xi,4,4,"td",26),t.YNc(16,tr,3,0,"td",26),t.TgZ(17,"td"),t.YNc(18,or,2,3,"a",29),t.YNc(19,nr,2,0,"a",30),t.qZA(),t.BQk()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.xp6(2),t.hij(" ",null==e||null==e.quotation?null:e.quotation.quoteId," "),t.xp6(3),t.hij(" ",null==e||null==e.vendor?null:e.vendor.vendorId,""),t.xp6(2),t.Oqu(t.xi3(8,13,null==e?null:e.createdAt,"dd/MM/YYYY")),t.xp6(2),t.Q6J("ngIf",(null==e?null:e.quotation)&&0==(null==e||null==e.quotation?null:e.quotation.quotation.length)),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.quotation)&&1==(null==e||null==e.quotation?null:e.quotation.quotation.length)),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.quotation)&&(null==e||null==e.quotation?null:e.quotation.quotation.length)>1),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.quotation)&&0==(null==e||null==e.quotation?null:e.quotation.quotation.length)),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.quotation)&&1==(null==e||null==e.quotation?null:e.quotation.quotation.length)),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.quotation)&&(null==e||null==e.quotation?null:e.quotation.quotation.length)>1),t.xp6(1),t.Q6J("ngIf",!i.isExpiredQuote(null==e||null==e.quotation?null:e.quotation.validUpto)),t.xp6(1),t.Q6J("ngIf",i.isExpiredQuote(null==e||null==e.quotation?null:e.quotation.validUpto)),t.xp6(2),t.Q6J("ngIf",null==e||null==e.quotation?null:e.quotation.isQuoteSubmitted),t.xp6(1),t.Q6J("ngIf",i.isExpiredQuote(null==e||null==e.quotation?null:e.quotation.validUpto)&&i.checkValidDate(null==e||null==e.quotation?null:e.quotation.reQuoteRequestDate))}}function rr(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"td",27),t._uU(2," ------ "),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"img",28),t._uU(5),t.qZA(),t.TgZ(6,"td",35)(7,"h6",36),t._uU(8,"The vendor has not shared the quotation"),t.qZA(),t.TgZ(9,"button",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.unShare(null==n?null:n._id))}),t._uU(10,"Un Share"),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw().$implicit;t.xp6(5),t.hij(" ",null==e||null==e.vendor?null:e.vendor.vendorId," ")}}function ar(o,a){if(1&o&&(t.TgZ(0,"tr"),t.YNc(1,ir,20,16,"ng-container",26),t.YNc(2,rr,11,1,"ng-container",26),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",null==e||null==e.quotation?null:e.quotation.isQuoteSubmitted),t.xp6(1),t.Q6J("ngIf",!(null!=e&&null!=e.quotation&&e.quotation.isQuoteSubmitted))}}function sr(o,a){1&o&&(t.TgZ(0,"div",38),t._uU(1,"Current quotes not found"),t.qZA())}let lr=(()=>{class o{constructor(e,i,n,r){this.PS=e,this.ngxService=i,this._notifier=n,this.CS=r,this.searchKey="",this.fromDate="",this.certificate="",this.toDate=""}ngOnInit(){this.getCertificates(),this.productId&&this.customerId&&this.getCurrentQuotes()}getCertificates(){this.CS.getCertificates().subscribe(e=>{e?.meta?.status&&(this.certificateList=e?.data,console.log(this.certificateList))})}ngAfterViewInit(){setTimeout(()=>{this.initDateRangePicker()},200)}initDateRangePicker(){$(".daterangePickerCuurentQuot").dateRangePicker({format:"DD-MM-YYYY",autoClose:!0}).on("datepicker-change",(e,i)=>{this.fromDate=_(i.date1).format("YYYY-MM-DD"),this.toDate=_(i.date2).format("YYYY-MM-DD"),this.getCurrentQuotes()})}addQueryParams(){let e=new P.LE;return e=e.append("view","LIST"),e=e.append("customerId",this.customerId),e=e.append("productId",this.productId),e=e.append("searchKey",this.searchKey),e=e.append("quoteStatus","QUOTED"),e=e.append("startDate",this.fromDate),e=e.append("endDate",this.toDate),e=e.append("certificateId",this.certificate),e=e.append("status",""),e}searchProduct(e){this.searchKey=e?.target?.value,this.getCurrentQuotes()}filterByCertificate(e){this.certificate=e?.target?.value,this.getCurrentQuotes()}getCurrentQuotes(){this.PS.getLeadsLit(this.addQueryParams()).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{this.currentQuotes=e?.data,console.log(this.currentQuotes)})}unShare(e){this.PS.leadRemove(e).subscribe(i=>{i.meta.status?this._notifier.showSuccess(i.meta.msg,""):this._notifier.showError(i.error[0].msg,"")})}requote(e){this.PS.reQuote(e).subscribe(i=>{i.meta.status?(this._notifier.showSuccess(i.meta.msg,""),this.getCurrentQuotes()):this._notifier.showError(i.error[0].msg,"")})}checkValidDate(e){return!e||_().valueOf()>=_(e).add(2,"days").valueOf()}isExpiredQuote(e){return e<_(_().format("L")).valueOf()}openCalendar(e){e.stopPropagation(),$(".daterangePickerCuurentQuot").data("dateRangePicker").open()}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(N.s),t.Y36(x.LA),t.Y36(q.l),t.Y36(U.v))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-current-quotes"]],inputs:{productId:"productId",customerId:"customerId"},decls:50,vars:3,consts:[[1,"form-box","form-filter"],[1,"row"],[1,"col-6","col-sm-6","col-md-3","col-lg-2"],[1,"searchgroup","form-group"],["type","text","placeholder","Search",1,"form-control","form-ctrl",3,"keyup"],["type","button",1,"btn","btn-link"],["src","assets/images/search-icon.png"],[1,"col-6","col-sm-3","col-md-2","col-lg-2"],[1,"form-group"],[1,"form-control","form-ctrl",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","form-ctrl"],[1,"col-12","col-sm-6","col-md-3","col-lg-3"],[1,"form-group","calendarInput"],["type","text","placeholder","EX: 12/02/2023  -  12/02/2023",1,"form-control","daterangePicker","daterangePickerCuurentQuot"],[1,"formIconsinner",3,"click"],[1,"bi","bi-calendar-week"],["id","CurrentQuotes","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","show","active"],[1,"table-card"],[1,"table-reponsive"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["class","text-center my-3",4,"ngIf"],[3,"value"],[4,"ngIf"],["scope","row"],["src","assets/images/checkmark-circle-2.png",1,"me-2",2,"width","20px","height","20px"],["href","javascript:void(0)","class","btn btn-link btn-sm text-success fw500 me-2",3,"routerLink",4,"ngIf"],["href","javascript:void(0)","class","btn btn-link btn-sm text-success text-underline-none fw500",3,"click",4,"ngIf"],["href","#",1,"btn","btn-sm","btn-green","btn-block","rounded"],["href","#",1,"btn","btn-sm","btn-secondary","btn-block","rounded"],["href","javascript:void(0)",1,"btn","btn-link","btn-sm","text-success","fw500","me-2",3,"routerLink"],["href","javascript:void(0)",1,"btn","btn-link","btn-sm","text-success","text-underline-none","fw500",3,"click"],["colspan","5",1,"table-secondary","text-center"],[1,"text-success"],[3,"click"],[1,"text-center","my-3"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),t.NdJ("keyup",function(s){return n.searchProduct(s)}),t.qZA(),t.TgZ(5,"button",5),t._UZ(6,"img",6),t.qZA()()(),t.TgZ(7,"div",7)(8,"div",8)(9,"select",9),t.NdJ("change",function(s){return n.filterByCertificate(s)}),t.TgZ(10,"option",10),t._uU(11,"Certification"),t.qZA(),t.YNc(12,Bi,2,2,"option",11),t.qZA()()(),t.TgZ(13,"div",7)(14,"div",8)(15,"select",12)(16,"option"),t._uU(17,"Status"),t.qZA(),t.TgZ(18,"option"),t._uU(19,"Select"),t.qZA()()()(),t.TgZ(20,"div",13)(21,"div",14),t._UZ(22,"input",15),t.TgZ(23,"span",16),t.NdJ("click",function(s){return n.openCalendar(s)}),t._UZ(24,"i",17),t.qZA()()()()(),t.TgZ(25,"div",18)(26,"div",19)(27,"div",20)(28,"table",21)(29,"thead")(30,"tr")(31,"th",22),t._uU(32," Quote ID "),t.qZA(),t.TgZ(33,"th",22),t._uU(34,"Vendor ID"),t.qZA(),t.TgZ(35,"th",22),t._uU(36,"Quote Received Date"),t.qZA(),t.TgZ(37,"th",22),t._uU(38,"Price Range"),t.qZA(),t.TgZ(39,"th",22),t._uU(40,"Lead Time Range"),t.qZA(),t.TgZ(41,"th",22),t._uU(42,"Valid upto"),t.qZA(),t.TgZ(43,"th",22),t._uU(44,"\xad"),t.qZA(),t.TgZ(45,"th",22),t._uU(46,"\xad"),t.qZA()()(),t.TgZ(47,"tbody"),t.YNc(48,ar,3,2,"tr",23),t.qZA()(),t.YNc(49,sr,2,0,"div",24),t.qZA()()()),2&i&&(t.xp6(12),t.Q6J("ngForOf",n.certificateList),t.xp6(36),t.Q6J("ngForOf",n.currentQuotes),t.xp6(1),t.Q6J("ngIf",(null==n.currentQuotes?null:n.currentQuotes.length)<1))},dependencies:[p.rH,d.sg,d.O5,l.YN,l.Kr,d.uU]})}return o})();function cr(o,a){if(1&o&&(t.TgZ(0,"option",29),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",null==e?null:e.certificationName),t.xp6(1),t.hij(" ",null==e?null:e.certificationName,"")}}function dr(o,a){if(1&o&&(t.TgZ(0,"td"),t._UZ(1,"img",34),t._uU(2),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",null==e||null==e.vendor?null:e.vendor.vendorId,"")}}function ur(o,a){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t._UZ(2,"br"),t._uU(3),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(null==e.vendor?null:e.vendor.vendorId),t.xp6(2),t.AsE("",null==e.vendor?null:e.vendor.firstName," ",null==e.vendor?null:e.vendor.lastName,"")}}const pr=function(o){return["/orders/pending-detail",o]};function gr(o,a){if(1&o&&(t.TgZ(0,"a",35),t._uU(1,"View"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,pr,e._id))}}const mr=function(o){return["/orders/ongoing-detail",o]};function _r(o,a){if(1&o&&(t.TgZ(0,"a",35),t._uU(1,"View"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,mr,e._id))}}function hr(o,a){if(1&o&&(t.TgZ(0,"tr")(1,"td",30),t._uU(2),t.qZA(),t.YNc(3,dr,3,1,"td",31),t.YNc(4,ur,4,3,"td",31),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td")(18,"a",32),t._uU(19),t.qZA()(),t.TgZ(20,"td"),t.YNc(21,gr,2,3,"a",33),t.YNc(22,_r,2,3,"a",33),t.qZA()()),2&o){const e=a.$implicit;t.xp6(2),t.Oqu(e.orderId),t.xp6(1),t.Q6J("ngIf",!e.ownVendor),t.xp6(1),t.Q6J("ngIf",e.ownVendor),t.xp6(2),t.Oqu(t.xi3(7,11,null==e?null:e.createdAt,"dd/MM/YYYY")),t.xp6(3),t.Oqu(e.shippingTerms),t.xp6(2),t.Oqu(t.xi3(12,14,null==e?null:e.estimatedDeliveryDate,"dd/MM/YYYY")),t.xp6(3),t.Oqu(null==e?null:e.totalProducts),t.xp6(2),t.hij("$ ",null==e.adminSubTotal?null:e.adminSubTotal.toFixed(2),""),t.xp6(3),t.Oqu(e.newStatus),t.xp6(2),t.Q6J("ngIf","PENDING"===e.status),t.xp6(1),t.Q6J("ngIf","ONGOING"===e.status)}}function fr(o,a){1&o&&(t.TgZ(0,"div",36),t._uU(1,"Current orders not found"),t.qZA())}let br=(()=>{class o{constructor(e,i,n,r){this.PS=e,this.ngxService=i,this._notifier=n,this.CS=r,this.searchKey="",this.fromDate="",this.toDate="",this.certificate="",this.status="",this.modelChanged=new Z.x}ngOnInit(){this.getCertificates(),this.productId&&this.getCurrentOrder(),this.modelChanged.pipe((0,k.b)(500),(0,I.x)()).subscribe(e=>{this.searchKey=e,this.getCurrentOrder()})}getCertificates(){this.CS.getCertificates().subscribe(e=>{e?.meta?.status&&(this.certificateList=e?.data)})}ngAfterViewInit(){setTimeout(()=>{this.initDateRangePicker()},200)}initDateRangePicker(){$(".daterangePickerCuurentOrder").dateRangePicker({format:"DD-MM-YYYY",autoClose:!0}).on("datepicker-change",(e,i)=>{this.fromDate=_(i.date1).startOf("day").valueOf(),this.toDate=_(i.date2).endOf("day").valueOf(),this.getCurrentOrder()})}addQueryParams(){let e=new P.LE;return e=e.append("customerProductId",this.productId),e=e.append("status","ONGOING"===this.status?"ONGOING":"CURRENT"),e=e.append("state",this.status),e=e.append("searchKey",this.searchKey),e=e.append("startDate",this.fromDate),e=e.append("endDate",this.toDate),e=e.append("certificate",this.certificate),e}searchProduct(e){this.searchKey=e?.target?.value,this.getCurrentOrder()}filterByCertificate(e){this.certificate=e?.target?.value,this.getCurrentOrder()}filterByStatus(e){this.status=e?.target?.value,this.getCurrentOrder()}getCurrentOrder(){this.PS.getCurrentOrder(this.addQueryParams()).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?(this.currentOrders=e?.data,this.currentOrders.map(i=>(i.newStatus="",i.newStatus="ONGOING"===i.status?i.status:"PENDING"===i.v_state?"Vendor Acceptance Pending":"PENDING"===i.c_state?"Customer Confirmation Pending":"ACCEPTED"===i.v_state&&"ACCEPTED"===i.c_state&&"PENDING"===i.a_state?"PPS Pending":"Mass Approval Pending",i.estimatedDeliveryDate=_(i.createdAt).add(i.totalOrderLeadTime,"days"),i))):this.currentOrders=[]})}unShare(e){this.PS.leadRemove(e).subscribe(i=>{i.meta.status?(this._notifier.showSuccess(i.meta.msg,"Success"),this.getCurrentOrder()):this._notifier.showError(i.meta.msg,"Error")})}requote(e){this.PS.reQuote(e).subscribe(i=>{i.meta.status?(this._notifier.showSuccess(i.meta.msg,""),this.getCurrentOrder()):this._notifier.showError(i.error[0].msg,"")})}checkValidDate(e){return!e||_().valueOf()>=_(e).add(2,"days").valueOf()}isExpiredQuote(e){return e<_(_().format("L")).valueOf()}openCalendar(e){e.stopPropagation(),$(".daterangePickerCuurentOrder").data("dateRangePicker").open()}changed(e){this.modelChanged.next(e)}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(N.s),t.Y36(x.LA),t.Y36(q.l),t.Y36(U.v))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-current-orders"]],inputs:{customerId:"customerId",productId:"productId"},decls:59,vars:5,consts:[[1,"form-box","form-filter"],[1,"row"],[1,"col-6","col-sm-6","col-md-3","col-lg-2"],[1,"searchgroup","form-group"],["type","text","placeholder","Search",1,"form-control","form-ctrl",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-link"],["src","assets/images/search-icon.png"],[1,"col-6","col-sm-3","col-md-2","col-lg-2"],[1,"form-group"],[1,"form-control","form-ctrl",3,"change"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","form-ctrl",3,"ngModel","change","ngModelChange"],["value","ONGOING"],["value","v_state_PENDING"],["value","c_state_PENDING"],["value","state_PPS_PENDING"],["value","state_MASS_PENDING"],[1,"col-12","col-sm-6","col-md-3","col-lg-3"],[1,"form-group","calendarInput"],["type","text","placeholder","EX: 12/02/2023  -  12/02/2023",1,"form-control","daterangePicker","daterangePickerCuurentOrder"],[1,"formIconsinner",3,"click"],[1,"bi","bi-calendar-week"],[1,"table-card"],[1,"table-reponsive"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["class","text-center my-3",4,"ngIf"],[3,"value"],["scope","row"],[4,"ngIf"],["href","#",1,"btn","btn-sm","btn-block","btn-info","rounded"],["href","javascript:void(0)","class","btn btn-link btn-sm text-success fw500 me-2",3,"routerLink",4,"ngIf"],["src","assets/images/checkmark-circle-2.png",1,"me-2",2,"width","20px","height","20px"],["href","javascript:void(0)",1,"btn","btn-link","btn-sm","text-success","fw500","me-2",3,"routerLink"],[1,"text-center","my-3"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),t.NdJ("ngModelChange",function(s){return n.searchKey=s})("ngModelChange",function(s){return n.changed(s)}),t.qZA(),t.TgZ(5,"button",5),t._UZ(6,"img",6),t.qZA()()(),t.TgZ(7,"div",7)(8,"div",8)(9,"select",9),t.NdJ("change",function(s){return n.filterByCertificate(s)}),t.TgZ(10,"option",10),t._uU(11,"Certification"),t.qZA(),t.YNc(12,cr,2,2,"option",11),t.qZA()()(),t.TgZ(13,"div",7)(14,"div",8)(15,"select",12),t.NdJ("change",function(s){return n.filterByStatus(s)})("ngModelChange",function(s){return n.status=s}),t.TgZ(16,"option",10),t._uU(17,"Status"),t.qZA(),t.TgZ(18,"option",13),t._uU(19,"Ongoing"),t.qZA(),t.TgZ(20,"option",14),t._uU(21,"Vendor Acceptance Pending"),t.qZA(),t.TgZ(22,"option",15),t._uU(23,"Customer Confirmation Pending"),t.qZA(),t.TgZ(24,"option",16),t._uU(25,"PPS Pending"),t.qZA(),t.TgZ(26,"option",17),t._uU(27,"Mass Approval Pending"),t.qZA()()()(),t.TgZ(28,"div",18)(29,"div",19),t._UZ(30,"input",20),t.TgZ(31,"span",21),t.NdJ("click",function(s){return n.openCalendar(s)}),t._UZ(32,"i",22),t.qZA()()()()(),t.TgZ(33,"div",23)(34,"div",24)(35,"table",25)(36,"thead")(37,"tr")(38,"th",26),t._uU(39," Order ID "),t.qZA(),t.TgZ(40,"th",26),t._uU(41,"Vendor ID"),t.qZA(),t.TgZ(42,"th",26),t._uU(43,"Creation Date"),t.qZA(),t.TgZ(44,"th",26),t._uU(45,"Shipping Term"),t.qZA(),t.TgZ(46,"th",26),t._uU(47,"Estimated Delivery Date"),t.qZA(),t.TgZ(48,"th",26),t._uU(49,"Quantity"),t.qZA(),t.TgZ(50,"th",26),t._uU(51,"Amount"),t.qZA(),t.TgZ(52,"th",26),t._uU(53,"Status"),t.qZA(),t.TgZ(54,"th",26),t._uU(55,"\xad"),t.qZA()()(),t.TgZ(56,"tbody"),t.YNc(57,hr,23,17,"tr",27),t.YNc(58,fr,2,0,"div",28),t.qZA()()()()),2&i&&(t.xp6(4),t.Q6J("ngModel",n.searchKey),t.xp6(8),t.Q6J("ngForOf",n.certificateList),t.xp6(3),t.Q6J("ngModel",n.status),t.xp6(42),t.Q6J("ngForOf",n.currentOrders),t.xp6(1),t.Q6J("ngIf",(null==n.currentOrders?null:n.currentOrders.length)<1))},dependencies:[p.rH,d.sg,d.O5,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.On,d.uU]})}return o})();function vr(o,a){if(1&o&&(t.TgZ(0,"option",27),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",null==e?null:e.certificationName),t.xp6(1),t.hij(" ",null==e?null:e.certificationName,"")}}function Cr(o,a){if(1&o&&(t.TgZ(0,"td"),t._UZ(1,"img",33),t._uU(2),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",null==e||null==e.vendor?null:e.vendor.vendorId,"")}}function yr(o,a){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t._UZ(2,"br"),t._uU(3),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(null==e.vendor?null:e.vendor.vendorId),t.xp6(2),t.AsE("",null==e.vendor?null:e.vendor.firstName," ",null==e.vendor?null:e.vendor.lastName,"")}}function Zr(o,a){1&o&&(t.TgZ(0,"a",34),t._uU(1,"Completed"),t.qZA())}function xr(o,a){1&o&&(t.TgZ(0,"a",35),t._uU(1,"Cancelled"),t.qZA())}const Tr=function(o){return["/orders/past-detail",o]};function wr(o,a){if(1&o&&(t.TgZ(0,"tr")(1,"td",28),t._uU(2),t.qZA(),t.YNc(3,Cr,3,1,"td",29),t.YNc(4,yr,4,3,"td",29),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t.YNc(15,Zr,2,0,"a",30),t.YNc(16,xr,2,0,"a",31),t.qZA(),t.TgZ(17,"td")(18,"a",32),t._uU(19,"View"),t.qZA()()()),2&o){const e=a.$implicit;t.xp6(2),t.Oqu(e.orderId),t.xp6(1),t.Q6J("ngIf",!e.ownVendor),t.xp6(1),t.Q6J("ngIf",e.ownVendor),t.xp6(2),t.Oqu(t.xi3(7,10,null==e?null:e.createdAt,"dd/MM/YYYY")),t.xp6(3),t.Oqu(e.shippingTerms),t.xp6(2),t.Oqu(e.totalProducts),t.xp6(2),t.hij("$ ",null==e.adminSubTotal?null:e.adminSubTotal.toFixed(2),""),t.xp6(2),t.Q6J("ngIf","COMPLETED"===e.status),t.xp6(1),t.Q6J("ngIf","CANCELLED"===e.status),t.xp6(2),t.Q6J("routerLink",t.VKq(13,Tr,e._id))}}function qr(o,a){1&o&&(t.TgZ(0,"div",36),t._uU(1,"Current orders not found"),t.qZA())}let Pr=(()=>{class o{constructor(e,i,n,r){this.PS=e,this.ngxService=i,this._notifier=n,this.CS=r,this.searchKey="",this.fromDate="",this.toDate="",this.certificate="",this.status="past",this.modelChanged=new Z.x}ngOnInit(){this.getCertificates(),this.productId&&this.getCurrentOrder(),this.modelChanged.pipe((0,k.b)(500),(0,I.x)()).subscribe(e=>{this.searchKey=e,this.getCurrentOrder()})}getCertificates(){this.CS.getCertificates().subscribe(e=>{e?.meta?.status&&(this.certificateList=e?.data)})}ngAfterViewInit(){setTimeout(()=>{this.initDateRangePicker()},200)}initDateRangePicker(){$(".daterangePickerPreviousOrder").dateRangePicker({format:"DD-MM-YYYY",autoClose:!0}).on("datepicker-change",(e,i)=>{this.fromDate=_(i.date1).startOf("day").valueOf(),this.toDate=_(i.date2).endOf("day").valueOf(),this.getCurrentOrder()})}addQueryParams(){let e=new P.LE;return e=e.append("customerProductId",this.productId),e=e.append("status",this.status),e=e.append("orderStatus",this.status),e=e.append("searchKey",this.searchKey),e=e.append("startDate",this.fromDate),e=e.append("endDate",this.toDate),e=e.append("certificate",this.certificate),e}searchProduct(e){this.searchKey=e?.target?.value,this.getCurrentOrder()}filterByCertificate(e){this.certificate=e?.target?.value,this.getCurrentOrder()}filterByStatus(e){this.status=e?.target?.value,this.getCurrentOrder()}getCurrentOrder(){this.PS.getCurrentOrder(this.addQueryParams()).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{this.currentOrders=e?.data})}unShare(e){this.PS.leadRemove(e).subscribe(i=>{i.meta.status?(this._notifier.showSuccess(i.meta.msg,"Success"),this.getCurrentOrder()):this._notifier.showError(i.meta.msg,"Error")})}requote(e){this.PS.reQuote(e).subscribe(i=>{i.meta.status?(this._notifier.showSuccess(i.meta.msg,""),this.getCurrentOrder()):this._notifier.showError(i.error[0].msg,"")})}checkValidDate(e){return!e||_().valueOf()>=_(e).add(2,"days").valueOf()}isExpiredQuote(e){return e<_(_().format("L")).valueOf()}openCalendar(e){e.stopPropagation(),$(".daterangePickerPreviousOrder").data("dateRangePicker").open()}changed(e){this.modelChanged.next(e)}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(N.s),t.Y36(x.LA),t.Y36(q.l),t.Y36(U.v))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-previous-orders"]],inputs:{customerId:"customerId",productId:"productId"},decls:51,vars:5,consts:[[1,"form-box","form-filter"],[1,"row"],[1,"col-6","col-sm-6","col-md-3","col-lg-2"],[1,"searchgroup","form-group"],["type","text","placeholder","Search",1,"form-control","form-ctrl",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-link"],["src","assets/images/search-icon.png"],[1,"col-6","col-sm-3","col-md-2","col-lg-2"],[1,"form-group"],[1,"form-control","form-ctrl",3,"change"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","form-ctrl",3,"ngModel","change","ngModelChange"],["value","past","hidden",""],["value","COMPLETED"],["value","CANCELLED"],[1,"col-12","col-sm-6","col-md-3","col-lg-3"],[1,"form-group","calendarInput"],["type","text","placeholder","EX: 12/02/2023  -  12/02/2023",1,"form-control","daterangePicker","daterangePickerPreviousOrder"],[1,"formIconsinner",3,"click"],[1,"bi","bi-calendar-week"],[1,"table-card"],[1,"table-reponsive"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["class","text-center my-3",4,"ngIf"],[3,"value"],["scope","row"],[4,"ngIf"],["href","javascript:void(0)","class","btn btn-sm btn-success btn-block rounded",4,"ngIf"],["href","javascript:void(0)","class","btn btn-sm btn-secondary btn-block rounded",4,"ngIf"],["href","javascript:void(0)",1,"btn","btn-link","btn-sm","text-success","fw500","me-2",3,"routerLink"],["src","assets/images/checkmark-circle-2.png",1,"me-2",2,"width","20px","height","20px"],["href","javascript:void(0)",1,"btn","btn-sm","btn-success","btn-block","rounded"],["href","javascript:void(0)",1,"btn","btn-sm","btn-secondary","btn-block","rounded"],[1,"text-center","my-3"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),t.NdJ("ngModelChange",function(s){return n.searchKey=s})("ngModelChange",function(s){return n.changed(s)}),t.qZA(),t.TgZ(5,"button",5),t._UZ(6,"img",6),t.qZA()()(),t.TgZ(7,"div",7)(8,"div",8)(9,"select",9),t.NdJ("change",function(s){return n.filterByCertificate(s)}),t.TgZ(10,"option",10),t._uU(11,"Certification"),t.qZA(),t.YNc(12,vr,2,2,"option",11),t.qZA()()(),t.TgZ(13,"div",7)(14,"div",8)(15,"select",12),t.NdJ("change",function(s){return n.filterByStatus(s)})("ngModelChange",function(s){return n.status=s}),t.TgZ(16,"option",13),t._uU(17,"Status"),t.qZA(),t.TgZ(18,"option",14),t._uU(19,"Completed"),t.qZA(),t.TgZ(20,"option",15),t._uU(21,"Cancelled"),t.qZA()()()(),t.TgZ(22,"div",16)(23,"div",17),t._UZ(24,"input",18),t.TgZ(25,"span",19),t.NdJ("click",function(s){return n.openCalendar(s)}),t._UZ(26,"i",20),t.qZA()()()()(),t.TgZ(27,"div",21)(28,"div",22)(29,"table",23)(30,"thead")(31,"tr")(32,"th",24),t._uU(33,"Order ID"),t.qZA(),t.TgZ(34,"th",24),t._uU(35,"Vendor ID"),t.qZA(),t.TgZ(36,"th",24),t._uU(37,"Creation Date"),t.qZA(),t.TgZ(38,"th",24),t._uU(39,"Shipping Term"),t.qZA(),t.TgZ(40,"th",24),t._uU(41,"No of Products"),t.qZA(),t.TgZ(42,"th",24),t._uU(43,"Amount"),t.qZA(),t.TgZ(44,"th",24),t._uU(45,"Status"),t.qZA(),t.TgZ(46,"th",24),t._uU(47,"\xad"),t.qZA()()(),t.TgZ(48,"tbody"),t.YNc(49,wr,20,15,"tr",25),t.YNc(50,qr,2,0,"div",26),t.qZA()()()()),2&i&&(t.xp6(4),t.Q6J("ngModel",n.searchKey),t.xp6(8),t.Q6J("ngForOf",n.certificateList),t.xp6(3),t.Q6J("ngModel",n.status),t.xp6(34),t.Q6J("ngForOf",n.currentOrders),t.xp6(1),t.Q6J("ngIf",(null==n.currentOrders?null:n.currentOrders.length)<1))},dependencies:[p.rH,d.sg,d.O5,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.On,d.uU]})}return o})();function Ar(o,a){if(1&o&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",null==e?null:e._id),t.xp6(1),t.Oqu(null==e?null:e._id)}}function kr(o,a){1&o&&(t.TgZ(0,"td"),t._uU(1," -- "),t.qZA())}function Ir(o,a){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" $",null==e||null==e.quotation||null==e.quotation.quotation[0]?null:e.quotation.quotation[0].pricePerPiece," ")}}function Ur(o,a){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.AsE(" $",null==e||null==e.quotation||null==e.quotation.quotation[0]?null:e.quotation.quotation[0].pricePerPiece," to $",null==e||null==e.quotation||null==e.quotation.quotation[(null==e||null==e.quotation||null==e.quotation.quotation?null:e.quotation.quotation.length)-1]?null:e.quotation.quotation[(null==e||null==e.quotation||null==e.quotation.quotation?null:e.quotation.quotation.length)-1].pricePerPiece," ")}}function Mr(o,a){1&o&&(t.TgZ(0,"td"),t._uU(1," -- "),t.qZA())}function Sr(o,a){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",null==e||null==e.quotation||null==e.quotation.quotation[0]?null:e.quotation.quotation[0].productionleadTime," Days ")}}function Or(o,a){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.AsE(" ",null==e||null==e.quotation||null==e.quotation.quotation[0]?null:e.quotation.quotation[0].productionleadTime," Days to ",null==e||null==e.quotation||null==e.quotation.quotation[(null==e||null==e.quotation||null==e.quotation.quotation?null:e.quotation.quotation.length)-1]?null:e.quotation.quotation[(null==e||null==e.quotation||null==e.quotation.quotation?null:e.quotation.quotation.length)-1].productionleadTime," Days ")}}function Nr(o,a){if(1&o&&(t.TgZ(0,"td")(1,"a",30),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&o){const e=t.oxw(2).$implicit;t.xp6(2),t.Oqu(t.xi3(3,1,null==e||null==e.quotation?null:e.quotation.validUpto,"dd/MM/YYYY"))}}function Fr(o,a){1&o&&(t.TgZ(0,"td")(1,"a",31),t._uU(2,"Expired"),t.qZA()())}const Dr=function(o){return["/quotation/details/",o]};function Jr(o,a){if(1&o&&(t.TgZ(0,"a",32),t._uU(1,"View"),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.Q6J("routerLink",t.VKq(1,Dr,null==e||null==e.quotation?null:e.quotation._id))}}function Qr(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"td",27),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"img",28),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"date"),t.qZA(),t.YNc(9,kr,2,0,"td",26),t.YNc(10,Ir,2,1,"td",26),t.YNc(11,Ur,2,2,"td",26),t.YNc(12,Mr,2,0,"td",26),t.YNc(13,Sr,2,1,"td",26),t.YNc(14,Or,2,2,"td",26),t.YNc(15,Nr,4,4,"td",26),t.YNc(16,Fr,3,0,"td",26),t.TgZ(17,"td"),t.YNc(18,Jr,2,3,"a",29),t.qZA(),t.BQk()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.xp6(2),t.hij(" ",null==e||null==e.quotation?null:e.quotation.quoteId," "),t.xp6(3),t.hij(" ",null==e||null==e.vendor?null:e.vendor.vendorId,""),t.xp6(2),t.Oqu(t.xi3(8,12,null==e?null:e.createdAt,"dd/MM/YYYY")),t.xp6(2),t.Q6J("ngIf",(null==e?null:e.quotation)&&0==(null==e||null==e.quotation?null:e.quotation.quotation.length)),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.quotation)&&1==(null==e||null==e.quotation?null:e.quotation.quotation.length)),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.quotation)&&(null==e||null==e.quotation?null:e.quotation.quotation.length)>1),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.quotation)&&0==(null==e||null==e.quotation?null:e.quotation.quotation.length)),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.quotation)&&1==(null==e||null==e.quotation?null:e.quotation.quotation.length)),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.quotation)&&(null==e||null==e.quotation?null:e.quotation.quotation.length)>1),t.xp6(1),t.Q6J("ngIf",!i.isExpiredQuote(null==e||null==e.quotation?null:e.quotation.validUpto)),t.xp6(1),t.Q6J("ngIf",i.isExpiredQuote(null==e||null==e.quotation?null:e.quotation.validUpto)),t.xp6(2),t.Q6J("ngIf",null==e||null==e.quotation?null:e.quotation.isQuoteSubmitted)}}function Er(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"td",27),t._uU(2," ------ "),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"img",28),t._uU(5),t.qZA(),t.TgZ(6,"td",33)(7,"h6",34),t._uU(8,"The vendor has not shared the quotation"),t.qZA(),t.TgZ(9,"button",35),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.unShare(null==n?null:n._id))}),t._uU(10,"Un Share"),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw().$implicit;t.xp6(5),t.hij(" ",null==e||null==e.vendor?null:e.vendor.vendorId," ")}}function Lr(o,a){if(1&o&&(t.TgZ(0,"tr"),t.YNc(1,Qr,19,15,"ng-container",26),t.YNc(2,Er,11,1,"ng-container",26),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",null==e||null==e.quotation?null:e.quotation.isQuoteSubmitted),t.xp6(1),t.Q6J("ngIf",!(null!=e&&null!=e.quotation&&e.quotation.isQuoteSubmitted))}}function Yr(o,a){1&o&&(t.TgZ(0,"div",36),t._uU(1,"Previous quotes not foud"),t.qZA())}let $r=(()=>{class o{constructor(e,i,n,r){this.PS=e,this.ngxService=i,this._notifier=n,this.CS=r,this.searchKey="",this.fromDate="",this.toDate="",this.certificate=""}ngOnInit(){this.getCertificates(),this.productId&&this.getCurrentQuotes()}getCertificates(){this.CS.getCertificates().subscribe(e=>{e?.meta?.status&&(this.certificateList=e?.data,console.log(this.certificateList))})}ngAfterViewInit(){setTimeout(()=>{this.initDateRangePicker()},200)}initDateRangePicker(){$(".daterangePickerQuickQuote").dateRangePicker({format:"DD-MM-YYYY",autoClose:!0}).on("datepicker-change",(e,i)=>{this.fromDate=_(i.date1).startOf("day").valueOf(),this.toDate=_(i.date2).endOf("day").valueOf(),this.getCurrentQuotes()})}addQueryParams(){let e=new P.LE;return e=e.append("searchKey",this.searchKey),e=e.append("customerId",this.customerId),e=e.append("quoteStatus","EXPIRED"),e=e.append("startDate",this.fromDate),e=e.append("endDate",this.toDate),e=e.append("certificate",this.certificate),e=e.append("status",""),e}searchProduct(e){this.searchKey=e?.target?.value,this.getCurrentQuotes()}filterByCertificate(e){this.certificate=e?.target?.value,this.getCurrentQuotes()}getCurrentQuotes(){this.PS.getPreviousLeadsLit(this.addQueryParams(),this.productId).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{this.currentQuotes=e?.data})}unShare(e){this.PS.leadRemove(e).subscribe(i=>{i.meta.status?this._notifier.showSuccess(i.meta.msg,""):this._notifier.showError(i.error[0].msg,"")})}requote(e){this.PS.reQuote(e).subscribe(i=>{i.meta.status?(this._notifier.showSuccess(i.meta.msg,""),this.getCurrentQuotes()):this._notifier.showError(i.error[0].msg,"")})}checkValidDate(e){return!e||_(e)>=_(e).add(2,"days")}isExpiredQuote(e){return e<_(_().format("L")).valueOf()}openCalendar(e){e.stopPropagation(),$(".daterangePickerQuickQuote").data("dateRangePicker").open()}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(N.s),t.Y36(x.LA),t.Y36(q.l),t.Y36(U.v))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-previous-quotes"]],inputs:{productId:"productId",customerId:"customerId"},decls:50,vars:3,consts:[[1,"form-box","form-filter"],[1,"row"],[1,"col-6","col-sm-6","col-md-3","col-lg-2"],[1,"searchgroup","form-group"],["type","text","placeholder","Search",1,"form-control","form-ctrl",3,"keyup"],["type","button",1,"btn","btn-link"],["src","assets/images/search-icon.png"],[1,"col-6","col-sm-3","col-md-2","col-lg-2"],[1,"form-group"],[1,"form-control","form-ctrl",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","form-ctrl"],[1,"col-12","col-sm-6","col-md-3","col-lg-3"],[1,"form-group","calendarInput"],["type","text","placeholder","EX: 12/02/2023  -  12/02/2023",1,"form-control","daterangePicker","daterangePickerQuickQuote"],[1,"formIconsinner",3,"click"],[1,"bi","bi-calendar-week"],["id","CurrentQuotes","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","show","active"],[1,"table-card"],[1,"table-reponsive"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["class","text-center my-3",4,"ngIf"],[3,"value"],[4,"ngIf"],["scope","row"],["src","assets/images/checkmark-circle-2.png",1,"me-2",2,"width","20px","height","20px"],["href","javascript:void(0)","class","btn btn-link btn-sm text-success fw500 me-2",3,"routerLink",4,"ngIf"],["href","#",1,"btn","btn-sm","btn-green","btn-block","rounded"],["href","#",1,"btn","btn-sm","btn-secondary","btn-block","rounded"],["href","javascript:void(0)",1,"btn","btn-link","btn-sm","text-success","fw500","me-2",3,"routerLink"],["colspan","5",1,"table-secondary","text-center"],[1,"text-success"],[3,"click"],[1,"text-center","my-3"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),t.NdJ("keyup",function(s){return n.searchProduct(s)}),t.qZA(),t.TgZ(5,"button",5),t._UZ(6,"img",6),t.qZA()()(),t.TgZ(7,"div",7)(8,"div",8)(9,"select",9),t.NdJ("change",function(s){return n.filterByCertificate(s)}),t.TgZ(10,"option",10),t._uU(11,"Certification"),t.qZA(),t.YNc(12,Ar,2,2,"option",11),t.qZA()()(),t.TgZ(13,"div",7)(14,"div",8)(15,"select",12)(16,"option"),t._uU(17,"Status"),t.qZA(),t.TgZ(18,"option"),t._uU(19,"Select"),t.qZA()()()(),t.TgZ(20,"div",13)(21,"div",14),t._UZ(22,"input",15),t.TgZ(23,"span",16),t.NdJ("click",function(s){return n.openCalendar(s)}),t._UZ(24,"i",17),t.qZA()()()()(),t.TgZ(25,"div",18)(26,"div",19)(27,"div",20)(28,"table",21)(29,"thead")(30,"tr")(31,"th",22),t._uU(32," Quote ID "),t.qZA(),t.TgZ(33,"th",22),t._uU(34,"Vendor ID"),t.qZA(),t.TgZ(35,"th",22),t._uU(36,"Quote Received Date"),t.qZA(),t.TgZ(37,"th",22),t._uU(38,"Price Range"),t.qZA(),t.TgZ(39,"th",22),t._uU(40,"Lead Time Range"),t.qZA(),t.TgZ(41,"th",22),t._uU(42,"Valid upto"),t.qZA(),t.TgZ(43,"th",22),t._uU(44,"\xad"),t.qZA(),t.TgZ(45,"th",22),t._uU(46,"\xad"),t.qZA()()(),t.TgZ(47,"tbody"),t.YNc(48,Lr,3,2,"tr",23),t.qZA()(),t.YNc(49,Yr,2,0,"div",24),t.qZA()()()),2&i&&(t.xp6(12),t.Q6J("ngForOf",n.certificateList),t.xp6(36),t.Q6J("ngForOf",n.currentQuotes),t.xp6(1),t.Q6J("ngIf",(null==n.currentQuotes?null:n.currentQuotes.length)<1))},dependencies:[p.rH,d.sg,d.O5,l.YN,l.Kr,d.uU]})}return o})();function Vr(o,a){if(1&o&&(t.TgZ(0,"li",22)(1,"span",60),t._uU(2),t.qZA(),t._uU(3),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.hij("",e.label,":"),t.xp6(1),t.hij(" ",e.value,"")}}function Kr(o,a){if(1&o&&(t.ynx(0),t.YNc(1,Vr,4,2,"li",59),t.BQk()),2&o){const e=a.index,i=t.oxw();t.xp6(1),t.Q6J("ngIf",e<i.dataViewIndex)}}function Br(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",73),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function jr(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",74),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Hr(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",75),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Rr(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",76),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Gr(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",77),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Wr(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",78),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function zr(o,a){if(1&o&&(t.TgZ(0,"div",64)(1,"div",65)(2,"div",66),t.YNc(3,Br,1,2,"img",67),t.YNc(4,jr,1,1,"img",68),t.YNc(5,Hr,1,1,"img",69),t.YNc(6,Rr,1,1,"img",70),t.YNc(7,Gr,1,1,"img",71),t.YNc(8,Wr,1,1,"img",72),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()()()),2&o){const e=a.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function Xr(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",73),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function ta(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",74),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function ea(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",75),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function oa(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",76),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function na(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",77),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function ia(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",78),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function ra(o,a){if(1&o&&(t.TgZ(0,"div",64)(1,"div",65)(2,"div",66),t.YNc(3,Xr,1,2,"img",67),t.YNc(4,ta,1,1,"img",68),t.YNc(5,ea,1,1,"img",69),t.YNc(6,oa,1,1,"img",70),t.YNc(7,na,1,1,"img",71),t.YNc(8,ia,1,1,"img",72),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()()()),2&o){const e=a.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function aa(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"li",62)(2,"span",60),t._uU(3,"Artwork:"),t.qZA()(),t.TgZ(4,"div",35),t.YNc(5,ra,11,7,"div",63),t.qZA(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",e.artworks)}}function sa(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",73),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function la(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",74),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function ca(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",75),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function da(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",76),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function ua(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",77),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function pa(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",78),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function ga(o,a){if(1&o&&(t.TgZ(0,"div",64)(1,"div",65)(2,"div",66),t.YNc(3,sa,1,2,"img",67),t.YNc(4,la,1,1,"img",68),t.YNc(5,ca,1,1,"img",69),t.YNc(6,da,1,1,"img",70),t.YNc(7,ua,1,1,"img",71),t.YNc(8,pa,1,1,"img",72),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()()()),2&o){const e=a.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function ma(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"li",62)(2,"span",60),t._uU(3,"Additional Attachments:"),t.qZA()(),t.TgZ(4,"div",35),t.YNc(5,ga,11,7,"div",63),t.qZA(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",e.attachments)}}function _a(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",73),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function ha(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",74),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function fa(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",75),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function ba(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",76),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function va(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",77),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Ca(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",78),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadImage(n.url))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function ya(o,a){if(1&o&&(t.TgZ(0,"div",64)(1,"div",65)(2,"div",66),t.YNc(3,_a,1,2,"img",67),t.YNc(4,ha,1,1,"img",68),t.YNc(5,fa,1,1,"img",69),t.YNc(6,ba,1,1,"img",70),t.YNc(7,va,1,1,"img",71),t.YNc(8,Ca,1,1,"img",72),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()()()),2&o){const e=a.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function Za(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"li",62)(2,"span",60),t._uU(3,"Reseller Certificate:"),t.qZA()(),t.TgZ(4,"div",35),t.YNc(5,ya,11,7,"div",63),t.qZA(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",e.resellerAttachements)}}function xa(o,a){if(1&o&&(t.ynx(0)(1,61),t.TgZ(2,"li",62)(3,"span",60),t._uU(4," Product Images:"),t.qZA()(),t.TgZ(5,"div",35),t.YNc(6,zr,11,7,"div",63),t.qZA(),t.BQk(),t.YNc(7,aa,6,1,"ng-container",25),t.YNc(8,ma,6,1,"ng-container",25),t.YNc(9,Za,6,1,"ng-container",25),t.BQk()),2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.productImages),t.xp6(1),t.Q6J("ngIf",e.artworks.length),t.xp6(1),t.Q6J("ngIf",e.attachments.length),t.xp6(1),t.Q6J("ngIf",e.resellerAttachements.length)}}function Ta(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",40)(1,"a",79),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.showMore())}),t._uU(2),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(2),t.Oqu((null==e.enabledContents?null:e.enabledContents.length)!=e.dataViewIndex?"View More":"View Less")}}function wa(o,a){if(1&o&&(t.TgZ(0,"option",80),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e.trim()),t.xp6(1),t.hij(" ",e,"")}}function qa(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Email is required. "),t.qZA())}function Pa(o,a){if(1&o&&(t.TgZ(0,"div",81),t.YNc(1,qa,2,0,"div",25),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.quantityFormControls.selectedPrice.errors.required)}}function Aa(o,a){if(1&o&&(t.TgZ(0,"div",82)(1,"div",83),t._UZ(2,"input",84),t.qZA()()),2&o){const e=a.$implicit,i=t.oxw();t.Q6J("formGroup",i.getFormGroup(e))}}function ka(o,a){1&o&&(t.TgZ(0,"div",42)(1,"label",44),t._uU(2,"PPS Sample quantity "),t.qZA(),t._UZ(3,"input",85),t.qZA())}let Ia=(()=>{class o{constructor(e,i,n,r,s,c,m,b){this.PS=e,this._PS=i,this.ngxService=n,this.router=r,this.routes=s,this._notifier=c,this.FB=m,this._US=b,this.quantityArray=[1,2],this.submitted=!1,this.enabledContents=[],this.dataViewIndex=3,this.attachments=[],this.artworks=[],this.productImages=[],this.resellerAttachements=[]}ngOnInit(){this.getConfigList(),this.initForm(),this.routes.params.subscribe(e=>{console.log(e),e&&e.productId&&e.customerId&&(this.productId=e.productId,this.customerId=e.customerId,this.productDetails())})}showMore(){if(this.enabledContents?.length!=this.dataViewIndex){let i=this.enabledContents.indexOf(this.enabledContents[this.enabledContents.length-1]);this.dataViewIndex=i+1}else this.dataViewIndex=3}initForm(){this.oneTimeCostForm=this.FB.group({selectedPrice:new l.NI({value:"",disabled:!0},[l.kI.required]),ppsOption:[!1],ppsQuantity:[""],costsArray:new l.Oe([])})}createItem(e){return this.FB.group({cost:new l.NI(e||"",[l.kI.required])})}get quantityFormControls(){return this.oneTimeCostForm.controls}get oneTimeCostFormControls(){return this.oneTimeCostForm.controls.costsArray}addItem(e){this.oneTimeCostFormControls.push(this.createItem(e))}removeOneTimeCost(e){this.oneTimeCostForm.controls.costsArray.removeAt(e)}ngAfterViewInit(){this.initializeFancyBox(),this.initializeSwiper()}initializeFancyBox(){setTimeout(()=>{$('[data-fancybox="gallery"]').fancybox({buttons:["zoom","fullScreen","close"],loop:!1,protect:!0,margin:[44,0,22,0],thumbs:{autoStart:!0,axis:"x"}})},200)}initializeSwiper(){setTimeout(()=>{$(".detail-gallery").length>0&&$(".detail-gallery").each(function(){new Swiper(".slider-thumbnail",{slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,navigation:{nextEl:".nextMe",prevEl:".prevMe"}}),$(this).find(".carousel a").on("click",function(i){i.preventDefault(),$(this).parents(".detail-gallery").find(".carousel a").removeClass("active"),$(this).addClass("active");var n=$(this).find("img").attr("src");$(this).parents(".detail-gallery").find("#img_zoom").attr("src",n),$(".zoomWindow").css("background-image",'url("'+n+'")')})})},200)}productDetails(){this.ngxService.start(),this._PS.getCustomerProductDetails(this.customerId,this.productId).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e?.meta?.status&&(this.product=e.data,e.data.productImages.map(i=>{let n=i.split("/"),r=this.getFileType(n[n.length-1]);delete r.type,this.productImages.push({url:i,name:n[n.length-1],...r})}),e.data.productAttachments.map(i=>{let n=i.split("/"),r=this.getFileType(n[n.length-1]);delete r.type,this.attachments.push({url:i,name:n[n.length-1],...r})}),e.data.productArtworks.map(i=>{let n=i.split("/"),r=this.getFileType(n[n.length-1]);delete r.type,this.artworks.push({url:i,name:n[n.length-1],...r})}),e.data.resellerCertificate.map(i=>{let n=i.split("/"),r=this.getFileType(n[n.length-1]);delete r.type,this.resellerAttachements.push({url:i,name:n[n.length-1],...r})}),this.product.adminProduct?.productForm?.map(i=>{if("panel"===i.type)i.components.map(n=>{if("object"==typeof this.product.productForm?.[n.key])if("custom-selectboxes"===n.type){let r=[];n.values.map(s=>{this.product.productForm[n.key][s.value]&&r.push(s.label)}),this.enabledContents.push({label:n.label,value:`${r.join(", ")}`})}else this.enabledContents.push({label:n.label,value:`${this.product.productForm?.[n.key].value} ${this.product.productForm?.[n.key].unit}`});else{if("custom-select"===n.type){let r="";n.data.values.map(s=>{this.product.productForm[n.key]===s.value&&(r=s.label)}),this.enabledContents.push({label:n.label,value:`${r}`})}else if("custom-radio"===n.type){let r="";n.values.map(s=>{this.product.productForm[n.key]===s.value&&(r=s.label)}),this.enabledContents.push({label:n.label,value:`${r}`})}"custom-radio"!=n.type&&this.enabledContents.push({label:n.label,value:this.product.productForm?.[n.key]})}});else if("columns"===i.type)i.columns.map(n=>{n.components.map(r=>{if("object"==typeof this.product.productForm?.[r.key])if("custom-selectboxes"===r.type){let s=[];r.values.map(c=>{this.product.productForm[r.key][c.value]&&s.push(c.label)}),this.enabledContents.push({label:r.label,value:`${s.join(", ")}`})}else this.enabledContents.push({label:r.label,value:`${this.product.productForm?.[r.key].value} ${this.product.productForm?.[r.key].unit}`});else if("custom-select"===r.type){let s="";r.data.values.map(c=>{this.product.productForm[r.key]===c.value&&(s=c.label)}),this.enabledContents.push({label:r.label,value:`${s}`})}else if("custom-radio"===r.type){let s="";r.values.map(c=>{this.product.productForm[r.key]===c.value&&(s=c.label)}),this.enabledContents.enabledContents.push({label:r.label,value:`${s}`})}else this.enabledContents.push({label:r.label,value:this.product.productForm?.[r.key]})})});else if("object"==typeof this.product.productForm[i.key])if("custom-selectboxes"===i.type){let n=[];i.values.map(r=>{this.product.productForm[i.key][r.value]&&n.push(r.label)}),this.enabledContents.push({label:i.label,value:`${n.join(", ")}`})}else this.enabledContents.push(i.multiple?{label:i.label,value:`${this.product.productForm[i.key].join(", ")}`}:{label:i.label,value:`${this.product.productForm[i.key].value} ${this.product.productForm[i.key].unit}`});else if("custom-select"===i.type){let n="";i.data.values.map(r=>{this.product.productForm[i.key]===r.value&&(n=r.label)}),this.enabledContents.push({label:i.label,value:`${n}`})}else if("custom-radio"===i.type){let n="";i.values.map(r=>{this.product.productForm[i.key]===r.value&&(n=r.label)}),this.enabledContents.push({label:i.label,value:`${n}`})}else this.enabledContents.push({label:i.label,value:this.product.productForm?.[i.key]})}),this.product.quantities&&this.product.quantities.length>0?(this.oneTimeCostForm.patchValue({selectedPrice:this.product?.quantityType,ppsOption:this.product?.isPrePurchaseSampleRequired,ppsQuantity:this.product?.prePurchaseSampleQuantity}),this.product.quantities.map((i,n)=>{this.addItem(i)})):this.addItem())})}getConfigList(){this.ngxService.start(),this.PS.getConfigQuantityList().pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e?.meta?.status&&(this.quantityList=e.data.value.split("|"))})}getFormGroup(e){return e}saveQuantity(){if(this.oneTimeCostForm.valid){let e=[],i={_id:this.productId,quantityType:this.oneTimeCostForm.value.selectedPrice,quantities:e,isPrePurchaseSampleRequired:this.oneTimeCostForm.value.ppsOption,...this.oneTimeCostForm.value.ppsOption&&{prePurchaseSampleQuantity:this.oneTimeCostForm.value.ppsQuantity}};this.oneTimeCostForm.value.costsArray.map((n,r)=>{e.push(n?.cost)}),this.PS.addQuantity(i).pipe((0,h.x)(()=>{})).subscribe(n=>{n.meta.status?this._notifier.showSuccess(n.meta.msg,"Success"):this._notifier.showWarning(n.meta.msg,"Error")},n=>{this._notifier.showError("Something Went Wrong","Error")})}else this.submitted=!0}getFileType(e){const i=e.lastIndexOf(".");if(-1===i)return"File name has no extension";switch(e.substring(i+1).toLowerCase()){case"jpg":case"jpeg":case"png":return{type:"Image file",isImage:!0};case"pdf":return{type:"PDF file",isPdf:!0};case"doc":case"docx":return{type:"Word document",isWord:!0};case"txt":return{type:"Text file",isText:!0};case"ai":return{type:"Adobe Illustrator file",isIllustrator:!0};case"cdr":return{type:"CorelDRAW file",isCorelDraw:!0};case"xls":return{type:"Excel spreadsheet",isExcel:!0};case"csv":return{type:"CSV file",isExcel:!0};default:return"Unknown file type"}}downloadImage(e){return(0,L.Z)(function*(){const n=yield(yield fetch(`${e}?pactap=1`)).blob(),r=e.substring(e.lastIndexOf("/")+1),s=document.createElement("a"),c=window.URL.createObjectURL(n);s.href=c,s.download=r,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(e)})()}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(N.s),t.Y36(C.M),t.Y36(x.LA),t.Y36(p.F0),t.Y36(p.gz),t.Y36(q.l),t.Y36(l.qu),t.Y36(J.K))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-customer-product-details"]],decls:93,vars:24,consts:[[1,"dashboardMain"],[1,"row"],[1,"col-12","col-sm-7","col-md-7","col-lg-7"],[1,"page-header","back-page","border-0"],[1,"mb-0"],["href","javascript:history.back()",1,"back-arrow"],["src","assets/images/back-arrow.png"],[1,"col-12","col-sm-12","col-md-5","col-lg-5"],[1,"bg-white","white-well"],[1,"preview-detail"],["id","carouselExampleControls","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["alt","...",1,"d-block","w-100",3,"src"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"product-title"],[1,"Price-Details","mb-0"],[1,"list-group","list-group-flush","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"badge","text-success"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","form-box",4,"ngIf"],[1,"col-12","col-sm-12","col-md-7","col-lg-7"],[3,"formGroup"],[1,"table-card-header","mb-3"],[1,"row","align-items-center"],[1,"col-8","col-sm-8","col-md-8","col-lg-8"],[1,"small"],[1,"col-4","col-sm-4","col-md-4","col-lg-4"],[1,"form-box","form-filter"],[1,"form-group","mb-0"],["formControlName","selectedPrice",1,"form-control","form-ctrl",3,"disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"form-box"],["class","form-group alert alert-dismissible fade show","role","alert",3,"formGroup",4,"ngFor","ngForOf"],[1,"form-group"],[1,"form-check"],["for","invalidCheck",1,"form-check-label"],["type","checkbox","id","invalidCheck","readonly","true","formControlName","ppsOption",1,"form-check-input",3,"disabled"],["class","form-group",4,"ngIf"],[1,"nav","nav-pills","tabs-nav-success","tabs-nav-left"],[1,"nav-item"],["data-bs-toggle","tab","aria-current","page","href","#CurrentQuotes",1,"nav-link","active"],["data-bs-toggle","tab","href","#CurrentOrders",1,"nav-link"],["data-bs-toggle","tab","href","#PreviousQuotes",1,"nav-link"],["data-bs-toggle","tab","href","#PreviousOrders",1,"nav-link"],["id","myTabContent",1,"tab-content","bg-white","p-4","mb-3"],["id","CurrentQuotes","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","show","active"],[3,"productId","customerId"],["id","CurrentOrders","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade"],["id","PreviousQuotes","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade"],["id","PreviousOrders","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngIf"],[1,"badge"],["productImages.length",""],[1,"list-group-item","align-items-center"],["class","form-check-inline text-center",4,"ngFor","ngForOf"],[1,"form-check-inline","text-center"],[1,"alert-photo"],[1,"alert-photo-img"],[3,"src","alt","click",4,"ngIf"],["src","assets/images/cdr.png",3,"alt","click",4,"ngIf"],["src","assets/images/pdf.png",3,"alt","click",4,"ngIf"],["src","assets/images/excel.png",3,"alt","click",4,"ngIf"],["src","assets/images/xls.png",3,"alt","click",4,"ngIf"],["src","assets/images/illustrator.png",3,"alt","click",4,"ngIf"],[3,"src","alt","click"],["src","assets/images/cdr.png",3,"alt","click"],["src","assets/images/pdf.png",3,"alt","click"],["src","assets/images/excel.png",3,"alt","click"],["src","assets/images/xls.png",3,"alt","click"],["src","assets/images/illustrator.png",3,"alt","click"],["href","javascript:void(0)",1,"btn","btn-sumbit","btn-block","btn-outline-success",3,"click"],[3,"value"],[1,"invalid-feedback"],["role","alert",1,"form-group","alert","alert-dismissible","fade","show",3,"formGroup"],[1,"d-flex"],["type","number","placeholder","Enter Quantity","readonly","true","formControlName","cost",1,"form-control","form-ctrl"],["type","number","placeholder","Enter Quantity","readonly","true","formControlName","ppsQuantity",1,"form-control","form-ctrl"]],template:function(i,n){1&i&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h3",4)(6,"a",5),t._UZ(7,"img",6),t.qZA(),t._uU(8," Product Details "),t.qZA()()()(),t.TgZ(9,"div",1)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12),t._UZ(16,"img",13),t.qZA()(),t.TgZ(17,"button",14),t._UZ(18,"span",15),t.TgZ(19,"span",16),t._uU(20,"Previous"),t.qZA()(),t.TgZ(21,"button",17),t._UZ(22,"span",18),t.TgZ(23,"span",16),t._uU(24,"Next"),t.qZA()()(),t.TgZ(25,"div",19)(26,"h4"),t._uU(27),t.qZA()(),t.TgZ(28,"div",20)(29,"ul",21)(30,"li",22)(31,"span",23),t._uU(32,"Product Title:"),t.qZA(),t._uU(33),t.qZA(),t.TgZ(34,"li",22)(35,"span",23),t._uU(36,"Category:"),t.qZA(),t._uU(37),t.qZA(),t.TgZ(38,"li",22)(39,"span",23),t._uU(40,"Sub Category:"),t.qZA(),t._uU(41),t.qZA(),t.YNc(42,Kr,2,1,"ng-container",24),t.YNc(43,xa,10,4,"ng-container",25),t.qZA(),t.YNc(44,Ta,3,1,"div",26),t.qZA()()()(),t.TgZ(45,"div",27)(46,"form",28)(47,"div",8)(48,"div",29)(49,"div",30)(50,"div",31)(51,"h4"),t._uU(52,"Quantity "),t.TgZ(53,"span",32),t._uU(54,"(Max 5 can be added)"),t.qZA()()(),t.TgZ(55,"div",33)(56,"div",34)(57,"div",35)(58,"select",36)(59,"option",37),t._uU(60,"Select Quantity"),t.qZA(),t.YNc(61,wa,2,2,"option",38),t.qZA(),t.YNc(62,Pa,2,1,"div",39),t.qZA()()()()(),t.TgZ(63,"div",40),t.YNc(64,Aa,3,1,"div",41),t.TgZ(65,"div",42)(66,"div",43)(67,"label",44),t._UZ(68,"input",45),t._uU(69," PPS Required "),t.qZA()()(),t.YNc(70,ka,4,0,"div",46),t.qZA()()()()(),t.TgZ(71,"ul",47)(72,"li",48)(73,"a",49),t._uU(74,"Current Quotes"),t.qZA()(),t.TgZ(75,"li",48)(76,"a",50),t._uU(77,"Current Orders"),t.qZA()(),t.TgZ(78,"li",48)(79,"a",51),t._uU(80,"Prev Quotes"),t.qZA()(),t.TgZ(81,"li",48)(82,"a",52),t._uU(83,"Prev Orders"),t.qZA()()(),t.TgZ(84,"div",53)(85,"div",54),t._UZ(86,"app-current-quotes",55),t.qZA(),t.TgZ(87,"div",56),t._UZ(88,"app-current-orders",55),t.qZA(),t.TgZ(89,"div",57),t._UZ(90,"app-previous-quotes",55),t.qZA(),t.TgZ(91,"div",58),t._UZ(92,"app-previous-orders",55),t.qZA()()()()),2&i&&(t.xp6(16),t.Q6J("src",(null==n.product||null==n.product.productImages?null:n.product.productImages.length)<1?null==n.product||null==n.product.adminProduct?null:n.product.adminProduct.productImg[0]:null==n.product?null:n.product.productImages[0],t.LSH),t.xp6(11),t.AsE("",null==n.product||null==n.product.adminProduct?null:n.product.adminProduct.productName,", ",null==n.product?null:n.product.customerProductId,""),t.xp6(6),t.hij(" ",null!=n.product&&null!=n.product.adminProduct&&n.product.adminProduct.productTitle?null==n.product||null==n.product.adminProduct?null:n.product.adminProduct.productTitle:null==n.product?null:n.product.productTitle," "),t.xp6(4),t.hij(" ",null==n.product||null==n.product.category?null:n.product.category.categoryName," "),t.xp6(4),t.hij(" ",null==n.product||null==n.product.subCategory?null:n.product.subCategory.categoryName,""),t.xp6(1),t.Q6J("ngForOf",n.enabledContents),t.xp6(1),t.Q6J("ngIf",3<n.dataViewIndex),t.xp6(1),t.Q6J("ngIf",(null==n.enabledContents?null:n.enabledContents.length)>3),t.xp6(2),t.Q6J("formGroup",n.oneTimeCostForm),t.xp6(12),t.Q6J("disabled",!0),t.xp6(3),t.Q6J("ngForOf",n.quantityList),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.quantityFormControls.selectedPrice.errors),t.xp6(2),t.Q6J("ngForOf",n.oneTimeCostFormControls.controls),t.xp6(4),t.Q6J("disabled",!0),t.xp6(2),t.Q6J("ngIf",null==n.oneTimeCostForm||null==n.oneTimeCostForm.value?null:n.oneTimeCostForm.value.ppsOption),t.xp6(16),t.Q6J("productId",n.productId)("customerId",n.customerId),t.xp6(2),t.Q6J("productId",n.productId)("customerId",n.customerId),t.xp6(2),t.Q6J("productId",n.productId)("customerId",n.customerId),t.xp6(2),t.Q6J("productId",n.productId)("customerId",n.customerId))},dependencies:[d.sg,d.O5,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l.JJ,l.JL,l.sg,l.u,lr,br,Pr,$r]})}return o})();function Ua(o,a){if(1&o&&(t.TgZ(0,"option",30),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",null==e?null:e._id),t.xp6(1),t.hij(" ",null==e?null:e.categoryName,"")}}function Ma(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"a",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.selectAll())}),t._uU(1," Select all"),t.qZA()}}function Sa(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"a",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.selectedProducts=[])}),t._uU(1," Un-Select all"),t.qZA()}}function Oa(o,a){1&o&&(t.TgZ(0,"div",31),t._uU(1," Product list not found "),t.qZA())}function Na(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",47)(1,"div",48),t._UZ(2,"input",49)(3,"label",50)(4,"span",24),t.qZA(),t.TgZ(5,"div",51)(6,"div",52)(7,"input",53),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw().$implicit,s=t.oxw();return t.KtG(s.selectProduct(n,r))}),t.qZA()()()()}if(2&o){const e=t.oxw(),i=e.index,n=e.$implicit,r=t.oxw();t.xp6(2),t.MGl("id","demo_",i,""),t.Q6J("checked","ACTIVE"===(null==n?null:n.status)),t.xp6(1),t.MGl("for","demo_",i,""),t.xp6(4),t.Q6J("checked",r.selectedProducts.includes(null==n?null:n._id))}}const gt=function(o,a){return["/products-master/customer-products-details",o,a]};function Fa(o,a){if(1&o&&(t.TgZ(0,"a",54),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("routerLink",t.WLB(2,gt,i.customerId,null==e?null:e._id)),t.xp6(1),t.Oqu(null!=e&&null!=e.adminProduct&&e.adminProduct.productTitle?null==e||null==e.adminProduct?null:e.adminProduct.productTitle:null==e?null:e.productTitle)}}const Da=function(o){return["/products-master/detail",o]};function Ja(o,a){if(1&o&&(t.TgZ(0,"a",54),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(2,Da,null==e?null:e._id)),t.xp6(1),t.hij(']">',null!=e&&null!=e.adminProduct&&e.adminProduct.productTitle?null==e||null==e.adminProduct?null:e.adminProduct.productTitle:null==e?null:e.productTitle,"")}}function Qa(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"p")(2,"span",55),t._uU(3),t.qZA(),t._uU(4),t.qZA(),t.BQk()),2&o){const e=a.$implicit;t.xp6(3),t.hij("",e.label,":"),t.xp6(1),t.hij(" ",e.value,"")}}function Ea(o,a){if(1&o&&(t.TgZ(0,"a",56),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("routerLink",t.WLB(2,gt,i.customerId,null==e?null:e._id)),t.xp6(1),t.hij("No of Quotations - ",null==e?null:e.quotation,"")}}function La(o,a){if(1&o&&(t.TgZ(0,"a",57),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij("No of Quotations - ",null==e?null:e.quotation,"")}}function Ya(o,a){if(1&o&&(t.TgZ(0,"a",57),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij("Shared with - ",null==e?null:e.shared,"")}}function $a(o,a){if(1&o&&(t.TgZ(0,"a",56),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("routerLink",t.WLB(2,gt,i.customerId,null==e?null:e._id)),t.xp6(1),t.hij("Shared with - ",null==e?null:e.shared," ")}}function Va(o,a){if(1&o&&(t.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"h6"),t._uU(4),t.qZA(),t.YNc(5,Na,8,4,"div",35),t.qZA(),t.TgZ(6,"div",36),t._UZ(7,"img",37),t.qZA(),t.TgZ(8,"div",38)(9,"div",39)(10,"h6",40),t.YNc(11,Fa,2,5,"a",41),t.YNc(12,Ja,2,4,"a",41),t.qZA(),t.TgZ(13,"div"),t._uU(14),t.qZA(),t._UZ(15,"br"),t.TgZ(16,"div",42),t.YNc(17,Qa,5,2,"ng-container",43),t.qZA()(),t.TgZ(18,"div",44),t.YNc(19,Ea,2,5,"a",45),t.YNc(20,La,2,1,"a",46),t.YNc(21,Ya,2,1,"a",46),t.YNc(22,$a,2,5,"a",45),t.qZA()()()()),2&o){const e=a.$implicit,i=t.oxw();t.xp6(4),t.hij("Product ID: ",null==e?null:e.customerProductId,""),t.xp6(1),t.Q6J("ngIf",i.productPermission.update),t.xp6(2),t.Q6J("src",(null==e?null:e.productImages[0])||(null==e||null==e.adminProduct?null:e.adminProduct.productImg[0]),t.LSH),t.xp6(4),t.Q6J("ngIf",i.customerId),t.xp6(1),t.Q6J("ngIf",!i.customerId),t.xp6(2),t.Oqu(null==e||null==e.adminProduct?null:e.adminProduct.productName),t.xp6(3),t.Q6J("ngForOf",null==e?null:e.enabledContents),t.xp6(2),t.Q6J("ngIf","APPROVED"===(null==e?null:e.state)&&(null==e?null:e.quotation)>0),t.xp6(1),t.Q6J("ngIf","APPROVED"===(null==e?null:e.state)&&(null==e?null:e.quotation)<1),t.xp6(1),t.Q6J("ngIf","APPROVED"===(null==e?null:e.state)&&(null==e?null:e.shared)<1),t.xp6(1),t.Q6J("ngIf","APPROVED"===(null==e?null:e.state)&&(null==e?null:e.shared)>0)}}let Ka=(()=>{class o{constructor(e,i,n,r,s,c,m,b){this._US=e,this.routes=i,this.ngxService=n,this._notifier=r,this._CS=s,this.router=c,this.PS=m,this._PS=b,this.modelChanged=new Z.x,this.searchKey="",this.categoryId="",this.subCategoryId="",this.selectedProducts=[],this.sortBy="",this.activeTab="My Products",this.sortStatus="",this.permissionsArr=[],this.productPermission={read:!1,add:!1,update:!1,delete:!1},this.cloneStatus=!1,this.cloneCategoryId="",this.cloneSubCategoryId="",this.cloneProductId="",this.cloneAdminProductId=""}ngOnInit(){this._US.getPermissions().subscribe(e=>{this.permissionsArr=e,Object.keys(this.productPermission).map(i=>{this.canPerformAction("Customer Products",i)})}),this.customerName=this.routes.snapshot.paramMap.get("name"),this.customerId=this.routes.snapshot.paramMap.get("customerId"),this.products(),this.getCategories(),this.modelChanged.pipe((0,k.b)(500),(0,I.x)()).subscribe(e=>{this.searchKey=e,this.products()})}canPerformAction(e,i){this.productPermission[i]=this._US.hasPermission(e,i,this.permissionsArr)}addQueryParams(){let e=new P.LE;return e=e.append("searchKey",this.searchKey),e=e.append("categoryId",this.categoryId),e=e.append("sortBy",this.sortBy),e}searchData(e){this.searchKey=e?.target?.value,this.products()}filterBySubCategory(e){this.subCategoryId=e?.target?.value,this.products()}filterByCategory(e){this.categoryId=e?.target?.value,this.products()}filterBySort(e){this.sortBy=e?.target?.value,this.products()}filterByStatus(e){this.sortStatus=e?.target?.value,this.products()}changed(e){this.modelChanged.next(e)}products(){this.ngxService.start(),this._CS.getProductList(this.addQueryParams(),this.customerId).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e?.meta?.status?(this.myProducts=e.data,this.myProducts?.map(i=>{i.enabledContents=[],i.adminProduct?.productForm?.map(n=>{"panel"===n.type?n.components.map(r=>{r.enabled&&i.enabledContents.push("object"==typeof i.productForm?.[n.key]?{label:r.label,value:`${i.productForm?.[r.key].value} ${i.productForm?.[r.key].unit}`}:{label:r.label,value:i.productForm?.[r.key]})}):"columns"===n.type?n.columns.map(r=>{r.components.map(s=>{s.enabled&&i.enabledContents.push("object"==typeof i.productForm?.[n.key]?{label:s.label,value:`${i.productForm?.[s.key].value} ${i.productForm?.[s.key].unit}`}:{label:s.label,value:i.productForm?.[s.key]})})}):n.enabled&&i.enabledContents.push("object"==typeof i?.productForm?.[n.key]?{label:n.label,value:`${i.productForm?.[n.key].value} ${i.productForm?.[n.key].unit}`}:{label:n.label,value:i.productForm?.[n.key]})})}),this.metaData=e.metadata[0]):this.myProducts=[]})}deleteProductModal(e){$("#DeleteModal").modal("show"),this.deleteProductId=e}deleteProduct(){$("#DeleteModal").modal("hide"),this.ngxService.start(),this._CS.deleteProduct(this.deleteProductId,this.customerId).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{$("#errerModal").modal("show"),this.products()})}changeProductStatus(e,i){this.selectedProduct=e,this.statusModalHeading="DEACTIVE"===e.status?"activate the product?":"deactivate the product?",$("#ProductActivationModal").modal("show"),$("#ProductActivationModal").on("hidden.bs.modal",n=>{this.statusModalHeading="",this.selectedProduct=void 0})}cloneProduct(e){this.cloneStatus=!1,$("#CloneProductModal").modal("show"),this.cloneCategoryId=e?.category?._id,this.cloneSubCategoryId=e?.subCategory?._id,this.cloneProductId=e?._id,this.cloneAdminProductId=e?.adminProduct?._id,this.cloneStatus=!0}activateProduct(){$("#ProductActivationModal").modal("hide"),this.ngxService.start(),this._CS.productStatus({_id:this.selectedProduct._id,status:"DEACTIVE"===this.selectedProduct.status?"ACTIVE":"DEACTIVE",customerId:this.customerId}).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(i=>{i.meta.status?(this.products(),this._notifier.showSuccess(i.meta.msg,"Success")):this._notifier.showWarning(i.meta.msg,"Error")})}editProduct(e){this.router.navigate(["/product/edit"],{queryParams:{id:e}})}singleShareWith(e){this.router.navigate(["/product/share-with"],{queryParams:{ids:[e]}})}update(e){this.cloneStatus=!1,e&&this.products()}selectAll(){this.myProducts.map((e,i)=>{this.selectedProducts.push(e._id)})}selectProduct(e,i){if(e.target.checked)this.selectedProducts.push(i._id);else{const n=this.selectedProducts.indexOf(i);this.selectedProducts.splice(n,1)}}detectStatusChange(e){this.chosenStatus=e.target.checked,this.changeStatus()}changeStatus(){this.selectedProducts.length?(this.ngxService.start(),this.PS.multipleProductStatus({customerId:this.customerId,_ids:this.selectedProducts,status:this.chosenStatus?"ACTIVE":"DEACTIVE"}).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(i=>{i.meta.status?(this.products(),this._notifier.showSuccess(i.meta.msg,"Success")):this._notifier.showWarning(i.meta.msg,"")},i=>{this._notifier.showError("Something went wrong","Error")})):(setTimeout(()=>{this.chosenStatus=!this.chosenStatus},200),this._notifier.showWarning("Please select any product to change the status",""))}deleteProducts(){this.selectedProducts.length?(this.ngxService.start(),this.PS.deleteMultipleProduct({_ids:this.selectedProducts,customerId:this.customerId}).pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(i=>{i.meta.status?(this.products(),this._notifier.showSuccess(i.meta.msg,"Success")):this._notifier.showWarning(i.meta.msg,"Error")},i=>{this._notifier.showError("Something went wrong","Error")})):this._notifier.showWarning("Please select any product to delete it.","")}shareWith(){this.router.navigate(["/product/share-with"],{queryParams:{ids:this.selectedProducts}})}addCategoryQueryParams(){let e=new P.LE;return e=e.append("type","ROOT"),e}getCategories(){this.ngxService.start(),this._PS.getCategoryList("ROOT","active","","","").pipe((0,h.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?this.categoryList=e?.data:this._notifier.showError(e.meta.msg,"Error")})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(S.KD),t.Y36(p.gz),t.Y36(x.LA),t.Y36(S.lG),t.Y36(ct.v),t.Y36(p.F0),t.Y36(N.s),t.Y36(C.M))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-select"]],decls:43,vars:7,consts:[[1,"dashboardMain"],[1,"page-header","back-page","border-0"],[1,"mb-0"],["href","javascript:history.back()",1,"back-arrow"],["src","assets/images/back-arrow.png"],[1,"form-box","form-filter"],[1,"row"],[1,"col-12","col-sm-4","col-md-4","col-lg-4","col-xl-3"],[1,"searchgroup","form-group"],["type","text","placeholder","Search",1,"form-control","form-ctrl",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-link"],["src","assets/images/search-icon.png"],[1,"col-6","col-sm-4","col-md-4","col-lg-4","col-xl-2"],[1,"form-group"],[1,"form-control","form-ctrl",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","new"],["calue","old"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-5","text-end"],[1,"form-group","d-flex","align-items-center","justify-content-end","select-end-btns"],[1,"active-toggle","me-2"],["type","checkbox","id","demo",1,"input-switch",3,"checked","change"],["for","demo",1,"label-switch"],[1,"info-text"],["href","javascript:void(0)",1,"btn","me-2","btn-sumbit","btn-white","text-success",3,"click"],[1,"me-2","fa","fa-trash-o"],["href","javascript:void(0)","class","btn me-2 btn-sumbit btn-white text-success",3,"click",4,"ngIf"],["class","col-12 col-sm-6 col-md-6 col-lg-6 col-xl-4",4,"ngIf"],["class","col-12 col-sm-6 col-md-6 col-lg-4",4,"ngFor","ngForOf"],[3,"value"],[1,"col-12","col-sm-6","col-md-6","col-lg-6","col-xl-4"],[1,"col-12","col-sm-6","col-md-6","col-lg-4"],[1,"product-item"],[1,"product-header","d-flex","justify-content-between","align-items-center"],["class","right-btns-dropdown",4,"ngIf"],[1,"product-tmb"],["alt","",3,"src"],[1,"product-body"],[1,"product-body-inner","mb-1"],[1,"border-b"],[3,"routerLink",4,"ngIf"],[1,"productDetailsDiv"],[4,"ngFor","ngForOf"],[1,"groups-btns","quoteQtyGrp"],["href","javascript:void(0)","class","btn btn-light btn-block text-success",3,"routerLink",4,"ngIf"],["href","javascript:void(0)","class","btn btn-light btn-block text-success",4,"ngIf"],[1,"right-btns-dropdown"],[1,"active-toggle","me-1"],["type","checkbox",1,"input-switch",3,"id","checked"],[1,"label-switch",3,"for"],[1,"form-group","mb-1"],[1,"form-check"],["type","checkbox","value","","id","invalidCheck","required","",1,"form-check-input",3,"checked","change"],[3,"routerLink"],[1,"fw500"],["href","javascript:void(0)",1,"btn","btn-light","btn-block","text-success",3,"routerLink"],["href","javascript:void(0)",1,"btn","btn-light","btn-block","text-success"]],template:function(i,n){1&i&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"h3",2)(4,"a",3),t._UZ(5,"img",4),t.qZA(),t._uU(6," Select Product "),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"input",9),t.NdJ("ngModelChange",function(s){return n.searchKey=s})("ngModelChange",function(s){return n.changed(s)}),t.qZA(),t.TgZ(12,"button",10),t._UZ(13,"img",11),t.qZA()()(),t.TgZ(14,"div",12)(15,"div",13)(16,"select",14),t.NdJ("change",function(s){return n.filterByCategory(s)}),t.TgZ(17,"option",15),t._uU(18,"Category"),t.qZA(),t.YNc(19,Ua,2,2,"option",16),t.qZA()()(),t.TgZ(20,"div",12)(21,"div",13)(22,"select",14),t.NdJ("change",function(s){return n.filterBySort(s)}),t.TgZ(23,"option",15),t._uU(24,"Sort by"),t.qZA(),t.TgZ(25,"option",17),t._uU(26,"New"),t.qZA(),t.TgZ(27,"option",18),t._uU(28,"Old"),t.qZA()()()(),t.TgZ(29,"div",19)(30,"div",20)(31,"div",21)(32,"input",22),t.NdJ("change",function(s){return n.detectStatusChange(s)}),t.qZA(),t._UZ(33,"label",23)(34,"span",24),t.qZA(),t.TgZ(35,"a",25),t.NdJ("click",function(){return n.deleteProducts()}),t._UZ(36,"i",26),t._uU(37," Delete"),t.qZA(),t.YNc(38,Ma,2,0,"a",27),t.YNc(39,Sa,2,0,"a",27),t.qZA()()()(),t.TgZ(40,"div",6),t.YNc(41,Oa,2,0,"div",28),t.YNc(42,Va,23,11,"div",29),t.qZA()()()),2&i&&(t.xp6(11),t.Q6J("ngModel",n.searchKey),t.xp6(8),t.Q6J("ngForOf",n.categoryList),t.xp6(13),t.Q6J("checked",n.chosenStatus),t.xp6(6),t.Q6J("ngIf",!n.selectedProducts.length),t.xp6(1),t.Q6J("ngIf",n.selectedProducts.length),t.xp6(2),t.Q6J("ngIf",(null==n.myProducts?null:n.myProducts.length)<1),t.xp6(1),t.Q6J("ngForOf",n.myProducts))},dependencies:[p.rH,d.sg,d.O5,l.YN,l.Kr,l.Fj,l.JJ,l.On],styles:[".productTabs[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;display:flex;align-items:center;justify-content:space-between;cursor:pointer}.productTabActive[_ngcontent-%COMP%]{background-color:#3e916c;color:#fff}.product-body-inner[_ngcontent-%COMP%]{height:185px;overflow:hidden}"]})}return o})();function Ba(o,a){if(1&o&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",e._id),t.xp6(1),t.hij(" ",e.categoryName," ")}}function ja(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Category is required. "),t.qZA())}function Ha(o,a){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,ja,2,0,"div",37),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productFormControls.categoryId.errors.required)}}function Ra(o,a){if(1&o&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",e._id),t.xp6(1),t.hij(" ",e.categoryName," ")}}function Ga(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Sub Category is required. "),t.qZA())}function Wa(o,a){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,Ga,2,0,"div",37),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productFormControls.subCategoryId.errors.required)}}function za(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Product Name is required. "),t.qZA())}function Xa(o,a){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,za,2,0,"div",37),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productFormControls.productName.errors.required)}}function ts(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," HsnCode is required. "),t.qZA())}function es(o,a){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,ts,2,0,"div",37),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productFormControls.hsnCode.errors.required)}}function os(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," AvaTaxCode is required. "),t.qZA())}function ns(o,a){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,os,2,0,"div",37),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productFormControls.avaTaxCode.errors.required)}}function is(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1," Product Image is required. "),t.qZA())}function rs(o,a){if(1&o&&(t.TgZ(0,"div",38),t.YNc(1,is,2,0,"div",37),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productFormControls.productImg.errors.required)}}const H=function(o){return{"is-invalid":o}},xt=function(o){return{"fa-spin fa-spinner":o}},ss=[{path:"category",canActivate:[M.n],data:{module:"Category",permission:"read"},component:ce},{path:"cat-details/:catId",canActivate:[M.n],data:{module:"Category",permission:"read"},component:en},{path:"details/:productId",canActivate:[M.n],data:{module:"Product",permission:"read"},component:on},{path:"sub-cat-details/:catId",canActivate:[M.n],data:{module:"Sub Category",permission:"read"},component:nn},{path:"sub-category",canActivate:[M.n],data:{module:"Sub Category",permission:"read"},component:Re},{path:"products",canActivate:[M.n],data:{module:"Product",permission:"read"},component:we},{path:"add-product",canActivate:[M.n],data:{module:"Product",permission:"add"},component:ho},{path:"edit-product/:productId",canActivate:[M.n],data:{module:"Product",permission:"update"},component:Mo},{path:"newclone-product/:productId",canActivate:[M.n],data:{module:"Product",permission:"update"},component:(()=>{class o{constructor(e,i,n,r,s,c){this._FB=e,this._notifier=i,this._PS=n,this._CS=r,this.router=s,this.routes=c,this.fields=["textfield","textarea","number","password","checkbox","selectboxes","select","radio","button"],this.refreshForm=new t.vpe,this.options={noDefaultSubmitButton:!0,builder:{advanced:!1,search:!1,data:!1,layout:!1,premium:!1,basic:{weight:-10,title:"Basic",default:!0,components:{"custom-textfield":!0,"custom-textarea":!0,"custom-number":!0,"custom-password":!0,"custom-radio":!0,"custom-select":!0,"custom-selectboxes":!0,textfield:!1,textarea:!1,number:!1,radio:!1,select:!1,selectboxes:!1,password:!1,button:!1,panel:!0,columns:!0}}},editForm:{...this.hideTabs()}},this.submitted=!1,this.isLoading=!1,this.isLoadingSave=!1,this.productId="",this.categories=[],this.subCategories=[],this.tags=[]}ngOnInit(){this.routes.params.subscribe(e=>{e.productId&&(this.productId=e.productId,this.getProductDetails())}),this.getCategoryList(),this.initAddProductForm()}initAddProductForm(){this.productForm=this._FB.group({categoryId:["",l.kI.required],subCategoryId:["",l.kI.required],productName:["",l.kI.required],productImg:["",l.kI.required],avaTaxCode:["",l.kI.required],hsnCode:["",l.kI.required]})}get productFormControls(){return this.productForm.controls}fileValue(e){var i=e.target.value,n=i.split(".").pop();if("jpg"==n||"svg"==n||"jpeg"==n||"png"==n||"gif"==n){const r=new FormData;r.append("image",e.target.files[0]),this.isLoading=!0,this._CS.uploadImage(r).subscribe(s=>{if(s.meta.status){var c=i.replace(/^.*[\\\/]/,"").split(".").slice(0,-1).join(".");document.getElementById("filename").innerHTML=c,this.productForm.get("productImg")?.setValue([s.data]),this.isLoading=!1,this._notifier.showSuccess(s.meta.msg,"Success")}else this.isLoading=!1,this._notifier.showWarning(s.meta.msg,"")},s=>{this.isLoading=!1})}else alert("File not supported. Kindly Upload the Image of below given extension ")}getProductDetails(){this._PS.getProductDetails(this.productId).subscribe(e=>{if(e.meta.status){this.productDetails=e.data,this.getSubCategoryList(this.productDetails.categoryId),console.log("this.productDetailsthis.productDetailsthis.productDetails",this.productDetails),""!=this.productDetails?.productName&&(this.productDetails.productName=""),0!=this.productDetails?.productImg.length&&(this.productDetails.productImg.length=0),""!=this.productDetails?.hsnCode&&(this.productDetails.hsnCode=""),""!=this.productDetails?.avaTaxCode&&(this.productDetails.avaTaxCode=""),this.productForm.patchValue(this.productDetails),this.form=this.productDetails.productForm&&this.productDetails.productForm.length?{components:this.productDetails.productForm}:{components:[]};let i=this.productDetails.productImg[0]&&this.productDetails.productImg[0].length?this.productDetails.productImg[0].split("/")[this.productDetails.productImg[0].split("/").length-1]:"Select Image";document.getElementById("filename").innerHTML=i,this.tags=this.productDetails.tags}else this.productDetails=void 0,this._notifier.showWarning(e.meta.msg,"")},e=>{})}getCategoryList(){this._PS.getCategoryList("ROOT","ACTIVE","",void 0,void 0).subscribe(e=>{e.meta.status?this.categories=e.data:(this.categories=[],this._notifier.showWarning(e.meta.msg,""))},e=>{})}changeCategory(e){this.getSubCategoryList(e.target.value)}getSubCategoryList(e){this._PS.getSubCategoryList("PARENT","ACTIVE","",e,void 0,void 0).subscribe(i=>{i.meta.status?this.subCategories=i.data:(this.subCategories=[],this._notifier.showWarning(i.meta.msg,""))},i=>{})}onChange(e){this.refreshForm.emit({property:"form",value:e.form})}hideTabs(){let e={};return this.fields.map(i=>{e[i]=[{key:"logic",ignore:!0},{key:"layout",ignore:!0},{key:"display",components:[{key:"inputMask",ignore:!0},{key:"displayMask",ignore:!0},{key:"applyMaskOn",ignore:!0},{key:"allowMultipleMasks",ignore:!0}]}]}),e}cloneProductWithForm(){if(this.productForm.valid){let e={...this.productForm.value,productForm:this.form.components.length?this.form.components:[]};console.log("objobjobj",e),this.isLoadingSave=!0,this._PS.newcloneProduct(e).subscribe(i=>{i.meta.status?(this.isLoadingSave=!1,this.router.navigate(["/products-master/products"]),this._notifier.showSuccess(i.meta.msg,"Success")):(this.isLoadingSave=!1,this._notifier.showWarning(i.meta.msg,""))},i=>{this.isLoadingSave=!1})}else this.submitted=!0}onItemAdded(e){let i=this.tags.map(n=>n.value);this.productForm.get("tags")?.setValue(i)}onItemRemoved(e){let i=this.tags.map(n=>n.value);this.productForm.get("tags")?.setValue(i)}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(l.qu),t.Y36(q.l),t.Y36(C.M),t.Y36(U.v),t.Y36(p.F0),t.Y36(p.gz))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-newclone-product"]],decls:80,vars:34,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between"],[1,"account_dashboard","profile_dashboard"],[1,"row"],[1,"col-12","col-sm-4","col-md-3","col-lg-3"],[1,"login-white-box"],[1,"pop-form-box","form-box","category_tab","mt-4",3,"formGroup"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"form-group"],["formControlName","categoryId",1,"form-control","form-ctrl",3,"ngClass","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","subCategoryId",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Product Name","formControlName","productName",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","hsnCode","formControlName","hsnCode",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","avaTaxCode","formControlName","avaTaxCode",1,"form-control","form-ctrl",3,"ngClass"],[1,"file-form-control"],[1,"upload-doc-item"],[1,"image-upload"],["type","file","name","","accept","image/*","id","logo",3,"disabled","change"],["for","logo","id","file-label",1,"upload-field"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/mc.png","alt",""],["id","filename"],[1,"Upload-btn","btn","btn-success"],[1,"fa",3,"ngClass"],["style","display: block;","class","invalid-feedback",4,"ngIf"],[1,"col-12","col-sm-8","col-md-9","col-lg-9"],[1,"main_editor"],[1,"classic_editor"],[3,"form","options","change"],[1,"col-lg-12"],[1,"text-end","main_btn","mt-5"],["type","button",1,"btn","btn-success","ms-2",3,"disabled","click"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[1,"invalid-feedback",2,"display","block"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t._uU(3,"Clone Product"),t.qZA()(),t.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"h6"),t._uU(9,"Clone Products"),t.qZA(),t.TgZ(10,"div",6)(11,"div",3)(12,"div",7)(13,"div",8)(14,"label"),t._uU(15,"Category"),t.qZA(),t.TgZ(16,"select",9),t.NdJ("change",function(s){return n.changeCategory(s)}),t.TgZ(17,"option",10),t._uU(18,"Select"),t.qZA(),t.YNc(19,Ba,2,2,"option",11),t.qZA(),t.YNc(20,Ha,2,1,"div",12),t.qZA()(),t.TgZ(21,"div",7)(22,"div",8)(23,"label"),t._uU(24,"Sub Category"),t.qZA(),t.TgZ(25,"select",13)(26,"option",10),t._uU(27,"Select"),t.qZA(),t.YNc(28,Ra,2,2,"option",11),t.qZA(),t.YNc(29,Wa,2,1,"div",12),t.qZA()()(),t.TgZ(30,"div",3)(31,"div",7)(32,"div",8)(33,"label"),t._uU(34,"Product"),t.qZA(),t._UZ(35,"input",14),t.YNc(36,Xa,2,1,"div",12),t.qZA()(),t.TgZ(37,"div",7)(38,"div",8)(39,"label"),t._uU(40,"HSN Code "),t.qZA(),t._UZ(41,"input",15),t.YNc(42,es,2,1,"div",12),t.qZA()()(),t.TgZ(43,"div",3)(44,"div",7)(45,"div",8)(46,"label"),t._uU(47,"Ava Tax Code "),t.qZA(),t._UZ(48,"input",16),t.YNc(49,ns,2,1,"div",12),t.qZA()(),t.TgZ(50,"div",7)(51,"div",8)(52,"label"),t._uU(53,"Upload Image"),t.qZA(),t.TgZ(54,"div",17)(55,"div",18)(56,"div",19)(57,"input",20),t.NdJ("change",function(s){return n.fileValue(s)}),t.qZA(),t.TgZ(58,"label",21)(59,"div",22),t._UZ(60,"img",23),t.TgZ(61,"h6",24),t._uU(62,"Select Image"),t.qZA(),t.TgZ(63,"div",25),t._UZ(64,"i",26),t._uU(65," Upload "),t.qZA()()(),t.YNc(66,rs,2,1,"div",27),t.qZA()()()()()(),t._UZ(67,"div",3),t.qZA()()(),t.TgZ(68,"div",28)(69,"div",29)(70,"div",5)(71,"div",30)(72,"h6"),t._uU(73,"Products Forms"),t.qZA(),t.TgZ(74,"form-builder",31),t.NdJ("change",function(s){return n.onChange(s)}),t.qZA()()()()(),t.TgZ(75,"div",32)(76,"div",33)(77,"button",34),t.NdJ("click",function(){return n.cloneProductWithForm()}),t._UZ(78,"i",26),t._uU(79," Clone"),t.qZA()()()()()()),2&i&&(t.xp6(10),t.Q6J("formGroup",n.productForm),t.xp6(6),t.Q6J("ngClass",t.VKq(20,H,n.submitted&&n.productFormControls.categoryId.errors)),t.xp6(3),t.Q6J("ngForOf",n.categories),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.productFormControls.categoryId.errors),t.xp6(5),t.Q6J("ngClass",t.VKq(22,H,n.submitted&&n.productFormControls.subCategoryId.errors)),t.xp6(3),t.Q6J("ngForOf",n.subCategories),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.productFormControls.subCategoryId.errors),t.xp6(6),t.Q6J("ngClass",t.VKq(24,H,n.submitted&&n.productFormControls.productName.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.productFormControls.productName.errors),t.xp6(5),t.Q6J("ngClass",t.VKq(26,H,n.submitted&&n.productFormControls.hsnCode.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.productFormControls.hsnCode.errors),t.xp6(6),t.Q6J("ngClass",t.VKq(28,H,n.submitted&&n.productFormControls.avaTaxCode.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.productFormControls.avaTaxCode.errors),t.xp6(8),t.Q6J("disabled",n.isLoading),t.xp6(7),t.Q6J("ngClass",t.VKq(30,xt,n.isLoading)),t.xp6(2),t.Q6J("ngIf",n.submitted&&n.productFormControls.productImg.errors),t.xp6(8),t.Q6J("form",n.form)("options",n.options),t.xp6(3),t.Q6J("disabled",n.isLoadingSave),t.xp6(1),t.Q6J("ngClass",t.VKq(32,xt,n.isLoadingSave)))},dependencies:[d.mk,d.sg,d.O5,v.hd,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u]})}return o})()},{path:"form-builder-dummy",component:ze},{path:"create-products-vendor",component:fo},{path:"create-customer-product/:id",component:tn},{path:"customer-products/:customerId",component:En},{path:"customer-products-details/:customerId/:productId",component:Ia},{path:"product-details/:id/:customerId/:name",component:oi},{path:"detail/:id",component:Ki},{path:"select/:customerId/:name",component:Ka}];let ls=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(ss),p.Bz]})}return o})();var u=f(86825);function cs(o,a){1&o&&(t.TgZ(0,"span",3),t.O4$(),t.TgZ(1,"svg",4),t._UZ(2,"path",5)(3,"g")(4,"g")(5,"g")(6,"g")(7,"g")(8,"g"),t.qZA()())}const mt=["*"];function ds(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.hide())}),t.qZA()}}const us=[[["ng2-dropdown-button"]],[["ng2-dropdown-menu"]]],ps=["ng2-dropdown-button","ng2-dropdown-menu"];let gs=(()=>{class o{constructor(e){this.element=e,this.onMenuToggled=new t.vpe,this.showCaret=!0}toggleMenu(){this.onMenuToggled.emit(!0)}getPosition(){return this.element.nativeElement.getBoundingClientRect()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng2-dropdown-button"]],inputs:{showCaret:"showCaret"},outputs:{onMenuToggled:"onMenuToggled"},ngContentSelectors:mt,decls:4,vars:1,consts:[["type","button","tabindex","0s",1,"ng2-dropdown-button",3,"click"],[1,"ng2-dropdown-button__label"],["class","ng2-dropdown-button__caret",4,"ngIf"],[1,"ng2-dropdown-button__caret"],["enable-background","new 0 0 32 32","height","16px","id","\u0421\u043b\u043e\u0439_1","version","1.1","viewBox","0 0 32 32","width","16px",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["d","M24.285,11.284L16,19.571l-8.285-8.288c-0.395-0.395-1.034-0.395-1.429,0  c-0.394,0.395-0.394,1.035,0,1.43l8.999,9.002l0,0l0,0c0.394,0.395,1.034,0.395,1.428,0l8.999-9.002  c0.394-0.395,0.394-1.036,0-1.431C25.319,10.889,24.679,10.889,24.285,11.284z","fill","#121313","id","Expand_More"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"button",0),t.NdJ("click",function(){return i.toggleMenu()}),t.TgZ(1,"span",1),t.Hsn(2),t.qZA(),t.YNc(3,cs,9,0,"span",2),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngIf",i.showCaret))},dependencies:[d.O5],styles:[".ng2-dropdown-button[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue,Helvetica,Arial;background:#fff;padding:.45rem .25rem;font-size:14px;letter-spacing:.08rem;color:#444;outline:0;cursor:pointer;font-weight:400;border:none;border-bottom:1px solid #efefef;text-align:left;min-width:100px;width:100%;display:flex;flex-direction:row;max-width:150px}.ng2-dropdown-button[_ngcontent-%COMP%]:hover{color:#222}.ng2-dropdown-button[_ngcontent-%COMP%]:active, .ng2-dropdown-button[_ngcontent-%COMP%]:focus{color:#222;border-bottom:2px solid #2196F3}.ng2-dropdown-button__label[_ngcontent-%COMP%]{flex:1 1 95%}.ng2-dropdown-button__caret[_ngcontent-%COMP%]{width:12px;height:12px;display:flex;flex:1 1 6%}.ng2-dropdown-button--icon[_nghost-%COMP%]   .ng2-dropdown-button[_ngcontent-%COMP%], .ng2-dropdown-button--icon   [_nghost-%COMP%]   .ng2-dropdown-button[_ngcontent-%COMP%]{border:none;min-width:40px;width:40px;border-radius:100%;transition:all .2s;text-align:center;height:40px;padding:.5em}.ng2-dropdown-button--icon[_nghost-%COMP%]   .ng2-dropdown-button[_ngcontent-%COMP%]:active, .ng2-dropdown-button--icon   [_nghost-%COMP%]   .ng2-dropdown-button[_ngcontent-%COMP%]:active{background:rgba(0,0,0,.2)}"]}),o})();const Tt={9:(o,a,e)=>{e.select(o<a.length-1?a[o+1]:a[0],!0)},38:(o,a,e)=>{o>0&&e.select(a[o-1],!0)},40:(o,a,e)=>{o<a.length-1&&e.select(a[o+1],!0)},13:(o,a,e)=>e.selectedItem?e.selectedItem.click():void 0,27:function fs(){this.hide()}};function vs(o){[38,40].indexOf(o.keyCode)>-1&&o.preventDefault()}class Cs{constructor(){this.onItemSelected=new t.vpe,this.onItemClicked=new t.vpe,this.onItemDestroyed=new t.vpe}get selectedItem(){return this._selectedItem}select(a,e=!0){this._selectedItem=a,e&&a&&(a.focus(),this.onItemSelected.emit(a))}unselect(){this._selectedItem=void 0}}let ot=(()=>{class o{constructor(){this.menuState={isVisible:!1,toString(){return!0===this.isVisible?"visible":"hidden"}},this.dropdownState=new Cs}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),wt=(()=>{class o{constructor(e,i){this.state=e,this.element=i,this.preventClose=!1}ngOnDestroy(){this.state.dropdownState.onItemDestroyed.emit(this)}get isSelected(){return this===this.state.dropdownState.selectedItem}select(e){this.state.dropdownState.select(this,!0),e&&(e.stopPropagation(),e.preventDefault())}click(){this.state.dropdownState.onItemClicked.emit(this)}focus(){this.element.nativeElement.children[0].focus()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(ot),t.Y36(t.SBq))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng2-menu-item"]],inputs:{preventClose:"preventClose",value:"value"},ngContentSelectors:mt,decls:2,vars:2,consts:[["role","button","tabindex","0",1,"ng2-menu-item",3,"keydown.enter","click","mouseover"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.NdJ("keydown.enter",function(){return i.click()})("click",function(){return i.click()})("mouseover",function(){return i.select()}),t.Hsn(1),t.qZA()),2&e&&t.ekj("ng2-menu-item--selected",i.isSelected)},styles:[".ng2-menu-item[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue,Helvetica,Arial;background:#fff;color:#000000de;cursor:pointer;font-size:.9em;text-transform:none;font-weight:400;letter-spacing:.03em;height:48px;line-height:48px;padding:.3em 1.25rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;transition:background .25s}.ng2-menu-item--selected[_ngcontent-%COMP%]{background:rgba(158,158,158,.2);outline:0}.ng2-menu-item[_ngcontent-%COMP%]:focus{outline:0}.ng2-menu-item[_ngcontent-%COMP%]:active{background:rgba(158,158,158,.4)}ng2-menu-item[_nghost-%COMP%]     [ng2-menu-item-icon]{vertical-align:middle;font-size:28px;width:1.5em;height:30px;color:#00000070}"]}),o})(),qt=(()=>{class o{constructor(e,i,n){this.dropdownState=e,this.element=i,this.renderer=n,this.width=4,this.focusFirstElement=!0,this.appendToBody=!0,this.zIndex=1e3,this.listeners={arrowHandler:void 0,handleKeypress:void 0}}show(e,i=!0){const n=typeof document<"u"?document:void 0,r=typeof window<"u"?window:void 0;this.dropdownState.menuState.isVisible||(this.listeners.handleKeypress=this.renderer.listen(n.body,"keydown",this.handleKeypress.bind(this)),this.listeners.arrowHandler=this.renderer.listen(r,"keydown",vs)),this.dropdownState.menuState.isVisible=!0,e&&this.updatePosition(e,i)}hide(){this.dropdownState.menuState.isVisible=!1,this.dropdownState.dropdownState.unselect(),this.listeners.arrowHandler&&this.listeners.arrowHandler(),this.listeners.handleKeypress&&this.listeners.handleKeypress()}updatePosition(e,i){this.position=e,this.updateOnChange(i)}handleKeypress(e){const i=e.keyCode,n=this.items.toArray(),r=n.indexOf(this.dropdownState.dropdownState.selectedItem);Tt.hasOwnProperty(i)&&Tt[i].call(this,r,n,this.dropdownState.dropdownState)}getMenuElement(){return this.element.nativeElement.children[0]}calcPositionOffset(e){const i=typeof window<"u"?window:void 0,n=typeof document<"u"?document:void 0;if(!i||!n||!e)return;const r=this.getMenuElement(),s=void 0!==i.pageXOffset,c="CSS1Compat"===(n.compatMode||""),m=s?i.pageXOffset:c?n.documentElement.scrollLeft:n.body.scrollLeft,b=s?i.pageYOffset:c?n.documentElement.scrollTop:n.body.scrollTop;let{top:T,left:y}=this.applyOffset(`${e.top+(this.appendToBody?b-15:0)}px`,e.left+m-5+"px");const w=r.clientWidth,A=r.clientHeight,Y=parseInt(T)+A+(this.appendToBody?0:b-15),bt=parseInt(y)+w,Lt=i.innerWidth+i.scrollX;if(Y>=i.innerHeight+i.scrollY&&(T=parseInt(T.replace("px",""))-A+"px"),bt>=Lt){const yc=bt-Lt+30;y=parseInt(y.replace("px",""))-yc+"px"}return{top:T,left:y}}applyOffset(e,i){if(!this.offset)return{top:e,left:i};const n=this.offset.split(" ");return n[1]||(n[1]="0"),{top:e=`${parseInt(e.replace("px",""))+parseInt(n[0])}px`,left:i=`${parseInt(i.replace("px",""))+parseInt(n[1])}px`}}ngOnInit(){const e=typeof document<"u"?document:void 0;this.appendToBody&&e.body.appendChild(this.element.nativeElement)}updateOnChange(e=!0){const i=this.getMenuElement(),n=this.calcPositionOffset(this.position);n&&(this.renderer.setStyle(i,"top",n.top.toString()),this.renderer.setStyle(i,"left",n.left.toString())),this.focusFirstElement&&this.items.first&&!this.dropdownState.dropdownState.selectedItem&&this.dropdownState.dropdownState.select(this.items.first,!1)}ngOnDestroy(){const e=this.element.nativeElement;e.parentNode.removeChild(e),this.listeners.handleKeypress&&this.listeners.handleKeypress()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(ot),t.Y36(t.SBq),t.Y36(t.Qsj))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng2-dropdown-menu"]],contentQueries:function(e,i,n){if(1&e&&t.Suo(n,wt,5),2&e){let r;t.iGM(r=t.CRH())&&(i.items=r)}},inputs:{width:"width",focusFirstElement:"focusFirstElement",offset:"offset",appendToBody:"appendToBody",zIndex:"zIndex"},ngContentSelectors:mt,decls:4,vars:12,consts:[[1,"ng2-dropdown-menu__options-container"],["class","ng2-dropdown-backdrop",3,"click",4,"ngIf"],[1,"ng2-dropdown-backdrop",3,"click"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div")(1,"div",0),t.Hsn(2),t.qZA()(),t.YNc(3,ds,1,0,"div",1)),2&e&&(t.Gre("ng2-dropdown-menu ng2-dropdown-menu---width--",i.width,""),t.Udp("z-index",i.zIndex),t.ekj("ng2-dropdown-menu--inside-element",!i.appendToBody)("ng2-dropdown-menu--open",i.dropdownState.menuState.isVisible),t.Q6J("@fade",i.dropdownState.menuState.toString()),t.xp6(1),t.Q6J("@opacity",i.dropdownState.menuState.toString()),t.xp6(2),t.Q6J("ngIf",i.dropdownState.menuState.isVisible))},dependencies:[d.O5],styles:["[_nghost-%COMP%]{display:block}.ng2-dropdown-menu[_ngcontent-%COMP%]{overflow-y:auto;box-shadow:0 1px 2px #0000004d;position:absolute;padding:.5em 0;background:#fff;border-radius:1px;max-height:400px;width:260px;min-height:0;display:block}.ng2-dropdown-menu.ng2-dropdown-menu--inside-element[_ngcontent-%COMP%]{position:fixed}.ng2-dropdown-menu.ng2-dropdown-menu--width--2[_ngcontent-%COMP%]{width:200px}.ng2-dropdown-menu.ng2-dropdown-menu--width--4[_ngcontent-%COMP%]{width:260px}.ng2-dropdown-menu.ng2-dropdown-menu--width--6[_ngcontent-%COMP%]{width:320px}.ng2-dropdown-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1;overflow:hidden}[_nghost-%COMP%]     .ng2-menu-divider{height:1px;min-height:1px;max-height:1px;width:100%;display:block;background:#f9f9f9}"],data:{animation:[(0,u.X$)("fade",[(0,u.SB)("visible",(0,u.oB)({opacity:1,height:"*",width:"*"})),(0,u.SB)("hidden",(0,u.oB)({opacity:0,overflow:"hidden",height:0,width:0})),(0,u.eR)("hidden => visible",[(0,u.jt)("250ms ease-in",(0,u.oB)({opacity:1,height:"*",width:"*"}))]),(0,u.eR)("visible => hidden",[(0,u.jt)("350ms ease-out",(0,u.oB)({opacity:0,width:0,height:0}))])]),(0,u.X$)("opacity",[(0,u.eR)("hidden => visible",[(0,u.jt)("450ms ease-in",(0,u.F4)([(0,u.oB)({opacity:0,offset:0}),(0,u.oB)({opacity:1,offset:1})]))]),(0,u.eR)("visible => hidden",[(0,u.jt)("250ms ease-out",(0,u.F4)([(0,u.oB)({opacity:1,offset:0}),(0,u.oB)({opacity:.5,offset:.3}),(0,u.oB)({opacity:0,offset:1})]))])])]}}),o})(),Pt=(()=>{class o{constructor(e){this.state=e,this.dynamicUpdate=!0,this.onItemClicked=new t.vpe,this.onItemSelected=new t.vpe,this.onShow=new t.vpe,this.onHide=new t.vpe}ngOnInit(){this.state.dropdownState.onItemClicked.subscribe(e=>{this.onItemClicked.emit(e),!e.preventClose&&this.hide.call(this)}),this.button&&this.button.onMenuToggled.subscribe(()=>{this.toggleMenu()}),this.state.dropdownState.onItemSelected.subscribe(e=>{this.onItemSelected.emit(e)}),this.state.dropdownState.onItemDestroyed.subscribe(e=>{let i;const n=this.menu.items.toArray();e===this.state.dropdownState.selectedItem&&(this.menu.focusFirstElement&&(i=e===n[0]&&n.length>1?n[1]:n[0]),this.state.dropdownState.select(i))})}toggleMenu(e=this.button.getPosition()){this.state.menuState.isVisible?this.hide():this.show(e)}hide(){this.menu.hide(),this.onHide.emit(this)}show(e=this.button.getPosition()){this.menu.show(e,this.dynamicUpdate),this.onShow.emit(this)}scrollListener(){this.button&&this.dynamicUpdate&&this.menu.updatePosition(this.button.getPosition(),!0)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(ot))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng2-dropdown"]],contentQueries:function(e,i,n){if(1&e&&(t.Suo(n,gs,7),t.Suo(n,qt,7)),2&e){let r;t.iGM(r=t.CRH())&&(i.button=r.first),t.iGM(r=t.CRH())&&(i.menu=r.first)}},hostBindings:function(e,i){1&e&&t.NdJ("scroll",function(){return i.scrollListener()},!1,t.Jf7)},inputs:{dynamicUpdate:"dynamicUpdate"},outputs:{onItemClicked:"onItemClicked",onItemSelected:"onItemSelected",onShow:"onShow",onHide:"onHide"},features:[t._Bn([ot])],ngContentSelectors:ps,decls:3,vars:0,consts:[[1,"ng2-dropdown-container"]],template:function(e,i){1&e&&(t.F$t(us),t.TgZ(0,"div",0),t.Hsn(1),t.Hsn(2,1),t.qZA())},encapsulation:2}),o})(),ys=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.ez]]}),o})();var nt=f(32181),Zs=f(37398),it=f(81374);const xs=["input"];function Ts(o,a){}const ws=function(o,a){return{item:o,index:a}};function qs(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Ts,0,0,"ng-template",4),t.qZA()),2&o){const e=t.oxw();t.uIk("contenteditable",e.editing),t.xp6(1),t.Q6J("ngTemplateOutletContext",t.WLB(3,ws,e.model,e.index))("ngTemplateOutlet",e.template)}}function Ps(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"delete-icon",8),t.NdJ("click",function(n){t.CHM(e);const r=t.oxw(2);return t.KtG(r.remove(n))}),t.qZA()}}function As(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6),t.NdJ("keydown.enter",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.disableEditMode(n))})("keydown.escape",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.disableEditMode(n))})("click",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.editing?n.stopPropagation():void 0)})("blur",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.onBlurred(n))}),t._uU(2),t.qZA(),t.YNc(3,Ps,1,0,"delete-icon",7),t.qZA()}if(2&o){const e=t.oxw();t.xp6(1),t.uIk("contenteditable",e.editing)("title",e.getDisplayValue(e.model)),t.xp6(1),t.hij(" ",e.getDisplayValue(e.model)," "),t.xp6(1),t.Q6J("ngIf",e.isDeleteIconVisible())}}function ks(o,a){if(1&o&&t._UZ(0,"tag-ripple",9),2&o){const e=t.oxw();t.Q6J("state",e.rippleState),t.uIk("tabindex",-1)}}function Is(o,a){if(1&o&&(t._UZ(0,"span",6),t.ALo(1,"highlight")),2&o){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("innerHTML",t.xi3(1,1,e[i.displayBy],i.tagInput.inputForm.value.value),t.oJD)}}function Us(o,a){}const Ms=function(o,a,e){return{item:o,index:a,last:e}};function Ss(o,a){if(1&o&&t.YNc(0,Us,0,0,"ng-template",7),2&o){const e=t.oxw(),i=e.$implicit,n=e.index,r=e.last,s=t.oxw();t.Q6J("ngTemplateOutlet",s.templates.first)("ngTemplateOutletContext",t.kEZ(2,Ms,i,n,r))}}function Os(o,a){if(1&o&&(t.TgZ(0,"ng2-menu-item",3),t.YNc(1,Is,2,4,"span",4),t.YNc(2,Ss,1,6,null,5),t.qZA()),2&o){const e=a.$implicit,i=t.oxw();t.Q6J("value",e)("ngSwitch",!!i.templates.length),t.xp6(1),t.Q6J("ngSwitchCase",!1)}}function Ns(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"tag",6),t.NdJ("onSelect",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.selectItem(r))})("onRemove",function(){const n=t.CHM(e),r=n.$implicit,s=n.index,c=t.oxw();return t.KtG(c.onRemoveRequested(r,s))})("onKeyDown",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.handleKeydown(n))})("onTagEdited",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updateEditedTag(n))})("onBlur",function(n){const s=t.CHM(e).index,c=t.oxw();return t.KtG(c.onTagBlurred(n,s))})("dragstart",function(n){const r=t.CHM(e),s=r.$implicit,c=r.index,m=t.oxw();return t.KtG(m.dragZone?m.onDragStarted(n,s,c):void 0)})("drop",function(n){const s=t.CHM(e).index,c=t.oxw();return t.KtG(c.dragZone?c.onTagDropped(n,s):void 0)})("dragenter",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.dragZone?r.onDragOver(n):void 0)})("dragover",function(n){const s=t.CHM(e).index,c=t.oxw();return t.KtG(c.dragZone?c.onDragOver(n,s):void 0)})("dragleave",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.dragZone?n.dragProvider.onDragEnd():void 0)}),t.qZA()}if(2&o){const e=a.$implicit,i=a.index,n=t.oxw();t.s9C("draggable",n.editable),t.Q6J("canAddTag",n.isTagValid)("disabled",n.disable)("@animation",n.animationMetadata)("hasRipple",n.ripple)("index",i)("removable",n.removable)("editable",n.editable)("displayBy",n.displayBy)("identifyBy",n.identifyBy)("template",n.hasCustomTemplate()?n.templates.first:void 0)("draggable",n.dragZone)("model",e),t.uIk("tabindex",0)}}function Fs(o,a){1&o&&t._UZ(0,"div",7)}function Ds(o,a){if(1&o&&(t.TgZ(0,"p",10)(1,"span"),t._uU(2),t.qZA()()),2&o){const e=a.$implicit;t.xp6(2),t.Oqu(e)}}function Js(o,a){if(1&o&&(t.TgZ(0,"div",8),t.YNc(1,Ds,3,1,"p",9),t.qZA()),2&o){const e=t.oxw();t.Q6J("ngClass",e.theme),t.xp6(1),t.Q6J("ngForOf",e.errors)}}const Qs=["*"];let Ls=(()=>{class o{transform(e,i){if(!i.trim())return e;try{const n=new RegExp(`(${(o=>o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))(i)})`,"i");return e.replace(n,"<b>$1</b>")}catch{return e}}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275pipe=t.Yjl({name:"highlight",type:o,pure:!0}),o})();const _t="keydown",Bs={8:"DELETE",46:"DELETE",37:"SWITCH_PREV",39:"SWITCH_NEXT",9:"TAB"},rt="NEXT",ht="PREV";let kt=(()=>{class o{constructor(){this.state={dragging:!1,dropping:!1,index:void 0}}setDraggedItem(e,i){e&&e.dataTransfer&&e.dataTransfer.setData("Text",JSON.stringify(i))}getDraggedItem(e){if(e&&e.dataTransfer){const i=e.dataTransfer.getData("Text");try{return JSON.parse(i)}catch{return}}}setSender(e){this.sender=e}setReceiver(e){this.receiver=e}onTagDropped(e,i,n){this.onDragEnd(),this.sender.onRemoveRequested(e,i),this.receiver.onAddingRequested(!1,e,n)}setState(e){this.state={...this.state,...e}}getState(e){return e?this.state[e]:this.state}onDragEnd(){this.setState({dragging:!1,dropping:!1,index:void 0})}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();const g={tagInput:{separatorKeys:[],separatorKeyCodes:[],maxItems:1/0,placeholder:"+ Tag",secondaryPlaceholder:"Enter a new tag",validators:[],asyncValidators:[],onlyFromAutocomplete:!1,errorMessages:{},theme:"",onTextChangeDebounce:250,inputId:null,inputClass:"",clearOnBlur:!1,hideForm:!1,addOnBlur:!1,addOnPaste:!1,pasteSplitPattern:",",blinkIfDupe:!0,removable:!0,editable:!1,allowDupes:!1,modelAsStrings:!1,trimTags:!0,ripple:!0,tabIndex:"",disable:!1,dragZone:"",onRemoving:void 0,onAdding:void 0,displayBy:"display",identifyBy:"value",animationDuration:{enter:"250ms",leave:"150ms"}},dropdown:{displayBy:"display",identifyBy:"value",appendToBody:!0,offset:"50 0",focusFirstElement:!1,showDropdownIfEmpty:!1,minimumTextLength:1,limitItemsTo:1/0,keepOpen:!0,dynamicUpdate:!0,zIndex:1e3,matchingFn:function js(o,a){const e=a[this.displayBy].toString();return e&&e.toLowerCase().indexOf(o.toLowerCase())>=0}}};let ft=(()=>{class o{setOptions(e){o.defaults.tagInput={...g.tagInput,...e.tagInput},o.defaults.dropdown={...g.dropdown,...e.dropdown}}}return o.defaults=g,o})();function It(o){return o===Object(o)}let Hs=(()=>{class o{constructor(){this._items=[],this.displayBy=ft.defaults.tagInput.displayBy,this.identifyBy=ft.defaults.tagInput.identifyBy}get items(){return this._items}set items(e){this._items=e,this._onChangeCallback(this._items)}onTouched(){this._onTouchedCallback()}writeValue(e){this._items=e||[]}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}getItemValue(e,i=!1){const n=i&&this.dropdown?this.dropdown.identifyBy:this.identifyBy;return It(e)?e[n]:e}getItemDisplay(e,i=!1){const n=i&&this.dropdown?this.dropdown.displayBy:this.displayBy;return It(e)?e[n]:e}getItemsWithout(e){return this.items.filter((i,n)=>n!==e)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275dir=t.lG2({type:o,inputs:{displayBy:"displayBy",identifyBy:"identifyBy"}}),o})();function Ut(o,a,e=!0){if(!this.listeners.hasOwnProperty(o))throw new Error("The event entered may be wrong");e&&this.listeners[o].push(a)}let Mt=(()=>{class o{constructor(){this.onSubmit=new t.vpe,this.onBlur=new t.vpe,this.onFocus=new t.vpe,this.onKeyup=new t.vpe,this.onKeydown=new t.vpe,this.inputTextChange=new t.vpe,this.validators=[],this.asyncValidators=[],this.tabindex="",this.disabled=!1,this.item=new l.NI({value:"",disabled:this.disabled})}get inputText(){return this.item.value}set inputText(e){this.item.setValue(e),this.inputTextChange.emit(e)}ngOnInit(){this.item.setValidators(this.validators),this.item.setAsyncValidators(this.asyncValidators),this.form=new l.cw({item:this.item})}ngOnChanges(e){e.disabled&&!e.disabled.firstChange&&(e.disabled.currentValue?this.form.controls.item.disable():this.form.controls.item.enable())}get value(){return this.form.get("item")}isInputFocused(){const e=typeof document<"u"?document:void 0;return!!e&&e.activeElement===this.input.nativeElement}getErrorMessages(e){return Object.keys(e).filter(i=>this.value.hasError(i)).map(i=>e[i])}hasErrors(){const{dirty:e,value:i,valid:n}=this.form;return e&&i.item&&!n}focus(){this.input.nativeElement.focus()}blur(){this.input.nativeElement.blur()}getElementPosition(){return this.input.nativeElement.getBoundingClientRect()}destroy(){const e=this.input.nativeElement;e.parentElement.removeChild(e)}onKeyDown(e){if(this.inputText=this.value.value,"Enter"!==e.key)return this.onKeydown.emit(e);this.submit(e)}onKeyUp(e){return this.inputText=this.value.value,this.onKeyup.emit(e)}submit(e){e.preventDefault(),this.onSubmit.emit(e)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["tag-input-form"]],viewQuery:function(e,i){if(1&e&&t.Gf(xs,5),2&e){let n;t.iGM(n=t.CRH())&&(i.input=n.first)}},inputs:{placeholder:"placeholder",validators:"validators",asyncValidators:"asyncValidators",inputId:"inputId",inputClass:"inputClass",tabindex:"tabindex",disabled:"disabled",inputText:"inputText"},outputs:{onSubmit:"onSubmit",onBlur:"onBlur",onFocus:"onFocus",onKeyup:"onKeyup",onKeydown:"onKeydown",inputTextChange:"inputTextChange"},features:[t.TTD],decls:3,vars:8,consts:[[3,"formGroup","ngSubmit"],["type","text","autocomplete","off","minlength","1","formControlName","item",1,"ng2-tag-input__text-input",3,"tabindex","ngClass","focus","blur","keydown","keyup"],["input",""]],template:function(e,i){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(r){return i.submit(r)}),t.TgZ(1,"input",1,2),t.NdJ("focus",function(r){return i.onFocus.emit(r)})("blur",function(r){return i.onBlur.emit(r)})("keydown",function(r){return i.onKeyDown(r)})("keyup",function(r){return i.onKeyUp(r)}),t.qZA()()),2&e&&(t.Q6J("formGroup",i.form),t.xp6(1),t.s9C("tabindex",i.disabled?-1:i.tabindex?i.tabindex:0),t.Q6J("ngClass",i.inputClass),t.uIk("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.placeholder)("tabindex",i.tabindex)("disabled",i.disabled?i.disabled:null))},dependencies:[l._Y,l.JL,l.sg,l.Fj,l.wO,l.JJ,l.u,d.mk],styles:[".dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 1px #323232}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;color:#555;vertical-align:middle;max-width:100%;height:42px;line-height:44px}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;box-shadow:none;outline:none;background-color:transparent;padding:0 6px;margin:0;width:auto;max-width:inherit}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#777;opacity:1}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none;box-shadow:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #0006;border:1px solid #ccc}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #d9534f}.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;transition:all .25s;padding:.25rem 0;min-height:32px;cursor:text;border-bottom:2px solid #efefef}.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #2196F3}.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #f44336}.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.minimal.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid transparent}.minimal.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.minimal.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.minimal.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.minimal.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.minimal.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.dark.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #444}.dark.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.dark.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.dark.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.dark.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.dark.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #efefef}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #0275d8}.bootstrap.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #d9534f}.bootstrap.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;padding:4px;cursor:text;box-shadow:inset 0 1px 1px #00000013;border-radius:4px}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:1px solid #d9534f}.bootstrap3-info.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.error-message[_ngcontent-%COMP%]{font-size:.8em;color:#f44336;margin:.5em 0 0}.bootstrap[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d9534f}.ng2-tag-input__text-input[_ngcontent-%COMP%]{display:inline;vertical-align:middle;border:none;padding:0 .5rem;height:38px;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif}.ng2-tag-input__text-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input__text-input[disabled=true][_ngcontent-%COMP%]{opacity:.5;background:#fff}"]}),o})(),St=(()=>{class o{constructor(){this.state="none"}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["tag-ripple"]],inputs:{state:"state"},decls:1,vars:1,consts:[[1,"tag-ripple"]],template:function(e,i){1&e&&t._UZ(0,"div",0),2&e&&t.Q6J("@ink",i.state)},styles:["[_nghost-%COMP%]{width:100%;height:100%;left:0;overflow:hidden;position:absolute}.tag-ripple[_ngcontent-%COMP%]{background:rgba(0,0,0,.1);top:50%;left:50%;height:100%;transform:translate(-50%,-50%);position:absolute}"],data:{animation:[(0,u.X$)("ink",[(0,u.SB)("none",(0,u.oB)({width:0,opacity:0})),(0,u.eR)("none => clicked",[(0,u.jt)(300,(0,u.F4)([(0,u.oB)({opacity:1,offset:0,width:"30%",borderRadius:"100%"}),(0,u.oB)({opacity:1,offset:.5,width:"50%"}),(0,u.oB)({opacity:.5,offset:1,width:"100%",borderRadius:"16px"})]))])])]}}),o})(),Rs=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["delete-icon"]],decls:3,vars:0,consts:[["height","16px","viewBox","0 0 32 32","width","16px"],["d","M17.459,16.014l8.239-8.194c0.395-0.391,0.395-1.024,0-1.414c-0.394-0.391-1.034-0.391-1.428,0  l-8.232,8.187L7.73,6.284c-0.394-0.395-1.034-0.395-1.428,0c-0.394,0.396-0.394,1.037,0,1.432l8.302,8.303l-8.332,8.286  c-0.394,0.391-0.394,1.024,0,1.414c0.394,0.391,1.034,0.391,1.428,0l8.325-8.279l8.275,8.276c0.394,0.395,1.034,0.395,1.428,0  c0.394-0.396,0.394-1.037,0-1.432L17.459,16.014z","fill","#121313"]],template:function(e,i){1&e&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",0),t._UZ(2,"path",1),t.qZA()())},styles:[".dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 1px #323232}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;color:#555;vertical-align:middle;max-width:100%;height:42px;line-height:44px}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;box-shadow:none;outline:none;background-color:transparent;padding:0 6px;margin:0;width:auto;max-width:inherit}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#777;opacity:1}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none;box-shadow:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #0006;border:1px solid #ccc}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #d9534f}.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;transition:all .25s;padding:.25rem 0;min-height:32px;cursor:text;border-bottom:2px solid #efefef}.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #2196F3}.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #f44336}.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.minimal.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid transparent}.minimal.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.minimal.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.minimal.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.minimal.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.minimal.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.dark.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #444}.dark.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.dark.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.dark.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.dark.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.dark.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #efefef}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #0275d8}.bootstrap.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #d9534f}.bootstrap.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;padding:4px;cursor:text;box-shadow:inset 0 1px 1px #00000013;border-radius:4px}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:1px solid #d9534f}.bootstrap3-info.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.error-message[_ngcontent-%COMP%]{font-size:.8em;color:#f44336;margin:.5em 0 0}.bootstrap[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d9534f}delete-icon[_nghost-%COMP%]{width:20px;height:16px;transition:all .15s;display:inline-block;text-align:right}delete-icon[_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#444}delete-icon[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}delete-icon[_nghost-%COMP%]:hover{transform:scale(1.5) translateY(-3px)}.dark[_nghost-%COMP%], .dark   [_nghost-%COMP%]{text-align:right}.dark[_nghost-%COMP%]   path[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.dark[_nghost-%COMP%]   svg[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}.minimal[_nghost-%COMP%], .minimal   [_nghost-%COMP%]{text-align:right}.minimal[_nghost-%COMP%]   path[_ngcontent-%COMP%], .minimal   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#444}.minimal[_nghost-%COMP%]   svg[_ngcontent-%COMP%], .minimal   [_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}.bootstrap[_nghost-%COMP%], .bootstrap   [_nghost-%COMP%]{text-align:right}.bootstrap[_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstrap   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.bootstrap[_nghost-%COMP%]   svg[_ngcontent-%COMP%], .bootstrap   [_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}tag:focus[_nghost-%COMP%]   path[_ngcontent-%COMP%], tag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%], tag:active[_nghost-%COMP%]   path[_ngcontent-%COMP%], tag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.dark   tag:focus[_nghost-%COMP%]   path[_ngcontent-%COMP%], .dark   tag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%], .dark   tag:active[_nghost-%COMP%]   path[_ngcontent-%COMP%], .dark   tag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#000}.minimal   tag:focus[_nghost-%COMP%]   path[_ngcontent-%COMP%], .minimal   tag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%], .minimal   tag:active[_nghost-%COMP%]   path[_ngcontent-%COMP%], .minimal   tag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#000}.bootstrap   tag:focus[_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstrap   tag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstrap   tag:active[_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstrap   tag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.bootstrap3-info[_nghost-%COMP%], .bootstrap3-info   [_nghost-%COMP%]{height:inherit}.bootstrap3-info[_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstrap3-info   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}"]}),o})();const Ot=typeof window<"u"?window.navigator:{userAgent:"Chrome",vendor:"Google Inc"},Gs=/Chrome/.test(Ot.userAgent)&&/Google Inc/.test(Ot.vendor);let Nt=(()=>{class o{constructor(e,i,n){this.element=e,this.renderer=i,this.cdRef=n,this.disabled=!1,this.onSelect=new t.vpe,this.onRemove=new t.vpe,this.onBlur=new t.vpe,this.onKeyDown=new t.vpe,this.onTagEdited=new t.vpe,this.editing=!1,this.rippleState="none"}get readonly(){return"string"!=typeof this.model&&!0===this.model.readonly}select(e){this.readonly||this.disabled||(e&&e.stopPropagation(),this.focus(),this.onSelect.emit(this.model))}remove(e){e.stopPropagation(),this.onRemove.emit(this)}focus(){this.element.nativeElement.focus()}move(){this.moving=!0}keydown(e){if(this.editing){if(13===e.keyCode)return this.disableEditMode(e)}else this.onKeyDown.emit({event:e,model:this.model})}blink(){const e=this.element.nativeElement.classList;e.add("blink"),setTimeout(()=>e.remove("blink"),50)}toggleEditMode(){if(this.editable)return this.editing?void 0:this.activateEditMode()}onBlurred(e){if(!this.editable)return;this.disableEditMode();const i=e.target.innerText,n="string"==typeof this.model?i:{...this.model,[this.displayBy]:i};this.onBlur.emit(n)}getDisplayValue(e){return"string"==typeof e?e:e[this.displayBy]}get isRippleVisible(){return!this.readonly&&!this.editing&&Gs&&this.hasRipple}disableEditMode(e){const i=this.element.nativeElement.classList,n=this.getContentEditableText();this.editing=!1,i.remove("tag--editing"),n?(this.storeNewValue(n),this.cdRef.detectChanges(),e&&e.preventDefault()):this.setContentEditableText(this.model)}isDeleteIconVisible(){return!this.readonly&&!this.disabled&&this.removable&&!this.editing}getContentEditableText(){const e=this.getContentEditable();return e?e.innerText.trim():""}setContentEditableText(e){const i=this.getContentEditable(),n=this.getDisplayValue(e);i.innerText=n}activateEditMode(){this.element.nativeElement.classList.add("tag--editing"),this.editing=!0}storeNewValue(e){if((s=>"string"==typeof s?s===e:s[this.displayBy]===e)(this.model))return;const r="string"==typeof this.model?e:{index:this.index,[this.identifyBy]:(()=>this.model[this.identifyBy]!==this.model[this.displayBy])()?this.model[this.identifyBy]:e,[this.displayBy]:e};this.canAddTag(r)?this.onTagEdited.emit({tag:r,index:this.index}):this.setContentEditableText(this.model)}getContentEditable(){return this.element.nativeElement.querySelector("[contenteditable]")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["tag"]],viewQuery:function(e,i){if(1&e&&t.Gf(St,5),2&e){let n;t.iGM(n=t.CRH())&&(i.ripple=n.first)}},hostVars:2,hostBindings:function(e,i){1&e&&t.NdJ("keydown",function(r){return i.keydown(r)}),2&e&&t.ekj("moving",i.moving)},inputs:{model:"model",removable:"removable",editable:"editable",template:"template",displayBy:"displayBy",identifyBy:"identifyBy",index:"index",hasRipple:"hasRipple",disabled:"disabled",canAddTag:"canAddTag"},outputs:{onSelect:"onSelect",onRemove:"onRemove",onBlur:"onBlur",onKeyDown:"onKeyDown",onTagEdited:"onTagEdited"},decls:4,vars:8,consts:[[3,"ngSwitch","click","dblclick","mousedown","mouseup"],[4,"ngSwitchCase"],["class","tag-wrapper",4,"ngSwitchCase"],[3,"state",4,"ngIf"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],[1,"tag-wrapper"],["spellcheck","false",1,"tag__text","inline",3,"keydown.enter","keydown.escape","click","blur"],["aria-label","Remove tag","role","button",3,"click",4,"ngIf"],["aria-label","Remove tag","role","button",3,"click"],[3,"state"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.NdJ("click",function(r){return i.select(r)})("dblclick",function(){return i.toggleEditMode()})("mousedown",function(){return i.rippleState="clicked"})("mouseup",function(){return i.rippleState="none"}),t.YNc(1,qs,2,6,"div",1),t.YNc(2,As,4,4,"div",2),t.qZA(),t.YNc(3,ks,1,2,"tag-ripple",3)),2&e&&(t.ekj("disabled",i.disabled),t.Q6J("ngSwitch",!!i.template),t.uIk("tabindex",-1)("aria-label",i.getDisplayValue(i.model)),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(1),t.Q6J("ngSwitchCase",!1),t.xp6(1),t.Q6J("ngIf",i.isRippleVisible))},dependencies:[Rs,St,d.RF,d.n9,d.tP,d.O5],styles:["[_nghost-%COMP%], [_nghost-%COMP%] > div[_ngcontent-%COMP%], [_nghost-%COMP%] > div[_ngcontent-%COMP%]:focus{outline:0;overflow:hidden;transition:opacity 1s;z-index:1}[_nghost-%COMP%]{max-width:400px}.blink[_nghost-%COMP%]{-webkit-animation:_ngcontent-%COMP%_blink .3s normal forwards ease-in-out;animation:_ngcontent-%COMP%_blink .3s normal forwards ease-in-out}@-webkit-keyframes _ngcontent-%COMP%_blink{0%{opacity:.3}}@keyframes _ngcontent-%COMP%_blink{0%{opacity:.3}}[_nghost-%COMP%]   .disabled[_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   [contenteditable=true][_ngcontent-%COMP%]{outline:0}.tag-wrapper[_ngcontent-%COMP%]{flex-direction:row;display:flex}.tag__text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]}),o})();const Ws=[(0,u.X$)("animation",[(0,u.SB)("in",(0,u.oB)({opacity:1})),(0,u.SB)("out",(0,u.oB)({opacity:0})),(0,u.eR)(":enter",[(0,u.jt)("{{ enter }}",(0,u.F4)([(0,u.oB)({opacity:0,offset:0,transform:"translate(0px, 20px)"}),(0,u.oB)({opacity:.3,offset:.3,transform:"translate(0px, -10px)"}),(0,u.oB)({opacity:.5,offset:.5,transform:"translate(0px, 0px)"}),(0,u.oB)({opacity:.75,offset:.75,transform:"translate(0px, 5px)"}),(0,u.oB)({opacity:1,offset:1,transform:"translate(0px, 0px)"})]))]),(0,u.eR)(":leave",[(0,u.jt)("{{ leave }}",(0,u.F4)([(0,u.oB)({opacity:1,transform:"translateX(0)",offset:0}),(0,u.oB)({opacity:1,transform:"translateX(-15px)",offset:.7}),(0,u.oB)({opacity:0,transform:"translateX(100%)",offset:1})]))])])];let zs=(()=>{class o{constructor(e){var i=this;this.injector=e,this.offset=g.dropdown.offset,this.focusFirstElement=g.dropdown.focusFirstElement,this.showDropdownIfEmpty=g.dropdown.showDropdownIfEmpty,this.minimumTextLength=g.dropdown.minimumTextLength,this.limitItemsTo=g.dropdown.limitItemsTo,this.displayBy=g.dropdown.displayBy,this.identifyBy=g.dropdown.identifyBy,this.matchingFn=g.dropdown.matchingFn,this.appendToBody=g.dropdown.appendToBody,this.keepOpen=g.dropdown.keepOpen,this.dynamicUpdate=g.dropdown.dynamicUpdate,this.zIndex=g.dropdown.zIndex,this.items=[],this.tagInput=this.injector.get(Ft),this._autocompleteItems=[],this.show=()=>{const n=this.tagInput.items.length===this.tagInput.maxItems,r=this.getFormValue(),s=r.trim().length>=this.minimumTextLength,c=this.calculatePosition(),m=this.getMatchingItems(r),b=m.length>0,w=this.tagInput.disable,A=!1===this.isVisible&&(b&&s||this.showDropdownIfEmpty&&b&&!r),Y=this.isVisible&&!b;return this.autocompleteObservable&&s?this.getItemsFromObservable(r):!this.showDropdownIfEmpty&&!r||n||w?this.dropdown.hide():(this.setItems(m),void(A?this.dropdown.show(c):Y&&this.hide()))},this.requestAdding=function(){var n=(0,L.Z)(function*(r){const s=i.createTagModel(r);yield i.tagInput.onAddingRequested(!0,s).catch(()=>{})});return function(r){return n.apply(this,arguments)}}(),this.resetItems=()=>{this.items=[]},this.getItemsFromObservable=n=>{this.setLoadingState(!0),this.autocompleteObservable(n).pipe((0,it.P)()).subscribe(s=>{this.setLoadingState(!1).populateItems(s),this.setItems(this.getMatchingItems(n)),this.items.length?this.dropdown.show(this.calculatePosition()):this.dropdown.hide()},()=>this.setLoadingState(!1))}}set autocompleteItems(e){this._autocompleteItems=e}get autocompleteItems(){const e=this._autocompleteItems;return e?e.map(i=>"string"==typeof i?{[this.displayBy]:i,[this.identifyBy]:i}:i):[]}ngAfterViewInit(){this.onItemClicked().subscribe(n=>{this.requestAdding(n)}),this.onHide().subscribe(this.resetItems);const i=this.keepOpen;this.tagInput.onTextChange.asObservable().pipe((0,I.x)(),(0,k.b)(200),(0,nt.h)(n=>!1!==i||n.length>0)).subscribe(this.show)}updatePosition(){const e=this.tagInput.inputForm.getElementPosition();this.dropdown.menu.updatePosition(e,this.dynamicUpdate)}get isVisible(){return this.dropdown.menu.dropdownState.menuState.isVisible}onHide(){return this.dropdown.onHide}onItemClicked(){return this.dropdown.onItemClicked}get selectedItem(){return this.dropdown.menu.dropdownState.dropdownState.selectedItem}get state(){return this.dropdown.menu.dropdownState}hide(){this.resetItems(),this.dropdown.hide()}scrollListener(){!this.isVisible||!this.dynamicUpdate||this.updatePosition()}onWindowBlur(){this.dropdown.hide()}getFormValue(){const e=this.tagInput.formValue;return e?e.toString().trim():""}calculatePosition(){return this.tagInput.inputForm.getElementPosition()}createTagModel(e){return{...e.value,[this.tagInput.displayBy]:"string"==typeof e.value?e.value:e.value[this.displayBy],[this.tagInput.identifyBy]:"string"==typeof e.value?e.value:e.value[this.identifyBy]}}getMatchingItems(e){if(!e&&!this.showDropdownIfEmpty)return[];const i=this.tagInput.allowDupes;return this.autocompleteItems.filter(n=>{const r=!i&&this.tagInput.tags.some(s=>("string"==typeof s.model?s.model:s.model[this.tagInput.identifyBy])===n[this.identifyBy]);return this.matchingFn(e,n)&&!1===r})}setItems(e){this.items=e.slice(0,this.limitItemsTo||e.length)}populateItems(e){return this.autocompleteItems=e.map(i=>"string"==typeof i?{[this.displayBy]:i,[this.identifyBy]:i}:i),this}setLoadingState(e){return this.tagInput.isLoading=e,this}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.zs3))},o.\u0275cmp=t.Xpm({type:o,selectors:[["tag-input-dropdown"]],contentQueries:function(e,i,n){if(1&e&&t.Suo(n,t.Rgc,4),2&e){let r;t.iGM(r=t.CRH())&&(i.templates=r)}},viewQuery:function(e,i){if(1&e&&t.Gf(Pt,5),2&e){let n;t.iGM(n=t.CRH())&&(i.dropdown=n.first)}},hostBindings:function(e,i){1&e&&t.NdJ("scroll",function(){return i.scrollListener()},!1,t.Jf7)("blur",function(){return i.onWindowBlur()},!1,t.Jf7)},inputs:{offset:"offset",focusFirstElement:"focusFirstElement",showDropdownIfEmpty:"showDropdownIfEmpty",autocompleteObservable:"autocompleteObservable",minimumTextLength:"minimumTextLength",limitItemsTo:"limitItemsTo",displayBy:"displayBy",identifyBy:"identifyBy",matchingFn:"matchingFn",appendToBody:"appendToBody",keepOpen:"keepOpen",dynamicUpdate:"dynamicUpdate",zIndex:"zIndex",autocompleteItems:"autocompleteItems"},decls:3,vars:6,consts:[[3,"dynamicUpdate"],[3,"focusFirstElement","zIndex","appendToBody","offset"],[3,"value","ngSwitch",4,"ngFor","ngForOf"],[3,"value","ngSwitch"],[3,"innerHTML",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"innerHTML"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(t.TgZ(0,"ng2-dropdown",0)(1,"ng2-dropdown-menu",1),t.YNc(2,Os,3,3,"ng2-menu-item",2),t.qZA()()),2&e&&(t.Q6J("dynamicUpdate",i.dynamicUpdate),t.xp6(1),t.Q6J("focusFirstElement",i.focusFirstElement)("zIndex",i.zIndex)("appendToBody",i.appendToBody)("offset",i.offset),t.xp6(1),t.Q6J("ngForOf",i.items))},dependencies:[Pt,qt,wt,d.sg,d.RF,d.n9,d.ED,d.tP,Ls],encapsulation:2}),o})();const Xs={provide:l.JU,useExisting:(0,t.Gpc)(()=>Ft),multi:!0};let Ft=(()=>{class o extends Hs{constructor(e,i){var n;super(),n=this,this.renderer=e,this.dragProvider=i,this.separatorKeys=g.tagInput.separatorKeys,this.separatorKeyCodes=g.tagInput.separatorKeyCodes,this.placeholder=g.tagInput.placeholder,this.secondaryPlaceholder=g.tagInput.secondaryPlaceholder,this.maxItems=g.tagInput.maxItems,this.validators=g.tagInput.validators,this.asyncValidators=g.tagInput.asyncValidators,this.onlyFromAutocomplete=g.tagInput.onlyFromAutocomplete,this.errorMessages=g.tagInput.errorMessages,this.theme=g.tagInput.theme,this.onTextChangeDebounce=g.tagInput.onTextChangeDebounce,this.inputId=g.tagInput.inputId,this.inputClass=g.tagInput.inputClass,this.clearOnBlur=g.tagInput.clearOnBlur,this.hideForm=g.tagInput.hideForm,this.addOnBlur=g.tagInput.addOnBlur,this.addOnPaste=g.tagInput.addOnPaste,this.pasteSplitPattern=g.tagInput.pasteSplitPattern,this.blinkIfDupe=g.tagInput.blinkIfDupe,this.removable=g.tagInput.removable,this.editable=g.tagInput.editable,this.allowDupes=g.tagInput.allowDupes,this.modelAsStrings=g.tagInput.modelAsStrings,this.trimTags=g.tagInput.trimTags,this.ripple=g.tagInput.ripple,this.tabindex=g.tagInput.tabIndex,this.disable=g.tagInput.disable,this.dragZone=g.tagInput.dragZone,this.onRemoving=g.tagInput.onRemoving,this.onAdding=g.tagInput.onAdding,this.animationDuration=g.tagInput.animationDuration,this.onAdd=new t.vpe,this.onRemove=new t.vpe,this.onSelect=new t.vpe,this.onFocus=new t.vpe,this.onBlur=new t.vpe,this.onTextChange=new t.vpe,this.onPaste=new t.vpe,this.onValidationError=new t.vpe,this.onTagEdited=new t.vpe,this.isLoading=!1,this.listeners={[_t]:[],keyup:[]},this.inputTextChange=new t.vpe,this.inputTextValue="",this.errors=[],this.appendTag=(r,s=this.items.length)=>{const c=this.items,m=this.modelAsStrings?r[this.identifyBy]:r;this.items=[...c.slice(0,s),m,...c.slice(s,c.length)]},this.createTag=r=>{const s=(c,m)=>"string"==typeof c?c.trim():c[m];return{..."string"!=typeof r?r:{},[this.displayBy]:this.trimTags?s(r,this.displayBy):r,[this.identifyBy]:this.trimTags?s(r,this.identifyBy):r}},this.isTagValid=(r,s=!1)=>{const c=this.dropdown?this.dropdown.selectedItem:void 0,m=this.getItemDisplay(r).trim();if(c&&!s||!m)return!1;const b=this.findDupe(r,s);if(!this.allowDupes&&b&&this.blinkIfDupe){const w=this.tags.find(A=>this.getItemValue(A.model)===this.getItemValue(b));w&&w.blink()}const y=[!b||this.allowDupes,!this.maxItemsReached,s&&this.onlyFromAutocomplete||!this.onlyFromAutocomplete];return y.filter(Boolean).length===y.length},this.onPasteCallback=function(){var r=(0,L.Z)(function*(s){const m=(()=>{const y=!!window.clipboardData,w=y?window.clipboardData:s.clipboardData;return null===w?"":w.getData(y?"Text":"text/plain")||""})(),b=m.split(n.pasteSplitPattern).map(y=>{const w=n.createTag(y);return n.setInputValue(w[n.displayBy]),n.onAddingRequested(!1,w)}),T=()=>setTimeout(()=>n.setInputValue(""),50);Promise.all(b).then(()=>{n.onPaste.emit(m),T()}).catch(T)});return function(s){return r.apply(this,arguments)}}()}get inputText(){return this.inputTextValue}set inputText(e){this.inputTextValue=e,this.inputTextChange.emit(e)}get tabindexAttr(){return""!==this.tabindex?"-1":""}ngAfterViewInit(){this.setUpKeypressListeners(),this.setupSeparatorKeysListener(),this.setUpInputKeydownListeners(),this.onTextChange.observers.length&&this.setUpTextChangeSubscriber(),(this.clearOnBlur||this.addOnBlur)&&this.setUpOnBlurSubscriber(),this.addOnPaste&&this.setUpOnPasteListener();const e=this.inputForm.form.statusChanges;e.pipe((0,nt.h)(i=>"PENDING"!==i)).subscribe(()=>{this.errors=this.inputForm.getErrorMessages(this.errorMessages)}),this.isProgressBarVisible$=e.pipe((0,Zs.U)(i=>"PENDING"===i||this.isLoading)),this.hideForm&&this.inputForm.destroy()}ngOnInit(){void 0!==this.maxItems&&this.items&&this.items.length>this.maxItems&&(this.maxItems=this.items.length,console.warn("The number of items specified was greater than the property max-items.")),this.editable=!this.onlyFromAutocomplete&&this.editable,this.setAnimationMetadata()}onRemoveRequested(e,i){return new Promise(n=>{const r=s=>{this.removeItem(s,i),n(e)};this.onRemoving?this.onRemoving(e).pipe((0,it.P)()).subscribe(r):r(e)})}onAddingRequested(e,i,n,r){return new Promise((s,c)=>{const m=b=>this.addItem(e,b,n,r).then(s).catch(c);return this.onAdding?this.onAdding(i).pipe((0,it.P)()).subscribe(m,c):m(i)})}selectItem(e,i=!0){e&&"string"!=typeof e&&e.readonly||this.selectedTag===e||(this.selectedTag=e,i&&this.onSelect.emit(e))}fireEvents(e,i){this.listeners[e].forEach(n=>n.call(this,i))}handleKeydown(e){const i=e.event,r=i.shiftKey||!1;switch(Bs[i.keyCode||i.which]){case"DELETE":if(this.selectedTag&&this.removable){const s=this.items.indexOf(this.selectedTag);this.onRemoveRequested(this.selectedTag,s)}break;case"SWITCH_PREV":this.moveToTag(e.model,ht);break;case"SWITCH_NEXT":this.moveToTag(e.model,rt);break;case"TAB":if(r){if(this.isFirstTag(e.model))return;this.moveToTag(e.model,ht)}else{if(this.isLastTag(e.model)&&(this.disable||this.maxItemsReached))return;this.moveToTag(e.model,rt)}break;default:return}i.preventDefault()}onFormSubmit(){var e=this;return(0,L.Z)(function*(){try{yield e.onAddingRequested(!1,e.formValue)}catch{return}})()}setInputValue(e,i=!0){this.getControl().setValue(e,{emitEvent:i})}getControl(){return this.inputForm.value}focus(e=!1,i=!1){this.dragProvider.getState("dragging")||(this.selectItem(void 0,!1),e&&(this.inputForm.focus(),this.onFocus.emit(this.formValue)))}blur(){this.onTouched(),this.onBlur.emit(this.formValue)}hasErrors(){return!!this.inputForm&&this.inputForm.hasErrors()}isInputFocused(){return!!this.inputForm&&this.inputForm.isInputFocused()}hasCustomTemplate(){const e=this.templates?this.templates.first:void 0;return!(!e||e===(this.dropdown&&this.dropdown.templates?this.dropdown.templates.first:void 0))}get maxItemsReached(){return void 0!==this.maxItems&&this.items.length>=this.maxItems}get formValue(){const e=this.inputForm.value;return e?e.value:""}onDragStarted(e,i,n){e.stopPropagation();const r={zone:this.dragZone,tag:i,index:n};this.dragProvider.setSender(this),this.dragProvider.setDraggedItem(e,r),this.dragProvider.setState({dragging:!0,index:n})}onDragOver(e,i){this.dragProvider.setState({dropping:!0}),this.dragProvider.setReceiver(this),e.preventDefault()}onTagDropped(e,i){const n=this.dragProvider.getDraggedItem(e);!n||n.zone!==this.dragZone||(this.dragProvider.onTagDropped(n.tag,n.index,i),e.preventDefault(),e.stopPropagation())}isDropping(){const e=this.dragProvider.receiver===this,i=this.dragProvider.getState("dropping");return!(!e||!i)}onTagBlurred(e,i){this.items[i]=e,this.blur()}trackBy(e,i){return i[this.identifyBy]}updateEditedTag(e){this.onTagEdited.emit(e)}moveToTag(e,i){const n=this.isLastTag(e),r=this.isFirstTag(e);if(i===rt&&n||i===ht&&r)return void this.focus(!0);const c=i===rt?1:-1,m=this.getTagIndex(e)+c,b=this.getTagAtIndex(m);return b.select.call(b)}isFirstTag(e){return this.tags.first.model===e}isLastTag(e){return this.tags.last.model===e}getTagIndex(e){return this.tags.toArray().findIndex(n=>n.model===e)}getTagAtIndex(e){return this.tags.toArray()[e]}removeItem(e,i){this.items=this.getItemsWithout(i),this.selectedTag===e&&this.selectItem(void 0,!1),this.focus(!0,!1),this.onRemove.emit(e)}addItem(e=!1,i,n,r){const s=this.getItemDisplay(i),c=this.createTag(i);return e&&this.setInputValue(this.getItemValue(i,!0)),new Promise((m,b)=>{const T=()=>{this.setInputValue(""),this.focus(!r,!1),m(s)},y=()=>{this.appendTag(c,n),this.onAdd.emit(c),this.dropdown&&(this.dropdown.hide(),this.dropdown.showDropdownIfEmpty&&this.dropdown.show())},w=this.inputForm.form.status,A=this.isTagValid(c,e),Y=()=>(this.onValidationError.emit(c),b());return"VALID"===w&&A?(y(),T()):"INVALID"!==w&&A?"PENDING"===w?this.inputForm.form.statusChanges.pipe((0,nt.h)(G=>"PENDING"!==G),(0,it.P)()).subscribe(G=>"VALID"===G&&A?(y(),T()):(T(),Y())):void 0:(T(),Y())})}setupSeparatorKeysListener(){Ut.call(this,_t,n=>{const r=this.separatorKeyCodes.indexOf(n.keyCode)>=0,s=this.separatorKeys.indexOf(n.key)>=0;(r||s&&229!==n.keyCode)&&(n.preventDefault(),this.onAddingRequested(!1,this.formValue).catch(()=>{}))},this.separatorKeyCodes.length>0||this.separatorKeys.length>0)}setUpKeypressListeners(){Ut.call(this,_t,i=>{(37===i.keyCode||8===i.keyCode)&&!this.formValue&&this.items.length&&this.tags.last.select.call(this.tags.last)})}setUpInputKeydownListeners(){this.inputForm.onKeydown.subscribe(e=>{"Backspace"===e.key&&""===this.formValue.trim()&&e.preventDefault()})}setUpOnPasteListener(){this.renderer.listen(this.inputForm.input.nativeElement,"paste",i=>(this.onPasteCallback(i),i.preventDefault(),!0))}setUpTextChangeSubscriber(){this.inputForm.form.valueChanges.pipe((0,k.b)(this.onTextChangeDebounce)).subscribe(e=>{this.onTextChange.emit(e.item)})}setUpOnBlurSubscriber(){this.inputForm.onBlur.pipe((0,k.b)(100),(0,nt.h)(()=>!(this.dropdown&&this.dropdown.isVisible||!this.formValue))).subscribe(()=>{const i=()=>this.setInputValue("");if(this.addOnBlur)return this.onAddingRequested(!1,this.formValue,void 0,!0).then(i).catch(i);i()})}findDupe(e,i){const r=e[i?this.dropdown.identifyBy:this.identifyBy];return this.items.find(s=>this.getItemValue(s)===r)}setAnimationMetadata(){this.animationMetadata={value:"in",params:{...this.animationDuration}}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.Qsj),t.Y36(kt))},o.\u0275cmp=t.Xpm({type:o,selectors:[["tag-input"]],contentQueries:function(e,i,n){if(1&e&&(t.Suo(n,zs,5),t.Suo(n,t.Rgc,4)),2&e){let r;t.iGM(r=t.CRH())&&(i.dropdown=r.first),t.iGM(r=t.CRH())&&(i.templates=r)}},viewQuery:function(e,i){if(1&e&&(t.Gf(Mt,5),t.Gf(Nt,5)),2&e){let n;t.iGM(n=t.CRH())&&(i.inputForm=n.first),t.iGM(n=t.CRH())&&(i.tags=n)}},hostVars:1,hostBindings:function(e,i){2&e&&t.uIk("tabindex",i.tabindexAttr)},inputs:{separatorKeys:"separatorKeys",separatorKeyCodes:"separatorKeyCodes",placeholder:"placeholder",secondaryPlaceholder:"secondaryPlaceholder",maxItems:"maxItems",validators:"validators",asyncValidators:"asyncValidators",onlyFromAutocomplete:"onlyFromAutocomplete",errorMessages:"errorMessages",theme:"theme",onTextChangeDebounce:"onTextChangeDebounce",inputId:"inputId",inputClass:"inputClass",clearOnBlur:"clearOnBlur",hideForm:"hideForm",addOnBlur:"addOnBlur",addOnPaste:"addOnPaste",pasteSplitPattern:"pasteSplitPattern",blinkIfDupe:"blinkIfDupe",removable:"removable",editable:"editable",allowDupes:"allowDupes",modelAsStrings:"modelAsStrings",trimTags:"trimTags",inputText:"inputText",ripple:"ripple",tabindex:"tabindex",disable:"disable",dragZone:"dragZone",onRemoving:"onRemoving",onAdding:"onAdding",animationDuration:"animationDuration"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onSelect:"onSelect",onFocus:"onFocus",onBlur:"onBlur",onTextChange:"onTextChange",onPaste:"onPaste",onValidationError:"onValidationError",onTagEdited:"onTagEdited",inputTextChange:"inputTextChange"},features:[t._Bn([Xs]),t.qOj],ngContentSelectors:Qs,decls:8,vars:27,consts:[[1,"ng2-tag-input",3,"ngClass","click","drop","dragenter","dragover","dragend"],[1,"ng2-tags-container"],[3,"draggable","canAddTag","disabled","hasRipple","index","removable","editable","displayBy","identifyBy","template","model","onSelect","onRemove","onKeyDown","onTagEdited","onBlur","dragstart","drop","dragenter","dragover","dragleave",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inputText","disabled","validators","asyncValidators","hidden","placeholder","inputClass","inputId","tabindex","onSubmit","onBlur","click","onKeydown","onKeyup"],["class","progress-bar",4,"ngIf"],["class","error-messages",3,"ngClass",4,"ngIf"],[3,"draggable","canAddTag","disabled","hasRipple","index","removable","editable","displayBy","identifyBy","template","model","onSelect","onRemove","onKeyDown","onTagEdited","onBlur","dragstart","drop","dragenter","dragover","dragleave"],[1,"progress-bar"],[1,"error-messages",3,"ngClass"],["class","error-message",4,"ngFor","ngForOf"],[1,"error-message"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.NdJ("click",function(){return i.focus(!0,!1)})("drop",function(r){return i.dragZone?i.onTagDropped(r,void 0):void 0})("dragenter",function(r){return i.dragZone?i.onDragOver(r):void 0})("dragover",function(r){return i.dragZone?i.onDragOver(r):void 0})("dragend",function(){return i.dragZone?i.dragProvider.onDragEnd():void 0}),t.TgZ(1,"div",1),t.YNc(2,Ns,1,14,"tag",2),t.TgZ(3,"tag-input-form",3),t.NdJ("onSubmit",function(){return i.onFormSubmit()})("onBlur",function(){return i.blur()})("click",function(){return i.dropdown?i.dropdown.show():void 0})("onKeydown",function(r){return i.fireEvents("keydown",r)})("onKeyup",function(r){return i.fireEvents("keyup",r)}),t.qZA()(),t.YNc(4,Fs,1,0,"div",4),t.ALo(5,"async"),t.qZA(),t.YNc(6,Js,2,2,"div",5),t.Hsn(7)),2&e&&(t.ekj("ng2-tag-input--dropping",i.isDropping())("ng2-tag-input--disabled",i.disable)("ng2-tag-input--loading",i.isLoading)("ng2-tag-input--invalid",i.hasErrors())("ng2-tag-input--focused",i.isInputFocused()),t.Q6J("ngClass",i.theme),t.uIk("tabindex",-1),t.xp6(2),t.Q6J("ngForOf",i.items)("ngForTrackBy",i.trackBy),t.xp6(1),t.Q6J("inputText",i.inputText)("disabled",i.disable)("validators",i.validators)("asyncValidators",i.asyncValidators)("hidden",i.maxItemsReached)("placeholder",i.items.length?i.placeholder:i.secondaryPlaceholder)("inputClass",i.inputClass)("inputId",i.inputId)("tabindex",i.tabindex),t.xp6(1),t.Q6J("ngIf",t.lcZ(5,25,i.isProgressBarVisible$)),t.xp6(2),t.Q6J("ngIf",i.hasErrors()))},dependencies:[Nt,Mt,d.mk,d.sg,d.O5,d.Ov],styles:['.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 1px #323232}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;color:#555;vertical-align:middle;max-width:100%;height:42px;line-height:44px}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;box-shadow:none;outline:none;background-color:transparent;padding:0 6px;margin:0;width:auto;max-width:inherit}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#777;opacity:1}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none;box-shadow:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #0006;border:1px solid #ccc}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #d9534f}.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;transition:all .25s;padding:.25rem 0;min-height:32px;cursor:text;border-bottom:2px solid #efefef}.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #2196F3}.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #f44336}.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.minimal.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid transparent}.minimal.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.minimal.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.minimal.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.minimal.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.minimal.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.dark.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #444}.dark.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.dark.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.dark.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.dark.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.dark.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #efefef}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #0275d8}.bootstrap.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #d9534f}.bootstrap.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;padding:4px;cursor:text;box-shadow:inset 0 1px 1px #00000013;border-radius:4px}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:1px solid #d9534f}.bootstrap3-info.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.error-message[_ngcontent-%COMP%]{font-size:.8em;color:#f44336;margin:.5em 0 0}.bootstrap[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d9534f}.progress-bar[_ngcontent-%COMP%], .progress-bar[_ngcontent-%COMP%]:before{height:2px;width:100%;margin:0}.progress-bar[_ngcontent-%COMP%]{background-color:#2196f3;display:flex;position:absolute;bottom:0}.progress-bar[_ngcontent-%COMP%]:before{background-color:#82c4f8;content:"";-webkit-animation:_ngcontent-%COMP%_running-progress 2s cubic-bezier(.4,0,.2,1) infinite;animation:_ngcontent-%COMP%_running-progress 2s cubic-bezier(.4,0,.2,1) infinite}@-webkit-keyframes _ngcontent-%COMP%_running-progress{0%{margin-left:0;margin-right:100%}50%{margin-left:25%;margin-right:0}to{margin-left:100%;margin-right:0}}@keyframes _ngcontent-%COMP%_running-progress{0%{margin-left:0;margin-right:100%}50%{margin-left:25%;margin-right:0}to{margin-left:100%;margin-right:0}}tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;font-family:Roboto,Helvetica Neue,sans-serif;font-weight:400;font-size:1em;letter-spacing:.05rem;color:#444;border-radius:16px;transition:all .3s;margin:.1rem .3rem .1rem 0;padding:.08rem .45rem;height:32px;line-height:34px;background:#efefef;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#2196F3;color:#fff;box-shadow:0 2px 3px 1px #d4d1d1}tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active{background:#0d8aee;color:#fff;box-shadow:0 2px 3px 1px #d4d1d1}tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#e2e2e2;color:#000;color:initial;box-shadow:0 2px 3px 1px #d4d1d1}tag.readonly[_ngcontent-%COMP%]{cursor:default}tag.readonly[_ngcontent-%COMP%]:focus, tag[_ngcontent-%COMP%]:focus{outline:0}tag.tag--editing[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;cursor:text}.minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;border-radius:0;background:#f9f9f9;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}.minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#d0d0d0;color:#000;color:initial}.minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active{background:#d0d0d0;color:#000;color:initial}.minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#ececec}.minimal[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.minimal[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.minimal[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;color:#f9f9f9;border-radius:3px;background:#444;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#efefef;color:#444}.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#2b2b2b;color:#f9f9f9}.dark[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.dark[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.dark[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}.bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;color:#f9f9f9;border-radius:.25rem;background:#0275d8;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}.bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#025aa5}.bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active{background:#025aa5}.bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#0267bf;color:#f9f9f9}.bootstrap[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.bootstrap[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.bootstrap[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}.bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;font-family:inherit;font-weight:400;font-size:95%;color:#fff;border-radius:.25em;background:#5bc0de;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative;padding:.25em .6em;text-align:center;white-space:nowrap}.bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#28a1c5}.bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active{background:#28a1c5}.bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#46b8da;color:#fff}.bootstrap3-info[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.bootstrap3-info[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}[_nghost-%COMP%]{display:block}'],data:{animation:Ws}}),o})();const tl=new ft;let el=(()=>{class o{static withDefaults(e){tl.setOptions(e)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[kt,{provide:l.ve,useValue:!1}],imports:[[d.ez,l.UX,l.u5,ys]]}),o})();var F=f(75054);function ol(o,a){if(1&o&&(t.TgZ(0,"div",9),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij("",null==e.widget||null==e.widget.component?null:e.widget.component.prefix," ")}}function nl(o,a){if(1&o&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij("",null==e.widget||null==e.widget.component?null:e.widget.component.suffix," ")}}function il(o,a){if(1&o&&(t.TgZ(0,"option",18),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.label)}}function rl(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1,"Unit is required"),t.qZA())}function al(o,a){if(1&o&&(t.TgZ(0,"div",19),t.YNc(1,rl,2,0,"div",1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.selectedUnit.hasError("required"))}}function sl(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"label",12),t._uU(3),t.qZA(),t.TgZ(4,"div",13)(5,"select",14),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw(2);return t.KtG(r.changeUnit(n))}),t.TgZ(6,"option",15),t._uU(7,"Select"),t.qZA(),t.YNc(8,il,2,2,"option",16),t.qZA(),t.YNc(9,al,2,1,"div",17),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(3),t.Oqu(null==e.widget||null==e.widget.component?null:e.widget.component.measurement_label),t.xp6(2),t.Q6J("formControl",e.selectedUnit),t.xp6(3),t.Q6J("ngForOf",e.unitConfig),t.xp6(1),t.Q6J("ngIf",e.submitted&&!e.selectedUnit.valid)}}function ll(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3),t.YNc(2,ol,2,1,"div",4),t.TgZ(3,"input",5),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updateValue(n))})("keyup",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updateValue(n))}),t.qZA(),t.YNc(4,nl,2,1,"div",6),t.qZA(),t.YNc(5,sl,10,4,"ng-container",1),t.TgZ(6,"div",7)(7,"input",8),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updateEnable(n))}),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",(null==e.widget||null==e.widget.component?null:e.widget.component.prefix)&&0!==e.widget.component.prefix.trim().length),t.xp6(1),t.s9C("id",e.id),t.Q6J("ngClass",null==e.widget||null==e.widget.component?null:e.widget.component.customClass)("ngClass",null!=e.widget&&null!=e.widget.componentInstance&&e.widget.componentInstance.error?"is-invalid":"")("tabindex",null==e.widget||null==e.widget.component?null:e.widget.component.tabindex)("autocomplete",null!=e.widget&&null!=e.widget.component&&e.widget.component.autocomplete?e.widget.component.autocomplete:"on")("placeholder",e.placeholder)("disabled",e.disabled)("required",e.required)("value",e.value),t.xp6(1),t.Q6J("ngIf",(null==e.widget||null==e.widget.component?null:e.widget.component.suffix)&&0!==e.widget.component.suffix.trim().length),t.xp6(1),t.Q6J("ngIf",e.isShowUOM),t.xp6(2),t.Q6J("checked",e.enabled)}}function cl(o,a){1&o&&(t.TgZ(0,"div")(1,"small"),t._uU(2,"Tolerance Required"),t.qZA()())}let dl=(()=>{class o{constructor(e,i){this.elementRef=e,this._PS=i,this.valueChange=new t.vpe,this.disabled=!1,this.required=!1,this.maxLength=0,this.label="",this.placeholder="",this.hidden=!1,this.enabled=!1,this.submitted=!1,this.isShowUOM=!1,this.isTolerance=!1,this.currentMeasurementLabel="",this.selectedUnit=new l.NI(""),this.unitConfig=[],this.value="",this._elementRef=e}ngOnChanges(e){"object"==typeof this.value&&(this.selectedUnit.patchValue(this.value?.unit),this.value=this.value?.value),e?.widget&&this.widget&&this.widget.component&&((this.widget.component.isShowUOM||!1===this.widget.component.isShowUOM)&&(this.isShowUOM=this.widget.component.isShowUOM,this.currentMeasurementLabel===this.widget.component.measurement_label||(this.currentMeasurementLabel=this.widget.component.measurement_label,this.getUnit())),(this.widget.component.isTolerance||!1===this.widget.component.isTolerance)&&(this.isTolerance=this.widget.component.isTolerance))}getUnit(){this.currentMeasurementLabel&&this._PS.getAppConfigByKey(this.currentMeasurementLabel.toUpperCase()).subscribe(e=>{if(e.meta.status){let i=e.data.value.split("|").map(n=>({value:(n=n.trim()).toLowerCase(),label:n}));this.unitConfig.push(...i)}},e=>{})}changeUnit(e){this.widget&&this.widget.component&&(this.widget.component.unit=e)}updateValue(e){const i=e.target.value;this.value=i,this.valueChange.emit(i)}updateEnable(e){this.enabled=e.target.checked}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(t.SBq),t.Y36(C.M))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["custom-textfield"]],inputs:{value:"value",id:"id",values:"values",disabled:"disabled",required:"required",maxLength:"maxLength",label:"label",placeholder:"placeholder",widget:"widget",hidden:"hidden",enabled:"enabled"},outputs:{valueChange:"valueChange"},features:[t.TTD],decls:2,vars:2,consts:[["class","custom-text-field",4,"ngIf"],[4,"ngIf"],[1,"custom-text-field"],[1,"input-group"],["ref","prefix","class","input-group-text",4,"ngIf"],[1,"form-control",2,"height","fit-content",3,"id","ngClass","tabindex","autocomplete","placeholder","disabled","required","value","change","keyup"],["ref","suffix","class","input-group-text",4,"ngIf"],[2,"padding-top","10px"],["type","checkbox",3,"checked","change"],["ref","prefix",1,"input-group-text"],["ref","suffix",1,"input-group-text"],[1,"form-group",2,"margin-top","-20px"],[2,"text-transform","capitalize"],[1,"input-group",2,"width","130px"],["name","unit","id","unit",1,"form-control",3,"formControl","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["style","display: block;color: #c20000;","class","invalid-feedback","ref","messageContainer",4,"ngIf"],[3,"value"],["ref","messageContainer",1,"invalid-feedback",2,"display","block","color","#c20000"]],template:function(i,n){1&i&&(t.YNc(0,ll,8,13,"div",0),t.YNc(1,cl,3,0,"div",1)),2&i&&(t.Q6J("ngIf","hidden"!==n._elementRef.nativeElement.getAttribute("type")),t.xp6(1),t.Q6J("ngIf",n.isTolerance))},dependencies:[d.mk,d.sg,d.O5,l.YN,l.Kr,l.EJ,l.JJ,l.oH],styles:[".custom-text-field[_ngcontent-%COMP%]{display:flex;gap:10px}.input-group[_ngcontent-%COMP%]   div[ref=prefix][_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]   div[ref=suffix][_ngcontent-%COMP%]{height:-moz-fit-content!important;height:fit-content!important}"]})}return o})();const ul={type:"custom-textfield",selector:"custom-textfield",title:"Text Field",group:"custom",icon:"fa fa-terminal bi bi-terminal",editForm:function pl(){const o=F.z8.components.textfield.editForm().components;return o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(10,0,{type:"select",input:!0,key:"widget.type",label:"Widget",tooltip:"The widget is the display UI used to input the value of the field.",weight:401,defaultValue:"input",dataSrc:"values",data:{values:[{label:"Input Field",value:"input"},{label:"Calendar Picker",value:"calendar"}]}}),o[0].components[0].components.push({type:"checkbox",label:"Enabled",tooltip:"Enabled Input",key:"enabled",input:!0}),o[0].components.splice(5,1),o[0].components.splice(5,1),o[0].components.push({key:"uom",label:"UOM",components:[{label:"Do you want to add UOM?",optionsLabelPosition:"right",customClass:"pl-3",inline:!0,tableView:!1,values:[{label:"Yes",value:!0,shortcut:""},{label:"No",value:!1,shortcut:""}],key:"isShowUOM",type:"radio",input:!0,defaultValue:!1},{label:"Tolerance Required",optionsLabelPosition:"right",customClass:"pl-3",inline:!0,tableView:!1,values:[{label:"Yes",value:!0,shortcut:""},{label:"No",value:!1,shortcut:""}],key:"isTolerance",type:"radio",input:!0,defaultValue:!1},{title:"Measurement",key:"measurement_label",type:"select",data:{values:Dt},dataSrc:"values",label:"Measurement",input:!0,conditional:{json:{"===":[{var:"data.isShowUOM"},!0]}}}]}),{components:o}},schema:{label:"Text Field",enabled:!1},fieldOptions:["enabled"]},Dt=[];function _l(o,a){if(1&o&&(t.TgZ(0,"div",9),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij("",null==e.widget||null==e.widget.component?null:e.widget.component.prefix," ")}}function hl(o,a){if(1&o&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij("",null==e.widget||null==e.widget.component?null:e.widget.component.suffix," ")}}function fl(o,a){if(1&o&&(t.TgZ(0,"option",18),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.label)}}function bl(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1,"Unit is required"),t.qZA())}function vl(o,a){if(1&o&&(t.TgZ(0,"div",19),t.YNc(1,bl,2,0,"div",1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.selectedUnit.hasError("required"))}}function Cl(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"div",11)(2,"label",12),t._uU(3),t.qZA(),t.TgZ(4,"div",13)(5,"select",14)(6,"option",15),t._uU(7,"Select"),t.qZA(),t.YNc(8,fl,2,2,"option",16),t.qZA(),t.YNc(9,vl,2,1,"div",17),t.qZA()(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(3),t.Oqu(null==e.widget||null==e.widget.component?null:e.widget.component.measurement_label),t.xp6(2),t.Q6J("formControl",e.selectedUnit),t.xp6(3),t.Q6J("ngForOf",e.unitConfig),t.xp6(1),t.Q6J("ngIf",e.submitted&&!e.selectedUnit.valid)}}function yl(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3),t.YNc(2,_l,2,1,"div",4),t.TgZ(3,"textarea",5),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updateValue(n))})("keyup",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updateValue(n))}),t._uU(4,"        "),t.qZA(),t.YNc(5,hl,2,1,"div",6),t.qZA(),t.YNc(6,Cl,10,4,"ng-container",1),t.TgZ(7,"div",7)(8,"input",8),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updateEnable(n))}),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",(null==e.widget||null==e.widget.component?null:e.widget.component.prefix)&&0!==e.widget.component.prefix.trim().length),t.xp6(1),t.Q6J("ngClass",null==e.widget||null==e.widget.component?null:e.widget.component.customClass)("ngClass",null!=e.widget&&null!=e.widget.componentInstance&&e.widget.componentInstance.error?"is-invalid":"")("tabindex",null==e.widget||null==e.widget.component?null:e.widget.component.tabindex)("autocomplete",null!=e.widget&&null!=e.widget.component&&e.widget.component.autocomplete?e.widget.component.autocomplete:"on")("placeholder",e.placeholder)("disabled",e.disabled)("required",e.required)("value",e.value)("rows",null==e.widget||null==e.widget.component?null:e.widget.component.rows),t.xp6(2),t.Q6J("ngIf",(null==e.widget||null==e.widget.component?null:e.widget.component.suffix)&&0!==e.widget.component.suffix.trim().length),t.xp6(1),t.Q6J("ngIf",e.isShowUOM),t.xp6(2),t.Q6J("checked",e.enabled)}}function Zl(o,a){1&o&&(t.TgZ(0,"div")(1,"small"),t._uU(2,"Tolerance Required"),t.qZA()())}let xl=(()=>{class o{constructor(e,i){this.elementRef=e,this._PS=i,this.value="",this.valueChange=new t.vpe,this.disabled=!1,this.required=!1,this.maxLength=0,this.label="",this.placeholder="",this.hidden=!1,this.enabled=!1,this.currentMeasurementLabel="",this.selectedUnit=new l.NI(""),this.isShowUOM=!1,this.isTolerance=!1,this.submitted=!1,this.unitConfig=[],this._elementRef=e}ngOnChanges(e){e?.widget&&this.widget&&this.widget.component&&((this.widget.component.isShowUOM||!1===this.widget.component.isShowUOM)&&(this.isShowUOM=this.widget.component.isShowUOM,this.currentMeasurementLabel===this.widget.component.measurement_label||(this.currentMeasurementLabel=this.widget.component.measurement_label,this.getUnit())),(this.widget.component.isTolerance||!1===this.widget.component.isTolerance)&&(this.isTolerance=this.widget.component.isTolerance))}getUnit(){this.currentMeasurementLabel&&this._PS.getAppConfigByKey(this.currentMeasurementLabel.toUpperCase()).subscribe(e=>{if(e.meta.status){let i=e.data.value.split("|").map(n=>({value:(n=n.trim()).toLowerCase(),label:n}));this.unitConfig.push(...i)}},e=>{})}changeUnit(e){this.widget&&this.widget.component&&(this.widget.component.unit=e)}updateValue(e){const i=e.target.value;this.value=i,this.valueChange.emit(i)}updateEnable(e){this.enabled=e.target.checked}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(t.SBq),t.Y36(C.M))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["custom-textarea"]],inputs:{value:"value",disabled:"disabled",required:"required",maxLength:"maxLength",label:"label",placeholder:"placeholder",widget:"widget",hidden:"hidden",enabled:"enabled"},outputs:{valueChange:"valueChange"},features:[t.TTD],decls:2,vars:2,consts:[["class","custom-text-area",4,"ngIf"],[4,"ngIf"],[1,"custom-text-area"],[1,"input-group"],["ref","prefix","class","input-group-text",4,"ngIf"],[1,"form-control",2,"height","fit-content",3,"ngClass","tabindex","autocomplete","placeholder","disabled","required","value","rows","change","keyup"],["ref","suffix","class","input-group-text",4,"ngIf"],[2,"padding-top","10px"],["type","checkbox",3,"checked","change"],["ref","prefix",1,"input-group-text"],["ref","suffix",1,"input-group-text"],[1,"form-group",2,"margin-top","-20px"],[2,"text-transform","capitalize"],[1,"input-group",2,"width","130px"],["name","unit","id","unit",1,"form-control",3,"formControl"],["value",""],[3,"value",4,"ngFor","ngForOf"],["style","display: block;color: #c20000;","class","invalid-feedback","ref","messageContainer",4,"ngIf"],[3,"value"],["ref","messageContainer",1,"invalid-feedback",2,"display","block","color","#c20000"]],template:function(i,n){1&i&&(t.YNc(0,yl,9,13,"div",0),t.YNc(1,Zl,3,0,"div",1)),2&i&&(t.Q6J("ngIf","hidden"!==n._elementRef.nativeElement.getAttribute("type")),t.xp6(1),t.Q6J("ngIf",n.isTolerance))},dependencies:[d.mk,d.sg,d.O5,l.YN,l.Kr,l.EJ,l.JJ,l.oH],styles:[".custom-text-area[_ngcontent-%COMP%]{display:flex;gap:10px}"]})}return o})();const Tl={type:"custom-textarea",selector:"custom-textarea",title:"Text Area",group:"custom",icon:"fa fa-font bi bi-type",editForm:function wl(){const o=F.z8.components.textarea.editForm().components;return o[0].components[0].components.splice(12,1),o[0].components[0].components.splice(12,1),o[0].components.splice(5,1),o[0].components.splice(5,1),o[0].components[0].components.push({type:"checkbox",label:"Enabled",tooltip:"Enabled Input",key:"enabled",input:!0}),o[0].components.push({key:"uom",label:"UOM",components:[{label:"Do you want to add UOM?",optionsLabelPosition:"right",customClass:"pl-3",inline:!0,tableView:!1,values:[{label:"Yes",value:!0,shortcut:""},{label:"No",value:!1,shortcut:""}],key:"isShowUOM",type:"radio",input:!0,defaultValue:!1},{label:"Tolerance Required",optionsLabelPosition:"right",customClass:"pl-3",inline:!0,tableView:!1,values:[{label:"Yes",value:!0,shortcut:""},{label:"No",value:!1,shortcut:""}],key:"isTolerance",type:"radio",input:!0,defaultValue:!1},{title:"Measurement",key:"measurement_label",type:"select",data:{values:Jt},dataSrc:"values",label:"Measurement",input:!0,conditional:{json:{"===":[{var:"data.isShowUOM"},!0]}}}]}),{components:o}},schema:{label:"Text Area",rows:3,enabled:!1},fieldOptions:["enabled"]},Jt=[];function Al(o,a){if(1&o&&(t.TgZ(0,"div",9),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij("",null==e.widget||null==e.widget.component?null:e.widget.component.prefix," ")}}function kl(o,a){if(1&o&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij("",null==e.widget||null==e.widget.component?null:e.widget.component.suffix," ")}}function Il(o,a){if(1&o&&(t.TgZ(0,"option",18),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.label)}}function Ul(o,a){1&o&&(t.TgZ(0,"div"),t._uU(1,"Unit is required"),t.qZA())}function Ml(o,a){if(1&o&&(t.TgZ(0,"div",19),t.YNc(1,Ul,2,0,"div",1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.selectedUnit.hasError("required"))}}function Sl(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"div",11)(2,"label",12),t._uU(3),t.qZA(),t.TgZ(4,"div",13)(5,"select",14)(6,"option",15),t._uU(7,"Select"),t.qZA(),t.YNc(8,Il,2,2,"option",16),t.qZA(),t.YNc(9,Ml,2,1,"div",17),t.qZA()(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(3),t.Oqu(null==e.widget||null==e.widget.component?null:e.widget.component.measurement_label),t.xp6(2),t.Q6J("formControl",e.selectedUnit),t.xp6(3),t.Q6J("ngForOf",e.unitConfig),t.xp6(1),t.Q6J("ngIf",e.submitted&&!e.selectedUnit.valid)}}function Ol(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3),t.YNc(2,Al,2,1,"div",4),t.TgZ(3,"input",5),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updateValue(n))})("keyup",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updateValue(n))}),t.qZA(),t.YNc(4,kl,2,1,"div",6),t.qZA(),t.YNc(5,Sl,10,4,"ng-container",1),t.TgZ(6,"div",7)(7,"input",8),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updateEnable(n))}),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",(null==e.widget||null==e.widget.component?null:e.widget.component.prefix)&&0!==e.widget.component.prefix.trim().length),t.xp6(1),t.Q6J("ngClass",null==e.widget||null==e.widget.component?null:e.widget.component.customClass)("ngClass",null!=e.widget&&null!=e.widget.componentInstance&&e.widget.componentInstance.error?"is-invalid":"")("tabindex",null==e.widget||null==e.widget.component?null:e.widget.component.tabindex)("autocomplete",null!=e.widget&&null!=e.widget.component&&e.widget.component.autocomplete?e.widget.component.autocomplete:"on")("placeholder",e.placeholder)("disabled",e.disabled)("required",e.required)("value",e.value),t.xp6(1),t.Q6J("ngIf",(null==e.widget||null==e.widget.component?null:e.widget.component.suffix)&&0!==e.widget.component.suffix.trim().length),t.xp6(1),t.Q6J("ngIf",e.isShowUOM),t.xp6(2),t.Q6J("checked",e.enabled)}}function Nl(o,a){1&o&&(t.TgZ(0,"div")(1,"small"),t._uU(2,"Tolerance Required"),t.qZA()())}let Fl=(()=>{class o{constructor(e,i){this.elementRef=e,this._PS=i,this.valueChange=new t.vpe,this.disabled=!1,this.required=!1,this.label="",this.placeholder="",this.hidden=!1,this.enabled=!1,this.submitted=!1,this.currentMeasurementLabel="",this.selectedUnit=new l.NI(""),this.isShowUOM=!1,this.isTolerance=!1,this.unitConfig=[],this._elementRef=e}ngOnChanges(e){"object"==typeof this.value&&(this.selectedUnit.patchValue(this.value?.unit),this.value=this.value?.value),e?.widget&&this.widget&&this.widget.component&&((this.widget.component.isShowUOM||!1===this.widget.component.isShowUOM)&&(this.isShowUOM=this.widget.component.isShowUOM,this.currentMeasurementLabel===this.widget.component.measurement_label||(this.currentMeasurementLabel=this.widget.component.measurement_label,this.getUnit())),(this.widget.component.isTolerance||!1===this.widget.component.isTolerance)&&(this.isTolerance=this.widget.component.isTolerance))}getUnit(){this.currentMeasurementLabel&&this._PS.getAppConfigByKey(this.currentMeasurementLabel.toUpperCase()).subscribe(e=>{if(e.meta.status){let i=e.data.value.split("|").map(n=>({value:(n=n.trim()).toLowerCase(),label:n}));this.unitConfig.push(...i)}},e=>{})}changeUnit(e){this.widget&&this.widget.component&&(this.widget.component.unit=e)}updateValue(e){const i=e.target.value;this.value=i,this.valueChange.emit(i)}updateEnable(e){this.enabled=e.target.checked}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(t.SBq),t.Y36(C.M))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["custom-number"]],inputs:{value:"value",disabled:"disabled",required:"required",label:"label",placeholder:"placeholder",widget:"widget",hidden:"hidden",enabled:"enabled"},outputs:{valueChange:"valueChange"},features:[t.TTD],decls:2,vars:2,consts:[["class","custom-number",4,"ngIf"],[4,"ngIf"],[1,"custom-number"],[1,"input-group"],["ref","prefix","class","input-group-text",4,"ngIf"],["type","number",1,"form-control",2,"height","fit-content",3,"ngClass","tabindex","autocomplete","placeholder","disabled","required","value","change","keyup"],["ref","suffix","class","input-group-text",4,"ngIf"],[2,"padding-top","10px"],["type","checkbox",3,"checked","change"],["ref","prefix",1,"input-group-text"],["ref","suffix",1,"input-group-text"],[1,"form-group",2,"margin-top","-20px"],[2,"text-transform","capitalize"],[1,"input-group",2,"width","130px"],["name","unit","id","unit",1,"form-control",3,"formControl"],["value",""],[3,"value",4,"ngFor","ngForOf"],["style","display: block;color: #c20000;","class","invalid-feedback","ref","messageContainer",4,"ngIf"],[3,"value"],["ref","messageContainer",1,"invalid-feedback",2,"display","block","color","#c20000"]],template:function(i,n){1&i&&(t.YNc(0,Ol,8,12,"div",0),t.YNc(1,Nl,3,0,"div",1)),2&i&&(t.Q6J("ngIf","hidden"!==n._elementRef.nativeElement.getAttribute("type")),t.xp6(1),t.Q6J("ngIf",n.isTolerance))},dependencies:[d.mk,d.sg,d.O5,l.YN,l.Kr,l.EJ,l.JJ,l.oH],styles:[".custom-number[_ngcontent-%COMP%]{display:flex;gap:10px}"]})}return o})();const Dl={type:"custom-number",selector:"custom-number",title:"Number",group:"custom",icon:"fa fa-hashtag bi bi-hash",editForm:function Jl(){const o=F.z8.components.number.editForm().components;return console.log(o),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(10,0,{type:"select",input:!0,key:"widget.type",label:"Widget",tooltip:"The widget is the display UI used to input the value of the field.",weight:401,defaultValue:"input",dataSrc:"values",data:{values:[{label:"Input Field",value:"input"},{label:"Calendar Picker",value:"calendar"}]}}),o[0].components.splice(5,1),o[0].components.splice(5,1),o[0].components[0].components.push({type:"checkbox",label:"Enabled",tooltip:"Enabled Input",key:"enabled",input:!0}),o[0].components.push({key:"uom",label:"UOM",components:[{label:"Do you want to add UOM?",optionsLabelPosition:"right",customClass:"pl-3",inline:!0,tableView:!1,values:[{label:"Yes",value:!0,shortcut:""},{label:"No",value:!1,shortcut:""}],key:"isShowUOM",type:"radio",input:!0,defaultValue:!1},{label:"Tolerance Required",optionsLabelPosition:"right",customClass:"pl-3",inline:!0,tableView:!1,values:[{label:"Yes",value:!0,shortcut:""},{label:"No",value:!1,shortcut:""}],key:"isTolerance",type:"radio",input:!0,defaultValue:!1},{title:"Measurement",key:"measurement_label",type:"select",data:{values:Qt},dataSrc:"values",label:"Measurement",input:!0,conditional:{json:{"===":[{var:"data.isShowUOM"},!0]}}}]}),{components:o}},schema:{label:"Number",enabled:!1},fieldOptions:["enabled"]},Qt=[];function Ll(o,a){if(1&o&&(t.TgZ(0,"div",9),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij("",null==e.widget||null==e.widget.component?null:e.widget.component.prefix," ")}}function Yl(o,a){if(1&o&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij("",null==e.widget||null==e.widget.component?null:e.widget.component.suffix," ")}}function $l(o,a){if(1&o&&(t.TgZ(0,"option",17),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.label)}}function Vl(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"label",12),t._uU(3),t.qZA(),t.TgZ(4,"div",13)(5,"select",14),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw(2);return t.KtG(r.selectedUnit=n)})("ngModelChange",function(n){t.CHM(e);const r=t.oxw(2);return t.KtG(r.changeUnit(n))}),t.TgZ(6,"option",15),t._uU(7,"Select"),t.qZA(),t.YNc(8,$l,2,2,"option",16),t.qZA()()(),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(3),t.Oqu(null==e.widget||null==e.widget.component?null:e.widget.component.measurement_label),t.xp6(2),t.Q6J("ngModel",e.selectedUnit),t.xp6(3),t.Q6J("ngForOf",e.unitConfig)}}function Kl(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3),t.YNc(2,Ll,2,1,"div",4),t.TgZ(3,"input",5),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updateValue(n))})("keyup",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updateValue(n))}),t.qZA(),t.YNc(4,Yl,2,1,"div",6),t.qZA(),t.YNc(5,Vl,9,3,"ng-container",1),t.TgZ(6,"div",7)(7,"input",8),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updateEnable(n))}),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",(null==e.widget||null==e.widget.component?null:e.widget.component.prefix)&&0!==e.widget.component.prefix.trim().length),t.xp6(1),t.Q6J("ngClass",null==e.widget||null==e.widget.component?null:e.widget.component.customClass)("ngClass",null!=e.widget&&null!=e.widget.componentInstance&&e.widget.componentInstance.error?"is-invalid":"")("tabindex",null==e.widget||null==e.widget.component?null:e.widget.component.tabindex)("autocomplete",null!=e.widget&&null!=e.widget.component&&e.widget.component.autocomplete?e.widget.component.autocomplete:"on")("placeholder",e.placeholder)("disabled",e.disabled)("required",e.required)("value",e.value),t.xp6(1),t.Q6J("ngIf",(null==e.widget||null==e.widget.component?null:e.widget.component.suffix)&&0!==e.widget.component.suffix.trim().length),t.xp6(1),t.Q6J("ngIf",e.isShowUOM),t.xp6(2),t.Q6J("checked",e.enabled)}}function Bl(o,a){1&o&&(t.TgZ(0,"div")(1,"small"),t._uU(2,"Tolerance Required"),t.qZA()())}let jl=(()=>{class o{constructor(e,i){this.elementRef=e,this._PS=i,this.value="",this.valueChange=new t.vpe,this.disabled=!1,this.required=!1,this.maxLength=0,this.label="",this.placeholder="",this.hidden=!1,this.enabled=!1,this.currentMeasurementLabel="",this.selectedUnit="",this.isShowUOM=!1,this.isTolerance=!1,this.unitConfig=[],this._elementRef=e}ngOnChanges(e){e?.widget&&this.widget&&this.widget.component&&((this.widget.component.isShowUOM||!1===this.widget.component.isShowUOM)&&(this.isShowUOM=this.widget.component.isShowUOM,this.currentMeasurementLabel===this.widget.component.measurement_label||(this.currentMeasurementLabel=this.widget.component.measurement_label,this.getUnit())),(this.widget.component.isTolerance||!1===this.widget.component.isTolerance)&&(this.isTolerance=this.widget.component.isTolerance))}getUnit(){this.currentMeasurementLabel&&this._PS.getAppConfigByKey(this.currentMeasurementLabel.toUpperCase()).subscribe(e=>{if(e.meta.status){let i=e.data.value.split("|").map(n=>({value:(n=n.trim()).toLowerCase(),label:n}));this.unitConfig.push(...i)}},e=>{})}changeUnit(e){this.widget&&this.widget.component&&(this.widget.component.unit=e)}updateValue(e){const i=e.target.value;this.value=i,this.valueChange.emit(i)}updateEnable(e){this.enabled=e.target.checked}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(t.SBq),t.Y36(C.M))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["custom-password"]],inputs:{value:"value",disabled:"disabled",required:"required",maxLength:"maxLength",label:"label",placeholder:"placeholder",widget:"widget",hidden:"hidden",enabled:"enabled"},outputs:{valueChange:"valueChange"},features:[t.TTD],decls:2,vars:2,consts:[["class","custom-password",4,"ngIf"],[4,"ngIf"],[1,"custom-password"],[1,"input-group"],["ref","prefix","class","input-group-text",4,"ngIf"],["type","password",1,"form-control",2,"height","fit-content",3,"ngClass","tabindex","autocomplete","placeholder","disabled","required","value","change","keyup"],["ref","suffix","class","input-group-text",4,"ngIf"],[2,"padding-top","10px"],["type","checkbox",3,"checked","change"],["ref","prefix",1,"input-group-text"],["ref","suffix",1,"input-group-text"],[1,"form-group",2,"margin-top","-20px"],[2,"text-transform","capitalize"],[1,"input-group",2,"width","130px"],["name","unit","id","unit",1,"form-control",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,n){1&i&&(t.YNc(0,Kl,8,12,"div",0),t.YNc(1,Bl,3,0,"div",1)),2&i&&(t.Q6J("ngIf","hidden"!==n._elementRef.nativeElement.getAttribute("type")),t.xp6(1),t.Q6J("ngIf",n.isTolerance))},dependencies:[d.mk,d.sg,d.O5,l.YN,l.Kr,l.EJ,l.JJ,l.On],styles:[".custom-password[_ngcontent-%COMP%]{display:flex;gap:10px}"]})}return o})();const Hl={type:"custom-password",selector:"custom-password",title:"Password",group:"custom",icon:"fa fa-asterisk bi bi-asterisk",editForm:function Rl(){const o=F.z8.components.password.editForm().components;return console.log(o),o[0].components[0].components.push({type:"checkbox",label:"Enabled",tooltip:"Enabled Input",key:"enabled",input:!0}),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components.splice(5,1),o[0].components.splice(5,1),o[0].components.push({key:"uom",label:"UOM",components:[{label:"Do you want to add UOM?",optionsLabelPosition:"right",customClass:"pl-3",inline:!0,tableView:!1,values:[{label:"Yes",value:!0,shortcut:""},{label:"No",value:!1,shortcut:""}],key:"isShowUOM",type:"radio",input:!0,defaultValue:!1},{label:"Tolerance Required",optionsLabelPosition:"right",customClass:"pl-3",inline:!0,tableView:!1,values:[{label:"Yes",value:!0,shortcut:""},{label:"No",value:!1,shortcut:""}],key:"isTolerance",type:"radio",input:!0,defaultValue:!1},{title:"Measurement",key:"measurement_label",type:"select",data:{values:Et},dataSrc:"values",label:"Measurement",input:!0,conditional:{json:{"===":[{var:"data.isShowUOM"},!0]}}}]}),{components:o}},schema:{label:"Password",enabled:!1},fieldOptions:["enabled"]},Et=[];function zl(o,a){if(1&o&&(t.TgZ(0,"option",7),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.hij(" ",e.label," ")}}function Xl(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",1)(1,"select",2),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updateValue(n))})("keyup",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updateValue(n))}),t._UZ(2,"option",3),t.YNc(3,zl,2,2,"option",4),t.qZA(),t.TgZ(4,"div")(5,"div",5)(6,"input",6),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updateEnable(n))}),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",!!e.disabled)("hidden",!!e.hidden)("name",e.name)("required",e.required),t.xp6(2),t.Q6J("ngForOf",e.values),t.xp6(3),t.Q6J("checked",e.enabled)}}let tc=(()=>{class o{constructor(e){this.elementRef=e,this.value="",this.values=[],this.input=!1,this.key="",this.valueChange=new t.vpe,this.disabled=!1,this.required=!1,this.maxLength=0,this.label="",this.placeholder="",this.hidden=!1,this.enabled=!1,this._elementRef=e}ngAfterViewInit(){}ngOnChanges(e){e?.widget&&(this.values=e?.widget.currentValue?.component?.data?.values)}changeUnit(e){this.widget&&this.widget.component&&(this.widget.component.unit=e)}updateValue(e){const i=e.target.value;this.value=i,this.valueChange.emit(i)}updateEnable(e){this.enabled=e.target.checked}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(t.SBq))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["custom-select"]],inputs:{value:"value",name:"name",type:"type",input:"input",key:"key",disabled:"disabled",required:"required",maxLength:"maxLength",label:"label",placeholder:"placeholder",widget:"widget",hidden:"hidden",enabled:"enabled"},outputs:{valueChange:"valueChange"},features:[t.TTD],decls:1,vars:1,consts:[["class","custom-text-field",4,"ngIf"],[1,"custom-text-field"],["name","","id","",1,"form-control","select",3,"disabled","hidden","name","required","change","keyup"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-check","checkbox"],["type","checkbox",1,"form-check-input",3,"checked","change"],[3,"value"]],template:function(i,n){1&i&&t.YNc(0,Xl,7,6,"div",0),2&i&&t.Q6J("ngIf","hidden"!==n._elementRef.nativeElement.getAttribute("type"))},dependencies:[d.sg,d.O5,l.YN,l.Kr],styles:[".custom-text-field[_ngcontent-%COMP%]{display:flex;gap:50px}"]})}return o})();const ec={type:"custom-select",selector:"custom-select",title:"Select",group:"custom",icon:"fa fa-th-list bi bi-menu-button-wide",editForm:function oc(){const o=F.z8.components.select.editForm().components;return o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.push({type:"checkbox",label:"Enabled",tooltip:"Enabled Input",key:"enabled",input:!0}),o[0].components.splice(5,1),o[0].components.splice(5,1),{components:o}},schema:{label:"Select",enabled:!1},fieldOptions:["enabled","label","values","key","hidden"]};function ic(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"input",10),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw(2).$implicit,s=t.oxw(2);return t.KtG(s.updateValue(n,r.value))})("keyup",function(n){t.CHM(e);const r=t.oxw(2).$implicit,s=t.oxw(2);return t.KtG(s.updateValue(n,r.value))}),t.qZA()}if(2&o){const e=t.oxw(2).$implicit,i=t.oxw(2);t.s9C("id",e.value),t.Q6J("checked",!1)("disabled",!!i.disabled)("hidden",!!i.hidden)("name",i.name)("required",i.required)}}function rc(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"input",10),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw(2).$implicit,s=t.oxw(2);return t.KtG(s.updateValue(n,r.value))})("keyup",function(n){t.CHM(e);const r=t.oxw(2).$implicit,s=t.oxw(2);return t.KtG(s.updateValue(n,r.value))}),t.qZA()}if(2&o){const e=t.oxw(2).$implicit,i=t.oxw(2);t.s9C("id",e.value),t.Q6J("checked",i.value[e.value])("disabled",!!i.disabled)("hidden",!!i.hidden)("name",i.name)("required",i.required)}}function ac(o,a){if(1&o&&(t.ynx(0),t.YNc(1,ic,1,6,"input",8),t.YNc(2,rc,1,6,"input",8),t.TgZ(3,"label",9)(4,"span"),t._uU(5),t.qZA()(),t.BQk()),2&o){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!i.value[e.value]),t.xp6(1),t.Q6J("ngIf",i.value[e.value]),t.xp6(1),t.s9C("for",e.value),t.xp6(2),t.Oqu(e.label)}}function sc(o,a){if(1&o&&(t.TgZ(0,"div",6),t.YNc(1,ac,6,4,"ng-container",7),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.value)}}function lc(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,sc,2,1,"div",3),t.qZA(),t.TgZ(3,"div")(4,"div",4)(5,"input",5),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updateEnable(n))}),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.values),t.xp6(3),t.Q6J("checked",e.enabled)}}let cc=(()=>{class o{constructor(e){this.elementRef=e,this.values=[],this.input=!1,this.key="",this.valueChange=new t.vpe,this.disabled=!1,this.required=!1,this.maxLength=0,this.label="",this.placeholder="",this.hidden=!1,this.enabled=!1,this._elementRef=e}ngOnChanges(e){}changeUnit(e){this.widget&&this.widget.component&&(this.widget.component.unit=e)}updateValue(e,i){this.value[i]=e.target.checked,this.valueChange.emit(this.value)}updateEnable(e){this.enabled=e.target.checked}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(t.SBq))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["custom-selectboxes"]],inputs:{value:"value",name:"name",values:"values",type:"type",input:"input",key:"key",disabled:"disabled",required:"required",maxLength:"maxLength",label:"label",placeholder:"placeholder",widget:"widget",hidden:"hidden",enabled:"enabled"},outputs:{valueChange:"valueChange"},features:[t.TTD],decls:1,vars:1,consts:[["class","custom-text-field",4,"ngIf"],[1,"custom-text-field"],["role","group","ref","radioGroup",1,"form-radio","radio"],["ref","wrapper","class","checkbox form-check",4,"ngFor","ngForOf"],[1,"form-check","checkbox"],["type","checkbox",1,"form-check-input",3,"checked","change"],["ref","wrapper",1,"checkbox","form-check"],[4,"ngIf"],["role","checkbox","lang","en","class","form-check-input","type","checkbox","ref","input",3,"id","checked","disabled","hidden","name","required","change","keyup",4,"ngIf"],[1,"form-check-label","label-position-right",3,"for"],["role","checkbox","lang","en","type","checkbox","ref","input",1,"form-check-input",3,"id","checked","disabled","hidden","name","required","change","keyup"]],template:function(i,n){1&i&&t.YNc(0,lc,6,2,"div",0),2&i&&t.Q6J("ngIf","hidden"!==n._elementRef.nativeElement.getAttribute("type"))},dependencies:[d.sg,d.O5],styles:[".custom-text-field[_ngcontent-%COMP%]{display:flex;gap:200px}"]})}return o})();const dc={type:"custom-selectboxes",selector:"custom-selectboxes",title:"Select Boxes",group:"custom",icon:"fa fa-plus-square bi bi-ui-checks",editForm:function uc(){const o=F.z8.components.selectboxes.editForm().components;return o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.push({type:"checkbox",label:"Enabled",tooltip:"Enabled Input",key:"enabled",input:!0}),o[0].components.splice(5,1),o[0].components.splice(5,1),{components:o}},emptyValue:{},schema:{label:"Select Boxes",enabled:!1},fieldOptions:["enabled","label","values","key","hidden"]};function gc(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",6)(1,"input",7),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw(2);return t.KtG(r.updateValue(n))})("keyup",function(n){t.CHM(e);const r=t.oxw(2);return t.KtG(r.updateValue(n))}),t.qZA(),t.TgZ(2,"label",8)(3,"span"),t._uU(4),t.qZA()()()}if(2&o){const e=a.$implicit,i=t.oxw(2);t.xp6(1),t.s9C("id",e.value),t.s9C("value",e.value),t.Q6J("disabled",!!i.disabled)("hidden",!!i.hidden)("name",i.name)("required",i.required),t.xp6(1),t.s9C("for",e.value),t.xp6(2),t.Oqu(e.label)}}function mc(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,gc,5,8,"div",3),t.qZA(),t.TgZ(3,"div")(4,"div",4)(5,"input",5),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updateEnable(n))}),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("hidden",!!e.hidden),t.xp6(1),t.Q6J("ngForOf",e.values),t.xp6(3),t.Q6J("checked",e.enabled)}}let _c=(()=>{class o{constructor(e){this.elementRef=e,this.value="",this.values=[],this.input=!1,this.key="",this.valueChange=new t.vpe,this.disabled=!1,this.required=!1,this.maxLength=0,this.label="",this.placeholder="",this.hidden=!1,this.enabled=!1,this._elementRef=e}ngOnChanges(e){}updateValue(e){const i=e.target.value;this.value=i,this.valueChange.emit(i)}updateEnable(e){this.enabled=e.target.checked}isActive(e){return this.value&&e===this.value}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(t.SBq))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["custom-radio"]],inputs:{value:"value",name:"name",values:"values",type:"type",input:"input",key:"key",disabled:"disabled",required:"required",maxLength:"maxLength",label:"label",placeholder:"placeholder",widget:"widget",hidden:"hidden",enabled:"enabled"},outputs:{valueChange:"valueChange"},features:[t.TTD],decls:1,vars:1,consts:[["class","custom-text-field",4,"ngIf"],[1,"custom-text-field"],["role","radiogroup","ref","radioGroup",1,"form-radio","radio",3,"hidden"],["ref","wrapper","class","radio form-check",4,"ngFor","ngForOf"],[1,"form-check","checkbox"],["type","checkbox",1,"form-check-input",3,"checked","change"],["ref","wrapper",1,"radio","form-check"],["role","radio","lang","en","type","radio","name","custom-radio","ref","input",1,"form-check-input",3,"id","value","disabled","hidden","name","required","change","keyup"],[1,"form-check-label",3,"for"]],template:function(i,n){1&i&&t.YNc(0,mc,6,3,"div",0),2&i&&t.Q6J("ngIf","hidden"!==n._elementRef.nativeElement.getAttribute("type"))},dependencies:[d.sg,d.O5],styles:[".custom-text-field[_ngcontent-%COMP%]{display:flex;gap:200px}"]})}return o})();const hc={type:"custom-radio",selector:"custom-radio",title:"Radio",group:"custom",icon:"fa fa-dot-circle-o bi bi-ui-radios",editForm:function fc(){const o=F.z8.components.radio.editForm().components;return o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.splice(11,1),o[0].components[0].components.push({type:"checkbox",label:"Enabled",tooltip:"Enabled Input",key:"enabled",input:!0}),o[0].components.splice(5,1),o[0].components.splice(5,1),{components:o}},schema:{label:"Radio",enabled:!1},fieldOptions:["enabled","label","values","key","hidden"]};let vc=(()=>{class o{constructor(e,i,n){this._PS=i,this._CS=n,function ml(o,a){a.getAppConfigByKey("MEASUREMENT_FORM_MODULE").subscribe(e=>{if(e.meta.status){let i=e.data.value.split("|").map(n=>({value:(n=n.trim()).toLowerCase(),label:n}));Dt.push(...i)}},e=>{}),(0,v.Ai)(ul,dl,o)}(e,i),function Pl(o,a){a.getAppConfigByKey("MEASUREMENT_FORM_MODULE").subscribe(e=>{if(e.meta.status){let i=e.data.value.split("|").map(n=>({value:(n=n.trim()).toLowerCase(),label:n}));Jt.push(...i)}},e=>{}),(0,v.Ai)(Tl,xl,o)}(e,i),function El(o,a){a.getAppConfigByKey("MEASUREMENT_FORM_MODULE").subscribe(e=>{if(e.meta.status){let i=e.data.value.split("|").map(n=>({value:(n=n.trim()).toLowerCase(),label:n}));Qt.push(...i)}},e=>{}),(0,v.Ai)(Dl,Fl,o)}(e,i),function Wl(o,a){a.getAppConfigByKey("MEASUREMENT_FORM_MODULE").subscribe(e=>{if(e.meta.status){let i=e.data.value.split("|").map(n=>({value:(n=n.trim()).toLowerCase(),label:n}));Et.push(...i)}},e=>{}),(0,v.Ai)(Hl,jl,o)}(e,i),function nc(o){(0,v.Ai)(ec,tc,o)}(e),function pc(o){(0,v.Ai)(dc,cc,o)}(e),function bc(o){(0,v.Ai)(hc,_c,o)}(e)}static#t=this.\u0275fac=function(i){return new(i||o)(t.LFG(t.zs3),t.LFG(C.M),t.LFG(S.v_))};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({providers:[C.M],imports:[d.ez,l.UX,l.u5]})}return o})(),Cc=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[ls,d.ez,v.XI,l.UX,l.u5,el,vc,x.Js,X.Rq]})}return o})()},47397:function(at){var d;at.exports=(d=function(){var D=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xa2":"cent","\xa3":"pound","\xa4":"currency","\xa5":"yen","\xa9":"(c)","\xaa":"a","\xae":"(r)","\xba":"o","\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xc6":"AE","\xc7":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xde":"TH","\xdf":"ss","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"ae","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xfe":"th","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010c":"C","\u010d":"c","\u010e":"D","\u010f":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011a":"E","\u011b":"e","\u011e":"G","\u011f":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012a":"i","\u012b":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014c":"O","\u014d":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015a":"S","\u015b":"s","\u015e":"S","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016a":"u","\u016b":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u018f":"E","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01c8":"LJ","\u01c9":"lj","\u01cb":"NJ","\u01cc":"nj","\u0218":"S","\u0219":"s","\u021a":"T","\u021b":"t","\u0259":"e","\u02da":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038a":"I","\u038c":"O","\u038e":"Y","\u038f":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039a":"K","\u039b":"L","\u039c":"M","\u039d":"N","\u039e":"3","\u039f":"O","\u03a0":"P","\u03a1":"R","\u03a3":"S","\u03a4":"T","\u03a5":"Y","\u03a6":"F","\u03a7":"X","\u03a8":"PS","\u03a9":"W","\u03aa":"I","\u03ab":"Y","\u03ac":"a","\u03ad":"e","\u03ae":"h","\u03af":"i","\u03b0":"y","\u03b1":"a","\u03b2":"b","\u03b3":"g","\u03b4":"d","\u03b5":"e","\u03b6":"z","\u03b7":"h","\u03b8":"8","\u03b9":"i","\u03ba":"k","\u03bb":"l","\u03bc":"m","\u03bd":"n","\u03be":"3","\u03bf":"o","\u03c0":"p","\u03c1":"r","\u03c2":"s","\u03c3":"s","\u03c4":"t","\u03c5":"y","\u03c6":"f","\u03c7":"x","\u03c8":"ps","\u03c9":"w","\u03ca":"i","\u03cb":"y","\u03cc":"o","\u03cd":"y","\u03ce":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040a":"NJ","\u040b":"C","\u040f":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041a":"K","\u041b":"L","\u041c":"M","\u041d":"N","\u041e":"O","\u041f":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042a":"U","\u042b":"Y","\u042c":"","\u042d":"E","\u042e":"Yu","\u042f":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044a":"u","\u044b":"y","\u044c":"","\u044d":"e","\u044e":"yu","\u044f":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045a":"nj","\u045b":"c","\u045d":"u","\u045f":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049a":"KH","\u049b":"kh","\u04a2":"NG","\u04a3":"ng","\u04ae":"UE","\u04af":"ue","\u04b0":"U","\u04b1":"u","\u04ba":"H","\u04bb":"h","\u04d8":"AE","\u04d9":"ae","\u04e8":"OE","\u04e9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E\'","\u0538":"Y\'","\u0539":"T\'","\u053a":"JH","\u053b":"I","\u053c":"L","\u053d":"X","\u053e":"C\'","\u053f":"K","\u0540":"H","\u0541":"D\'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054a":"P","\u054b":"J","\u054c":"R\'","\u054d":"S","\u054e":"V","\u054f":"T","\u0550":"R","\u0551":"C","\u0553":"P\'","\u0554":"Q\'","\u0555":"O\'\'","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062a":"t","\u062b":"th","\u062c":"j","\u062d":"h","\u062e":"kh","\u062f":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063a":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064a":"y","\u064b":"an","\u064c":"on","\u064d":"en","\u064e":"a","\u064f":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067e":"p","\u0686":"ch","\u0698":"zh","\u06a9":"k","\u06af":"g","\u06cc":"y","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u0e3f":"baht","\u10d0":"a","\u10d1":"b","\u10d2":"g","\u10d3":"d","\u10d4":"e","\u10d5":"v","\u10d6":"z","\u10d7":"t","\u10d8":"i","\u10d9":"k","\u10da":"l","\u10db":"m","\u10dc":"n","\u10dd":"o","\u10de":"p","\u10df":"zh","\u10e0":"r","\u10e1":"s","\u10e2":"t","\u10e3":"u","\u10e4":"f","\u10e5":"k","\u10e6":"gh","\u10e7":"q","\u10e8":"sh","\u10e9":"ch","\u10ea":"ts","\u10eb":"dz","\u10ec":"ts","\u10ed":"ch","\u10ee":"kh","\u10ef":"j","\u10f0":"h","\u1e62":"S","\u1e63":"s","\u1e80":"W","\u1e81":"w","\u1e82":"W","\u1e83":"w","\u1e84":"W","\u1e85":"w","\u1e9e":"SS","\u1ea0":"A","\u1ea1":"a","\u1ea2":"A","\u1ea3":"a","\u1ea4":"A","\u1ea5":"a","\u1ea6":"A","\u1ea7":"a","\u1ea8":"A","\u1ea9":"a","\u1eaa":"A","\u1eab":"a","\u1eac":"A","\u1ead":"a","\u1eae":"A","\u1eaf":"a","\u1eb0":"A","\u1eb1":"a","\u1eb2":"A","\u1eb3":"a","\u1eb4":"A","\u1eb5":"a","\u1eb6":"A","\u1eb7":"a","\u1eb8":"E","\u1eb9":"e","\u1eba":"E","\u1ebb":"e","\u1ebc":"E","\u1ebd":"e","\u1ebe":"E","\u1ebf":"e","\u1ec0":"E","\u1ec1":"e","\u1ec2":"E","\u1ec3":"e","\u1ec4":"E","\u1ec5":"e","\u1ec6":"E","\u1ec7":"e","\u1ec8":"I","\u1ec9":"i","\u1eca":"I","\u1ecb":"i","\u1ecc":"O","\u1ecd":"o","\u1ece":"O","\u1ecf":"o","\u1ed0":"O","\u1ed1":"o","\u1ed2":"O","\u1ed3":"o","\u1ed4":"O","\u1ed5":"o","\u1ed6":"O","\u1ed7":"o","\u1ed8":"O","\u1ed9":"o","\u1eda":"O","\u1edb":"o","\u1edc":"O","\u1edd":"o","\u1ede":"O","\u1edf":"o","\u1ee0":"O","\u1ee1":"o","\u1ee2":"O","\u1ee3":"o","\u1ee4":"U","\u1ee5":"u","\u1ee6":"U","\u1ee7":"u","\u1ee8":"U","\u1ee9":"u","\u1eea":"U","\u1eeb":"u","\u1eec":"U","\u1eed":"u","\u1eee":"U","\u1eef":"u","\u1ef0":"U","\u1ef1":"u","\u1ef2":"Y","\u1ef3":"y","\u1ef4":"Y","\u1ef5":"y","\u1ef6":"Y","\u1ef7":"y","\u1ef8":"Y","\u1ef9":"y","\u2013":"-","\u2018":"\'","\u2019":"\'","\u201c":"\\"","\u201d":"\\"","\u201e":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20a0":"ecu","\u20a2":"cruzeiro","\u20a3":"french franc","\u20a4":"lira","\u20a5":"mill","\u20a6":"naira","\u20a7":"peseta","\u20a8":"rupee","\u20a9":"won","\u20aa":"new shequel","\u20ab":"dong","\u20ac":"euro","\u20ad":"kip","\u20ae":"tugrik","\u20af":"drachma","\u20b0":"penny","\u20b1":"peso","\u20b2":"guarani","\u20b3":"austral","\u20b4":"hryvnia","\u20b5":"cedi","\u20b8":"kazakhstani tenge","\u20b9":"indian rupee","\u20ba":"turkish lira","\u20bd":"russian ruble","\u20bf":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221e":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\ufdfc":"rial","\ufef5":"laa","\ufef7":"laa","\ufef9":"lai","\ufefb":"la"}'),f=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042a":"A","\u042c":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044a":"a","\u044c":"y"},"de":{"\xc4":"AE","\xe4":"ae","\xd6":"OE","\xf6":"oe","\xdc":"UE","\xfc":"ue","\xdf":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221e":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xa2":"centavos","\xa3":"libras","\xa4":"moneda","\u20a3":"francos","\u2211":"suma","\u221e":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xa2":"centime","\xa3":"livre","\xa4":"devise","\u20a3":"franc","\u2211":"somme","\u221e":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xa2":"centavo","\u2211":"soma","\xa3":"libra","\u221e":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xd8":"OE","\xf8":"oe","\xc5":"AA","\xe5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xf8rre end"},"nb":{"&":"og","\xc5":"AA","\xc6":"AE","\xd8":"OE","\xe5":"aa","\xe6":"ae","\xf8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xc5":"AA","\xc4":"AE","\xd6":"OE","\xe5":"aa","\xe4":"ae","\xf6":"oe"}}');function d(v,p){if("string"!=typeof v)throw new Error("slugify: string argument expected");var l=f[(p="string"==typeof p?{replacement:p}:p||{}).locale]||{},W=void 0===p.replacement?"-":p.replacement,z=void 0===p.trim||p.trim,Z=v.normalize().split("").reduce(function(k,I){var _=l[I];return void 0===_&&(_=D[I]),void 0===_&&(_=I),_===W&&(_=" "),k+_.replace(p.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return p.strict&&(Z=Z.replace(/[^A-Za-z0-9\s]/g,"")),z&&(Z=Z.trim()),Z=Z.replace(/\s+/g,W),p.lower&&(Z=Z.toLowerCase()),Z}return d.extend=function(v){Object.assign(D,v)},d})(),at.exports.default=d()}}]);