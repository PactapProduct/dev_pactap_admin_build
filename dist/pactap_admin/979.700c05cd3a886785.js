"use strict";(self.webpackChunkpactap_admin=self.webpackChunkpactap_admin||[]).push([[979],{11979:(U,d,i)=>{i.r(d),i.d(d,{CurrencyConversionModule:()=>_});var g=i(96814),p=i(6627),C=i(69862),e=i(99468),a=i(20553);let h=(()=>{class n{constructor(t){this.http=t,this.user=JSON.parse(localStorage.getItem("currentPactapAdmin"))}getAllCurrencyConversions(t,r){return this.http.get(`${a.N.apiUrl}currency/conversion?page=${t}&contentPerPage=${r}`)}getCurrencies(t){return this.http.get(`${a.N.apiUrl}currency/list`,{params:t})}addCurrency(t){return this.http.post(`${a.N.apiUrl}currency/conversion`,t)}updateCurrency(t){return this.http.patch(`${a.N.apiUrl}currency/conversion`,t)}static#e=this.\u0275fac=function(r){return new(r||n)(e.LFG(C.eN))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var y=i(45824),c=i(56223),m=i(64686);function v(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",28),e._uU(4),e.qZA(),e.TgZ(5,"td",28),e._uU(6),e.qZA(),e.TgZ(7,"td",28),e._uU(8),e.qZA(),e.TgZ(9,"td",29)(10,"div",30)(11,"div",31)(12,"button",32),e._UZ(13,"i",33),e.qZA(),e.TgZ(14,"ul",34)(15,"li")(16,"div",35),e.NdJ("click",function(){const l=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editCurrency(l))}),e._uU(17,"Edit"),e.qZA()()()()()()()}if(2&n){const t=u.$implicit,r=u.index;e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(null==t?null:t.nativeCurrency),e.xp6(2),e.Oqu(null==t?null:t.targetCurrency),e.xp6(2),e.Oqu(null==t?null:t.targetCurrencyAmount)}}function f(n,u){if(1&n&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&n){const t=u.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.code,"")}}function b(n,u){if(1&n&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&n){const t=u.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.code,"")}}const Z=[{path:"",component:(()=>{class n{constructor(t,r){this.currencyservice=t,this.notifier=r,this.currencyList=[],this.currencies=[],this.nativeCurrency="",this.targetCurrency="",this.targetCurrencyAmount="",this.update=!1,this.page=1,this.contentPerPage=10,this.totalPage=0,this.user=JSON.parse(localStorage.getItem("currentPactapAdmin"))}ngOnInit(){this.getAllCurrencyConversions(),this.getCurrencies()}onScrollDown(t){this.page<this.totalPage&&(this.page+=1,this.getAllCurrencyConversions(!0))}getAllCurrencyConversions(t){this.currencyservice.getAllCurrencyConversions(this.page,this.contentPerPage).subscribe(r=>{r?.meta?.status?(this.totalPage=this.totalPage?this.totalPage:Math.ceil(r.total/this.contentPerPage),this.currencyList=t?[...this.currencyList,...r.data]:r.data):this.currencyList=t?this.currencyList:[]})}addQueryParams(){let t=new C.LE;return t=t.append("contentPerPage",1e5),t=t.append("page",1),t}getCurrencies(){this.currencyservice.getCurrencies(this.addQueryParams()).subscribe(t=>{console.log(t),this.currencies=t?.meta?.status?t.data:[]})}editCurrency(t){this.selectedCurrency=t,this.update=!0,this.nativeCurrency=t.nativeCurrency,this.targetCurrency=t.targetCurrency,this.targetCurrencyAmount=t.targetCurrencyAmount}addUpdateCurrency(){this.update?this.currencyservice.updateCurrency({id:this.selectedCurrency._id,targetCurrencyAmount:this.targetCurrencyAmount}).subscribe(t=>{document.getElementById("close-currency")?.click(),t?.meta?.status?(this.nativeCurrency="",this.targetCurrency="",this.targetCurrencyAmount="",this.update=!1,this.notifier.showSuccess(t?.meta.msg,""),this.getAllCurrencyConversions()):this.notifier.showWarning(t?.meta.msg,"")}):this.currencyservice.addCurrency({nativeCurrency:this.nativeCurrency,targetCurrency:this.targetCurrency,targetCurrencyAmount:this.targetCurrencyAmount}).subscribe(t=>{document.getElementById("close-currency")?.click(),t?.meta?.status?(this.nativeCurrency="",this.targetCurrency="",this.targetCurrencyAmount="",this.notifier.showSuccess(t?.meta.msg,""),this.getAllCurrencyConversions()):this.notifier.showWarning(t?.meta.msg,"")})}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(h),e.Y36(y.l))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-notifications"]],decls:62,vars:10,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between"],[1,"col-5","col-sm-3","col-md-2","col-lg-2","text-end"],["href","#","data-bs-toggle","modal","data-bs-target","#addCurrencyModal",1,"btn","btn-success","btn-block"],[1,"bi","bi-plus-lg"],[1,"account_dashboard","profile_dashboard"],[1,"login-white-box"],["infiniteScroll","",1,"table-responsive","request_sample","fix-headertbl",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["width","100%","cellspacing","0",1,"table","table-bordered"],[2,"width","10%"],[4,"ngFor","ngForOf"],["id","addCurrencyModal",1,"modal","fade"],[1,"modal-dialog","modal-lg","sample-popup-form"],[1,"modal-content"],[1,"modal-body"],[1,"form-box"],[1,"d-flex","justify-content-between","mb-3"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"row"],[1,"col-12","col-sm-6","col-md-6","col-lg-6"],[1,"form-group"],[1,"form-control","form-ctrl",3,"ngModel","ngModelChange"],["selected","","disabled","","value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Value",1,"form-control","form-ctrl",3,"ngModel","ngModelChange"],[1,"text-end","main_btn"],["id","close-currency","data-bs-dismiss","modal",1,"btn","btn-light","me-3"],[1,"btn","btn-success",3,"disabled","click"],[1,"text-success"],[1,"text-end"],[1,"right-btns-dropdown"],[1,"dropdown","ms-2"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-link","dropdown-toggle"],[1,"fa","fa-ellipsis-v"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu","dropdown-menu-white","dropdownNew"],["data-bs-toggle","modal","data-bs-target","#addCurrencyModal",1,"dropdown-item","pointer",3,"click"],[3,"value"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3,"Currency Conversion"),e.qZA(),e.TgZ(4,"div",2)(5,"a",3),e._UZ(6,"i",4),e._uU(7," Add Currency"),e.qZA()()(),e.TgZ(8,"div",5)(9,"div",6)(10,"div",7),e.NdJ("scrolled",function(s){return o.onScrollDown(s)}),e.TgZ(11,"table",8)(12,"thead")(13,"tr")(14,"th"),e._uU(15,"SN"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Native Currency"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Target Currency"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Price"),e.qZA(),e.TgZ(22,"th",9),e._uU(23,"\xa0"),e.qZA()()(),e.TgZ(24,"tbody"),e.YNc(25,v,18,4,"tr",10),e.qZA()()()()()(),e.TgZ(26,"div",11)(27,"div",12)(28,"div",13)(29,"div",14)(30,"div",15)(31,"div",16)(32,"h1"),e._uU(33,"Add Currency"),e.qZA(),e._UZ(34,"button",17),e.qZA(),e.TgZ(35,"div",18)(36,"div",19)(37,"div",20)(38,"label"),e._uU(39,"Native Currency"),e.qZA(),e.TgZ(40,"select",21),e.NdJ("ngModelChange",function(s){return o.nativeCurrency=s}),e.TgZ(41,"option",22),e._uU(42,"Select"),e.qZA(),e.YNc(43,f,2,2,"option",23),e.qZA()()(),e.TgZ(44,"div",19)(45,"div",20)(46,"label"),e._uU(47,"Target Currency"),e.qZA(),e.TgZ(48,"select",21),e.NdJ("ngModelChange",function(s){return o.targetCurrency=s}),e.TgZ(49,"option",22),e._uU(50,"Select"),e.qZA(),e.YNc(51,b,2,2,"option",23),e.qZA()()(),e.TgZ(52,"div",19)(53,"div",20)(54,"label"),e._uU(55,"Value"),e.qZA(),e.TgZ(56,"input",24),e.NdJ("ngModelChange",function(s){return o.targetCurrencyAmount=s}),e.qZA()()()(),e.TgZ(57,"div",25)(58,"button",26),e._uU(59,"Cancel"),e.qZA(),e.TgZ(60,"button",27),e.NdJ("click",function(){return o.addUpdateCurrency()}),e._uU(61,"Save"),e.qZA()()()()()()()),2&r&&(e.xp6(10),e.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("scrollWindow",!1),e.xp6(15),e.Q6J("ngForOf",o.currencyList),e.xp6(15),e.Q6J("ngModel",o.nativeCurrency),e.xp6(3),e.Q6J("ngForOf",o.currencies),e.xp6(5),e.Q6J("ngModel",o.targetCurrency),e.xp6(3),e.Q6J("ngForOf",o.currencies),e.xp6(5),e.Q6J("ngModel",o.targetCurrencyAmount),e.xp6(4),e.Q6J("disabled",!o.nativeCurrency||!o.targetCurrency||!o.targetCurrencyAmount))},dependencies:[g.sg,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On,m.Ry],styles:[".multiselect-dropdown .dropdown-btn{border:none!important}  .multiselect-dropdown .dropdown-btn .selected-item-container .selected-item{border:1px solid #3e916c!important;background:#3e916c!important;color:#fff!important}  .multiselect-item-checkbox input[type=checkbox]+div:before{color:#3e916c!important;border:2px solid #3e916c!important}  .multiselect-item-checkbox input[type=checkbox]:checked+div:before{background:#3e916c!important}"]})}return n})()}];let A=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[p.Bz.forChild(Z),p.Bz]})}return n})();var T=i(60540);let _=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({providers:[h],imports:[A,g.ez,c.u5,T.Z,m.Rq]})}return n})()}}]);