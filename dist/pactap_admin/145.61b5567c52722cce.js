"use strict";(self.webpackChunkpactap_admin=self.webpackChunkpactap_admin||[]).push([[145],{46413:(K,J,f)=>{f.d(J,{x:()=>y});var u=f(65619),m=f(20553),w=f(99468),k=f(69862);let y=(()=>{class a{constructor(l){this.http=l,this.paramSource=new u.X(""),this.currentParam=this.paramSource.asObservable(),this.dataSource=new u.X(void 0),this.currentData=this.dataSource.asObservable()}changeParam(l){this.paramSource.next(l)}changeData(l){this.dataSource.next(l)}getCountryList(){return this.http.get(`${m.N.apiUrl}location/country`)}getStateList(l,c,p){return this.http.get(`${m.N.apiUrl}location/state?page=${l}&contentPerPage=${c}&countryCode=${p}`)}getProfileRoleUser(l){return this.http.get(`${m.N.apiUrl}quickQuote/getProfileRoleUser?role=${l}`)}updateVendorSupport(l){return this.http.patch(`${m.N.apiUrl}vendor/support`,l)}uploadAttachment(l,c){return this.http.patch(`${m.N.apiUrl}vendor/attachment/${c}`,l)}deleteAttachment(l){return this.http.request("delete",`${m.N.apiUrl}vendor/attachment`,{body:l})}deleteSupport(l,c){return this.http.delete(`${m.N.apiUrl}vendor/support/${l}/${c}`)}uploadProfile(l){return this.http.post(`${m.N.apiUrl}vendor/upload/profile`,l)}getCategoryList(l,c,p,h,A){return this.http.get(`${m.N.apiUrl}category/list?type=${l}&status=${c}&searchKey=${p}&startDate=${h}&endDate=${A}`)}getFactoryList(l){return this.http.get(`${m.N.apiUrl}factory/list/${l}`)}getWarehouses(l){return this.http.get(`${m.N.apiUrl}warehouse/list/${l}`)}getVendorProductList(l){return this.http.get(`${m.N.apiUrl}vendor/product/list/${l}`)}addFactory(l){return this.http.post(`${m.N.apiUrl}factory/add`,l)}updateFactory(l,c){return this.http.put(`${m.N.apiUrl}factory/update/${l}`,c)}addMachine(l){return this.http.post(`${m.N.apiUrl}machine/add`,l)}updateMachine(l,c){return this.http.put(`${m.N.apiUrl}machine/update/${c}`,l)}addCertificate(l){return this.http.post(`${m.N.apiUrl}certification/add`,l)}updateCertificate(l,c){return this.http.put(`${m.N.apiUrl}certification/update/${c}`,l)}addWarehouse(l){return this.http.post(`${m.N.apiUrl}warehouse/add`,l)}getWarehouseDetails(l,c){return this.http.get(`${m.N.apiUrl}warehouse/details/${l}/${c}`)}updateWarehouse(l,c){return this.http.put(`${m.N.apiUrl}warehouse/update/${l}`,c)}updateAccountExport(l,c){return this.http.put(`${m.N.apiUrl}bank/account/export/${c}`,l)}addBankAccount(l,c){return this.http.post(`${m.N.apiUrl}bank/account/add/${c}`,l)}updateBankAccount(l,c,p){return this.http.put(`${m.N.apiUrl}bank/account/update/${c}/${p}`,l)}getForexBankList(l){return this.http.get(`${m.N.apiUrl}bank/account/list/${l}`)}deleteBank(l,c){return this.http.delete(`${m.N.apiUrl}bank/account/delete/${l}/${c}`)}getMachineDetails(l,c,p){return this.http.get(`${m.N.apiUrl}machine/details/${l}/${c}/${p}`)}getCertificateDetails(l,c,p){return this.http.get(`${m.N.apiUrl}certification/details/${l}/${c}/${p}`)}static#e=this.\u0275fac=function(c){return new(c||a)(w.LFG(k.eN))};static#t=this.\u0275prov=w.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},76145:(K,J,f)=>{f.r(J),f.d(J,{VendorsModule:()=>is});var u=f(96814),m=f(6627),w=f(78645),k=f(83620),y=f(93997),a=f(56223),e=f(99468),l=f(12988),c=f(45824),p=f(29917),h=f(57870),A=f(64686);function E(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",80)(2,"input",81),e.NdJ("ngModelChange",function(o){const d=e.CHM(t).$implicit;return e.KtG(d.show=o)})("change",function(o){const d=e.CHM(t).index,g=e.oxw();return e.KtG(g.hideShowCol(o,d))}),e.qZA(),e.TgZ(3,"label",82),e._uU(4),e.qZA()()()}if(2&i){const t=n.$implicit,r=n.index;e.xp6(2),e.MGl("id","col",r,""),e.Q6J("ngModel",t.show),e.xp6(1),e.MGl("for","col",r,""),e.xp6(1),e.hij(" ",t.column," ")}}function G(i,n){if(1&i&&(e.TgZ(0,"option",83),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.hij("",t.name," ")}}function B(i,n){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Tol("col"+n.index),e.xp6(1),e.Oqu(t.column)}}function R(i,n){1&i&&e._UZ(0,"img",101)}function H(i,n){1&i&&(e.ynx(0),e._uU(1," Pactap "),e.BQk())}function X(i,n){if(1&i&&(e.ynx(0),e._uU(1," Customer "),e._UZ(2,"br"),e._uU(3),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",(null==t||null==t.invitedBy?null:t.invitedBy.companyName)||"-"," ")}}function ee(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"li")(1,"a",108),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,s=e.oxw(2);return e.KtG(s.actionStatus(o,"ACTIVE"))}),e._UZ(2,"i",109),e._uU(3," Re-Approve "),e.qZA()()}}function te(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"li")(1,"a",108),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,s=e.oxw(2);return e.KtG(s.actionStatus(o,"ACTIVE"))}),e._UZ(2,"i",109),e._uU(3," Approve "),e.qZA()()}}function ie(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"li")(1,"a",108),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,s=e.oxw(2);return e.KtG(s.rejectActionStatus(o,"REJECTED"))}),e._UZ(2,"i",110),e._uU(3," Reject "),e.qZA()()}}function oe(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"li")(1,"a",108),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,s=e.oxw(2);return e.KtG(s.actionStatus(o,"SUSPENDED"))}),e._UZ(2,"i",111),e._uU(3," Suspend "),e.qZA()()}}function re(i,n){1&i&&(e.TgZ(0,"li")(1,"a",112),e._UZ(2,"i",113),e._uU(3," Delete "),e.qZA()())}function ne(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"li")(1,"a",108),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,s=e.oxw(2);return e.KtG(s.showAccountEscalateModal(o))}),e._UZ(2,"i",114),e._uU(3,"Assign Grade "),e.qZA()()}}function se(i,n){if(1&i&&(e.TgZ(0,"td",102)(1,"div",103)(2,"div",104)(3,"button",105),e._UZ(4,"i",106),e.qZA(),e.TgZ(5,"ul",107),e.YNc(6,ee,4,0,"li",92),e.YNc(7,te,4,0,"li",92),e.YNc(8,ie,4,0,"li",92),e.YNc(9,oe,4,0,"li",92),e.YNc(10,re,4,0,"li",92),e.YNc(11,ne,4,0,"li",92),e.qZA()()()()),2&i){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(6),e.Q6J("ngIf",r.vendorPermission.update&&"SUSPENDED"===t.status),e.xp6(1),e.Q6J("ngIf",r.vendorPermission.update&&"PENDING"===t.status),e.xp6(1),e.Q6J("ngIf",r.vendorPermission.update&&"PENDING"===t.status),e.xp6(1),e.Q6J("ngIf",r.vendorPermission.update&&"ACTIVE"===t.status),e.xp6(1),e.Q6J("ngIf",r.vendorPermission.delete&&("PENDING"===t.status||"REJECTED"===t.status)),e.xp6(1),e.Q6J("ngIf",r.vendorPermission.update&&("PENDING"===t.status||"ACTIVE"===t.status||"SUSPENDED"===t.status))}}const I=function(i){return{colHide:i}},ae=function(i){return["/vendors/detail",i,"products"]},de=function(i,n,t,r){return{"btn-light-success":i,"btn-primary":n,"btn-light":t,"btn-danger":r}},le=function(i){return["/vendors/detail",i]};function ce(i,n){if(1&i&&(e.TgZ(0,"tr")(1,"td",87),e.YNc(2,R,1,0,"img",88),e._uU(3),e.qZA(),e.TgZ(4,"td",89),e._uU(5),e.qZA(),e.TgZ(6,"td",90),e._uU(7),e.qZA(),e.TgZ(8,"td",91),e.YNc(9,H,2,0,"ng-container",92),e.YNc(10,X,4,1,"ng-container",92),e._UZ(11,"br"),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td",93),e._uU(15),e.qZA(),e.TgZ(16,"td",94),e._uU(17),e.qZA(),e.TgZ(18,"td",95)(19,"a",96),e._uU(20,"View More"),e.qZA()(),e.TgZ(21,"td",97)(22,"a",98),e._uU(23),e.ALo(24,"titlecase"),e.qZA()(),e.TgZ(25,"td")(26,"a",99),e._uU(27,"View"),e.qZA()(),e.YNc(28,se,12,6,"td",100),e.qZA()),2&i){const t=n.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(26,I,!r.columns[0].show)),e.xp6(1),e.Q6J("ngIf",!t.inviteBy),e.xp6(1),e.hij(" ",t.vendorId," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,I,!r.columns[1].show)),e.xp6(1),e.hij("",(null==t?null:t.companyName)||"--"," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,I,!r.columns[2].show)),e.xp6(1),e.Oqu(null==t||null==t.country?null:t.country.name),e.xp6(1),e.Q6J("ngClass",e.VKq(32,I,!r.columns[3].show)),e.xp6(1),e.Q6J("ngIf",!t.inviteBy),e.xp6(1),e.Q6J("ngIf",t.inviteBy),e.xp6(2),e.hij("On: ",e.lcZ(13,22,t.updatedAt)," "),e.xp6(2),e.Q6J("ngClass",e.VKq(34,I,!r.columns[4].show)),e.xp6(1),e.Oqu(t.email),e.xp6(1),e.Q6J("ngClass",e.VKq(36,I,!r.columns[5].show)),e.xp6(1),e.Oqu(t.websiteUrl||"-"),e.xp6(1),e.Q6J("ngClass",e.VKq(38,I,!r.columns[6].show)),e.xp6(1),e.Q6J("routerLink",e.VKq(40,ae,null==t?null:t._id)),e.xp6(2),e.Q6J("ngClass",e.VKq(42,I,!r.columns[7].show)),e.xp6(1),e.Q6J("ngClass",e.l5B(44,de,"ACTIVE"===t.status,"PENDING"===t.status,"REJECTED"===t.status||"SUSPENDED"===t.status,"DEACTIVE"===t.status)),e.xp6(1),e.hij(" ",e.lcZ(24,24,t.status),""),e.xp6(3),e.Q6J("routerLink",e.VKq(49,le,null==t?null:t._id)),e.xp6(2),e.Q6J("ngIf",r.vendorPermission.update||r.vendorPermission.delete)}}function ue(i,n){if(1&i&&(e.TgZ(0,"table",84)(1,"thead")(2,"tr"),e.YNc(3,B,2,3,"th",85),e.TgZ(4,"th"),e._uU(5,"\xa0"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"\xa0"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"\xa0"),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,ce,29,51,"tr",86),e.qZA()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.columns),e.xp6(8),e.Q6J("ngForOf",t.vendors)}}function me(i,n){1&i&&(e.TgZ(0,"div",115),e._uU(1,"No Data Found"),e.qZA())}function pe(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," First Name is required. "),e.qZA())}function ge(i,n){if(1&i&&(e.TgZ(0,"div",116),e.YNc(1,pe,2,0,"div",92),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.vendorFormControls.firstName.errors.required)}}function _e(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Last Name is required. "),e.qZA())}function fe(i,n){if(1&i&&(e.TgZ(0,"div",116),e.YNc(1,_e,2,0,"div",92),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.vendorFormControls.lastName.errors.required)}}function he(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Email is required. "),e.qZA())}function ve(i,n){if(1&i&&(e.TgZ(0,"div",116),e.YNc(1,he,2,0,"div",92),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.vendorFormControls.email.errors.required)}}function Ze(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Company Name is required. "),e.qZA())}function Ce(i,n){if(1&i&&(e.TgZ(0,"div",116),e.YNc(1,Ze,2,0,"div",92),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.vendorFormControls.companyName.errors.required)}}function qe(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Website is required. "),e.qZA())}function be(i,n){if(1&i&&(e.TgZ(0,"div",116),e.YNc(1,qe,2,0,"div",92),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.vendorFormControls.websiteUrl.errors.required)}}function ye(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Zip code is required. "),e.qZA())}function Te(i,n){if(1&i&&(e.TgZ(0,"div",116),e.YNc(1,ye,2,0,"div",92),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.vendorFormControls.zipCode.errors.required)}}function Ae(i,n){if(1&i&&(e.TgZ(0,"option",83),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function xe(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Country is required. "),e.qZA())}function Ie(i,n){if(1&i&&(e.TgZ(0,"div",117),e.YNc(1,xe,2,0,"div",92),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.vendorFormControls.countryId.errors.required)}}function Fe(i,n){if(1&i&&(e.TgZ(0,"option",83),e._UZ(1,"span",118),e._uU(2),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t.phonecode),e.xp6(2),e.AsE(" ",t.isoCode," +",t.phonecode," ")}}function Ue(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Mobile is required. "),e.qZA())}function we(i,n){if(1&i&&(e.TgZ(0,"div",116),e.YNc(1,Ue,2,0,"div",92),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.vendorFormControls.mobile.errors.required)}}function Ne(i,n){if(1&i&&(e.TgZ(0,"option",83),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.hij("",t.key," ")}}const x=function(i){return{"is-invalid":i}};function Je(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"select",119),e.NdJ("change",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.changeGrade(o,"PACTAP_VENDOR"))}),e.TgZ(1,"option",56),e._uU(2,"Select"),e.qZA(),e.YNc(3,Ne,2,2,"option",30),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(2,x,t.submitted&&t.gradeFormControls.vendorGradeId.errors)),e.xp6(3),e.Q6J("ngForOf",t.pactapGrades)}}function ke(i,n){if(1&i&&(e.TgZ(0,"option",83),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.Oqu(t.key)}}function Pe(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"select",119),e.NdJ("change",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.changeGrade(o,"OWN_VENDOR"))}),e.TgZ(1,"option",56),e._uU(2,"Select"),e.qZA(),e.YNc(3,ke,2,2,"option",30),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(2,x,t.submitted&&t.gradeFormControls.vendorGradeId.errors)),e.xp6(3),e.Q6J("ngForOf",t.ownGrades)}}function Se(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Grade is required. "),e.qZA())}function Ve(i,n){if(1&i&&(e.TgZ(0,"div",116),e.YNc(1,Se,2,0,"div",92),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.gradeFormControls.vendorGradeId.errors.required)}}const O=function(i){return{"fa-spin fa-spinner":i}};let Qe=(()=>{class i{constructor(t,r,o,s,d){this._VS=t,this._FB=r,this._notifier=o,this.ngxLoaderService=s,this._US=d,this.vendors=[],this.status="",this.searchKey="",this.countryId="",this.modelChanged=new w.x,this.pactapGrades=[],this.ownGrades=[],this.submitted=!1,this.submittedVendor=!1,this.isLoading=!1,this.isLoadingAddVendor=!1,this.columns=[{column:"Vendor ID",show:!0},{column:"Vendor Company Name",show:!0},{column:"Country",show:!0},{column:"Onboarded by",show:!0},{column:"Email ID",show:!0},{column:"Website",show:!0},{column:"Products",show:!0},{column:"Status",show:!0}],this.permissionsArr=[],this.vendorPermission={read:!1,add:!1,update:!1,delete:!1},this.page=1,this.contentPerPage=10,this.onboardedBy="",this.totalPage=0,this.countries=[]}ngOnInit(){this._US.getPermissions().subscribe(t=>{this.permissionsArr=t,Object.keys(this.vendorPermission).map(r=>{this.canPerformAction("Vendor Listing",r)})}),this.getVendorGrades(),this.getCountryList(),this.initVendorForm(),this.initGradeForm(),this.modelChanged.pipe((0,k.b)(500),(0,y.x)()).subscribe(t=>{this.searchKey=t,this.getVendorList()}),this.getVendorList()}initVendorForm(){this.vendorForm=this._FB.group({firstName:["",a.kI.required],lastName:["",a.kI.required],email:["",a.kI.required],companyName:["",a.kI.required],websiteUrl:["",a.kI.required],zipCode:["",a.kI.required],mobile:["",a.kI.required],countryCode:["",a.kI.required],countryId:["",a.kI.required]})}get vendorFormControls(){return this.vendorForm.controls}initGradeForm(){this.gradeForm=this._FB.group({grade:["",a.kI.required],vendorGradeId:["",a.kI.required]})}get gradeFormControls(){return this.gradeForm.controls}onScrollDown(t){this.page<this.totalPage&&(this.page+=1,this.getVendorList(!0))}getVendorList(t){this.ngxLoaderService.start(),this._VS.getVendorList(this.status,this.searchKey,this.countryId,this.onboardedBy,this.page,this.contentPerPage).subscribe(r=>{this.ngxLoaderService.stop(),r.meta.status?(this.totalPage=this.totalPage?this.totalPage:Math.ceil(r.metadata[0].total/this.contentPerPage),this.vendors=t?[...this.vendors,...r.data]:r.data):this.vendors=t?this.vendors:[]},r=>{this.ngxLoaderService.stop()})}getCountryList(){this._VS.getCountryList().subscribe(t=>{t.meta.status?this.countries=t.data:(this.countries=[],this._notifier.showWarning(t.meta.msg,""))})}changed(t){this.modelChanged.next(t)}changeStatus(t){this.getVendorList()}hideShowCol(t,r){r?t.target.checked?$(`.col${r}`).removeClass("colHide"):$(`.col${r}`).addClass("colHide"):(this.columns[r].show=!0,$(`#col${r}`).prop("checked",!0))}showVendorModal(){$("#addVendorModal").modal("show"),$("#addVendorModal").on("hidden.bs.modal",t=>{this.submittedVendor=!1})}addVendor(){this.vendorForm.valid?(this.isLoadingAddVendor=!0,this._VS.addVendor(this.vendorForm.value).subscribe(t=>{this.isLoadingAddVendor=!1,t.meta.status?(this.getVendorList(),$("#addVendorModal").modal("hide"),$("#CongrulationsModal").modal("show"),this._notifier.showSuccess(t.meta.msg,"Success")):this._notifier.showWarning(t.meta.msg,"")},t=>{this.isLoadingAddVendor=!1})):this.submittedVendor=!0}getVendorGrades(){this._VS.getVendorGrades().subscribe(t=>{t.meta.status?(this.pactapGrades=t.data.filter(r=>"PACTAP_VENDOR"===r.marginAutomationFor),this.ownGrades=t.data.filter(r=>"OWN_VENDOR"===r.marginAutomationFor)):(this.pactapGrades=[],this.ownGrades=[])},t=>{this._notifier.showError("Something went wrong","Error")})}changeGrade(t,r){if(t.target.value){let o="PACTAP_VENDOR"===r?this.pactapGrades.find(s=>s._id===t.target.value):this.ownGrades.find(s=>s._id===t.target.value);this.gradeForm.get("grade")?.setValue(o.value)}}showAccountEscalateModal(t){this.vendorId=t._id,this.selectedVendor=t,t.vendorGradeId&&this.gradeForm.patchValue(t),$("#assignGradeModal").modal("show"),$("#assignGradeModal").on("hidden.bs.modal",r=>{this.vendorId="",this.selectedVendor=void 0,this.gradeForm.reset({vendorGradeId:""})})}hideAccountEscalateModal(){$("#assignGradeModal").modal("hide")}assignedGrade(){if(this.gradeForm.valid&&this.vendorId){let t={...this.gradeForm.value,vendorId:this.vendorId};this.isLoading=!0,this._VS.updateGrade(t).subscribe(r=>{this.isLoading=!1,r.meta.status?(this.getVendorList(),this.hideAccountEscalateModal(),this._notifier.showSuccess(r.meta.msg,"Success")):this._notifier.showWarning(r.meta.msg,"")},r=>{this._notifier.showError("Something Went Wrong","Error"),this.isLoading=!1})}else this.submitted=!0}changeStatusVendor(t){if(t.grade){let r={vendorId:t._id,status:"ACTIVE"===t.status?"DEACTIVE":"ACTIVE"};this.isLoading=!0,this._VS.changeStatus(r).subscribe(o=>{this.isLoading=!1,o.meta.status?(this.getVendorList(),this._notifier.showSuccess(o.meta.msg,"Success")):this._notifier.showWarning(o.meta.msg,"")},o=>{this._notifier.showError("Something Went Wrong","Error"),this.isLoading=!1})}else this._notifier.showWarning("Assign grade first to activate the account","")}actionStatus(t,r){if(!t.grade&&!t.inviteBy)return void this._notifier.showWarning("Assign grade first to activate the account","");let o={vendorId:t._id,status:r};this.isLoading=!0,this._VS.changeStatus(o).subscribe(s=>{this.isLoading=!1,s.meta.status?(this.getVendorList(),this._notifier.showSuccess(s.meta.msg,"Success")):this._notifier.showWarning(s.meta.msg,"")},s=>{this._notifier.showError("Something Went Wrong","Error"),this.isLoading=!1})}rejectActionStatus(t,r){let o={vendorId:t._id,status:r};this.isLoading=!0,this._VS.changeStatus(o).subscribe(s=>{this.isLoading=!1,s.meta.status?(this.getVendorList(),this._notifier.showSuccess(s.meta.msg,"Success")):this._notifier.showWarning(s.meta.msg,"")},s=>{this._notifier.showError("Something Went Wrong","Error"),this.isLoading=!1})}canPerformAction(t,r){this.vendorPermission[r]=this._US.hasPermission(t,r,this.permissionsArr)}countryChange(t){let r=this.countries?.find(o=>o._id===t.target.value);this.vendorForm.get("countryCode")?.setValue(r.phonecode)}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(l.m),e.Y36(a.qu),e.Y36(c.l),e.Y36(p.LA),e.Y36(h.KD))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-vendors"]],decls:173,vars:55,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between"],[1,"export_button","column-btns"],[1,"rightColumnDrop"],[1,"dropdown","inline-flex"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside",1,"btn","btn-white","dropdown-toggle"],["src","assets/images/column-icon.png"],["aria-labelledby","dropdownMenuButton1","checked","",1,"dropdown-menu","form-filter-drop"],[1,"form-box","form-filter"],["class","form-group",4,"ngFor","ngForOf"],[1,"account_dashboard","profile_dashboard"],[1,"login-white-box"],[1,"row","justify-content-between","listFilter"],[1,"col-12","col-sm-8","col-md-10","col-lg-10"],[1,"row"],[1,"col-6","col-md-3","col-sm-6","col-lg-3"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","Search","aria-label","Search","aria-describedby","basic-addon2","name","searchKey",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","searchBtn"],[1,"fa","fa-search"],["name","status",1,"form-control",3,"ngModel","ngModelChange"],["value","","hidden",""],["value","ACTIVE"],["value","PENDING"],["value","REJECTED"],["value","DELETE"],["value","SUSPENDED"],["name","country",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control",3,"ngModel","ngModelChange"],["value","OWN"],["value","PACTAP"],[1,"col-12","col-sm-4","col-md-2","col-lg-2","text-end"],["href","javascript:void(0)",1,"btn","btn-success","btn-block",3,"click"],[1,"bi","bi-plus-lg"],["infiniteScroll","",1,"table-responsive","request_sample","fix-headertbl",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["class","table table-bordered","width","100%","cellspacing","0",4,"ngIf"],["style","text-align: center;padding: 140px;",4,"ngIf"],["id","addVendorModal",1,"modal","fade"],[1,"modal-dialog","modal-lg","sample-popup-form"],[1,"modal-content"],[1,"modal-body"],[1,"form-box",3,"formGroup"],[1,"d-flex","justify-content-between","mb-3"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"col-12","col-sm-12","col-md-6","col-lg-6"],["type","text","placeholder","First Name","formControlName","firstName",1,"form-control","form-ctrl",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Last Name","formControlName","lastName",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Email ID","formControlName","email",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Company Name","formControlName","companyName",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Website","formControlName","websiteUrl",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Zip Code","formControlName","zipCode",1,"form-control","form-ctrl",3,"ngClass"],["formControlName","countryId",1,"form-control","form-ctrl",3,"change"],["value",""],["style","display: block;","class","invalid-feedback",4,"ngIf"],[1,"col-5","col-sm-4","col-md-4","col-lg-4","pe-0"],["formControlName","countryCode",1,"form-control","form-ctrl"],[1,"col-7","col-sm-8","col-md-8","col-lg-8"],["type","text","placeholder","000-000-0000","formControlName","mobile",1,"form-control","form-ctrl",3,"ngClass"],[1,"text-end","main_btn","mt-3"],["href","javascript:void(0)","data-bs-dismiss","modal",1,"btn","btn-light","me-3"],[1,"btn","btn-success",3,"disabled","click"],[1,"fa",3,"ngClass"],["id","CongrulationsModal",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","feedback-popup"],[1,"congrulations","text-center"],[1,"congrulations-img"],["src","assets/images/objects.png"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 130.2 130.2"],["fill","none","stroke","#fff","stroke-width","0","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#fff","stroke-width","10","stroke-linecap","round","stroke-miterlimit","10","points","100.2,40.2 51.5,88.8 29.8,67.5 ",1,"path","check"],["id","assignGradeModal",1,"modal","fade"],[1,"modal-dialog","sample-popup-form"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],["class","form-control form-ctrl","formControlName","vendorGradeId",3,"ngClass","change",4,"ngIf"],["href","#","data-bs-dismiss","modal",1,"btn","btn-light","me-3"],[1,"form-check"],["type","checkbox","name","columnName",1,"form-check-input",3,"id","ngModel","ngModelChange","change"],[1,"form-check-label",3,"for"],[3,"value"],["width","100%","cellspacing","0",1,"table","table-bordered"],[3,"class",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"col0",3,"ngClass"],["class","me-2","style","width:20px;height:20px;","src","assets/images/checkmark-circle-2.png",4,"ngIf"],[1,"col1",3,"ngClass"],[1,"col2",3,"ngClass"],[1,"col3",3,"ngClass"],[4,"ngIf"],[1,"col4",3,"ngClass"],[1,"col5",3,"ngClass"],[1,"col6",3,"ngClass"],[1,"viewText","mr-1",3,"routerLink"],[1,"col7","status",3,"ngClass"],["href","javascript:void(0)",1,"btn","underline-none",3,"ngClass"],["href","javascript:void(0)",1,"viewText","mr-1",3,"routerLink"],["class","text-end",4,"ngIf"],["src","assets/images/checkmark-circle-2.png",1,"me-2",2,"width","20px","height","20px"],[1,"text-end"],[1,"right-btns-dropdown"],[1,"dropdown","ms-2"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-link","dropdown-toggle"],[1,"fa","fa-ellipsis-v"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu","dropdown-menu-white","dropdownNew"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],[1,"bi","bi-check-lg"],[1,"bi","bi-x"],[1,"bi","bi-person-slash"],["href","javascript:void(0)",1,"dropdown-item"],[1,"fa","fa-trash-o"],[1,"fa","fa-percent"],[2,"text-align","center","padding","140px"],[1,"invalid-feedback"],[1,"invalid-feedback",2,"display","block"],[1,"fi","fi-in"],["formControlName","vendorGradeId",1,"form-control","form-ctrl",3,"ngClass","change"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3,"Vendors"),e.qZA(),e.TgZ(4,"span",2)(5,"div",3)(6,"span",4)(7,"button",5),e._UZ(8,"img",6),e._uU(9," Manage Column "),e.qZA(),e.TgZ(10,"div",7)(11,"div",8),e.YNc(12,E,5,4,"div",9),e.qZA()()()()()(),e.TgZ(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"div",17)(21,"input",18),e.NdJ("ngModelChange",function(d){return o.searchKey=d})("ngModelChange",function(d){return o.changed(d)}),e.qZA(),e.TgZ(22,"div",19)(23,"button",20),e._UZ(24,"i",21),e.qZA()()()()(),e.TgZ(25,"div",15)(26,"div",16)(27,"select",22),e.NdJ("ngModelChange",function(d){return o.status=d})("ngModelChange",function(d){return o.changeStatus(d)}),e.TgZ(28,"option",23),e._uU(29,"Status"),e.qZA(),e.TgZ(30,"option",24),e._uU(31,"Active"),e.qZA(),e.TgZ(32,"option",25),e._uU(33,"Pending"),e.qZA(),e.TgZ(34,"option",26),e._uU(35,"Rejected"),e.qZA(),e.TgZ(36,"option",27),e._uU(37,"Deleted"),e.qZA(),e.TgZ(38,"option",28),e._uU(39,"Suspended"),e.qZA()()()(),e.TgZ(40,"div",15)(41,"div",16)(42,"select",29),e.NdJ("ngModelChange",function(d){return o.countryId=d})("ngModelChange",function(d){return o.changeStatus(d)}),e.TgZ(43,"option",23),e._uU(44,"Country"),e.qZA(),e.YNc(45,G,2,2,"option",30),e.qZA()()(),e.TgZ(46,"div",15)(47,"div",16)(48,"select",31),e.NdJ("ngModelChange",function(d){return o.onboardedBy=d})("ngModelChange",function(){return o.getVendorList()}),e.TgZ(49,"option",23),e._uU(50,"Onboarded by"),e.qZA(),e.TgZ(51,"option",32),e._uU(52,"Customer"),e.qZA(),e.TgZ(53,"option",33),e._uU(54,"Pactap"),e.qZA()()()()()(),e.TgZ(55,"div",34)(56,"a",35),e.NdJ("click",function(){return o.showVendorModal()}),e._UZ(57,"i",36),e._uU(58," Add Vendor "),e.qZA()()(),e.TgZ(59,"div",37),e.NdJ("scrolled",function(d){return o.onScrollDown(d)}),e.YNc(60,ue,12,2,"table",38),e.YNc(61,me,2,0,"div",39),e.qZA()()()(),e.TgZ(62,"div",40)(63,"div",41)(64,"div",42)(65,"div",43)(66,"div",44)(67,"div",45)(68,"h1"),e._uU(69,"Vendor"),e.qZA(),e._UZ(70,"button",46),e.qZA(),e.TgZ(71,"div",14)(72,"div",47)(73,"div",16)(74,"label"),e._uU(75,"First Name"),e.qZA(),e._UZ(76,"input",48),e.YNc(77,ge,2,1,"div",49),e.qZA()(),e.TgZ(78,"div",47)(79,"div",16)(80,"label"),e._uU(81,"Last Name"),e.qZA(),e._UZ(82,"input",50),e.YNc(83,fe,2,1,"div",49),e.qZA()(),e.TgZ(84,"div",47)(85,"div",16)(86,"label"),e._uU(87,"Company Email ID"),e.qZA(),e._UZ(88,"input",51),e.YNc(89,ve,2,1,"div",49),e.qZA()(),e.TgZ(90,"div",47)(91,"div",16)(92,"label"),e._uU(93,"Company Name"),e.qZA(),e._UZ(94,"input",52),e.YNc(95,Ce,2,1,"div",49),e.qZA()(),e.TgZ(96,"div",47)(97,"div",16)(98,"label"),e._uU(99,"Website"),e.qZA(),e._UZ(100,"input",53),e.YNc(101,be,2,1,"div",49),e.qZA()(),e.TgZ(102,"div",47)(103,"div",16)(104,"label"),e._uU(105,"Zip Code"),e.qZA(),e._UZ(106,"input",54),e.YNc(107,Te,2,1,"div",49),e.qZA()(),e.TgZ(108,"div",47)(109,"div",16)(110,"label"),e._uU(111,"Country"),e.qZA(),e.TgZ(112,"select",55),e.NdJ("change",function(d){return o.countryChange(d)}),e.TgZ(113,"option",56),e._uU(114,"Select Country"),e.qZA(),e.YNc(115,Ae,2,2,"option",30),e.qZA(),e.YNc(116,Ie,2,1,"div",57),e.qZA()(),e.TgZ(117,"div",47)(118,"div",16)(119,"label"),e._uU(120,"Contact Number*"),e.qZA(),e.TgZ(121,"div",14)(122,"div",58)(123,"div",16)(124,"select",59),e.YNc(125,Fe,3,3,"option",30),e.qZA()()(),e.TgZ(126,"div",60)(127,"div",16),e._UZ(128,"input",61),e.YNc(129,we,2,1,"div",49),e.qZA()()()()()(),e.TgZ(130,"div",62)(131,"a",63),e._uU(132,"Cancel"),e.qZA(),e.TgZ(133,"button",64),e.NdJ("click",function(){return o.addVendor()}),e._UZ(134,"i",65),e._uU(135," Add"),e.qZA()()()()()()(),e.TgZ(136,"div",66)(137,"div",67)(138,"div",68)(139,"div",43)(140,"div",69)(141,"div",70),e._UZ(142,"img",71),e.O4$(),e.TgZ(143,"svg",72),e._UZ(144,"circle",73)(145,"polyline",74),e.qZA()(),e.kcU(),e.TgZ(146,"h3"),e._uU(147,"Vendor Added"),e.qZA(),e.TgZ(148,"p"),e._uU(149,"You have successfully added the vendor. "),e.qZA()()()()()(),e.TgZ(150,"div",75)(151,"div",76)(152,"div",42)(153,"div",43)(154,"div",44)(155,"div",45)(156,"h1"),e._uU(157,"Assign Grade"),e.qZA(),e._UZ(158,"button",46),e.qZA(),e.TgZ(159,"div",14)(160,"div",77)(161,"div",16)(162,"label"),e._uU(163,"Select Grade"),e.qZA(),e.YNc(164,Je,4,4,"select",78),e.YNc(165,Pe,4,4,"select",78),e.YNc(166,Ve,2,1,"div",49),e.qZA()()(),e.TgZ(167,"div",62)(168,"a",79),e._uU(169,"Cancel"),e.qZA(),e.TgZ(170,"button",64),e.NdJ("click",function(){return o.assignedGrade()}),e._UZ(171,"i",65),e._uU(172," Submit"),e.qZA()()()()()()()),2&r&&(e.xp6(12),e.Q6J("ngForOf",o.columns),e.xp6(9),e.Q6J("ngModel",o.searchKey),e.xp6(6),e.Q6J("ngModel",o.status),e.xp6(15),e.Q6J("ngModel",o.countryId),e.xp6(3),e.Q6J("ngForOf",o.countries),e.xp6(3),e.Q6J("ngModel",o.onboardedBy),e.xp6(11),e.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("scrollWindow",!1),e.xp6(1),e.Q6J("ngIf",o.vendors.length),e.xp6(1),e.Q6J("ngIf",!o.vendors.length),e.xp6(5),e.Q6J("formGroup",o.vendorForm),e.xp6(10),e.Q6J("ngClass",e.VKq(37,x,o.submittedVendor&&o.vendorFormControls.firstName.errors)),e.xp6(1),e.Q6J("ngIf",o.submittedVendor&&o.vendorFormControls.firstName.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(39,x,o.submittedVendor&&o.vendorFormControls.lastName.errors)),e.xp6(1),e.Q6J("ngIf",o.submittedVendor&&o.vendorFormControls.lastName.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(41,x,o.submittedVendor&&o.vendorFormControls.email.errors)),e.xp6(1),e.Q6J("ngIf",o.submittedVendor&&o.vendorFormControls.email.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(43,x,o.submittedVendor&&o.vendorFormControls.companyName.errors)),e.xp6(1),e.Q6J("ngIf",o.submittedVendor&&o.vendorFormControls.companyName.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(45,x,o.submittedVendor&&o.vendorFormControls.websiteUrl.errors)),e.xp6(1),e.Q6J("ngIf",o.submittedVendor&&o.vendorFormControls.websiteUrl.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(47,x,o.submittedVendor&&o.vendorFormControls.zipCode.errors)),e.xp6(1),e.Q6J("ngIf",o.submittedVendor&&o.vendorFormControls.zipCode.errors),e.xp6(8),e.Q6J("ngForOf",o.countries),e.xp6(1),e.Q6J("ngIf",o.submittedVendor&&o.vendorFormControls.countryId.errors),e.xp6(9),e.Q6J("ngForOf",o.countries),e.xp6(3),e.Q6J("ngClass",e.VKq(49,x,o.submittedVendor&&o.vendorFormControls.mobile.errors)),e.xp6(1),e.Q6J("ngIf",o.submittedVendor&&o.vendorFormControls.mobile.errors),e.xp6(4),e.Q6J("disabled",o.isLoadingAddVendor),e.xp6(1),e.Q6J("ngClass",e.VKq(51,O,o.isLoadingAddVendor)),e.xp6(20),e.Q6J("formGroup",o.gradeForm),e.xp6(10),e.Q6J("ngIf",!(null!=o.selectedVendor&&o.selectedVendor.inviteBy)),e.xp6(1),e.Q6J("ngIf",null==o.selectedVendor?null:o.selectedVendor.inviteBy),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.gradeFormControls.vendorGradeId.errors),e.xp6(4),e.Q6J("disabled",o.isLoading),e.xp6(1),e.Q6J("ngClass",e.VKq(53,O,o.isLoading)))},dependencies:[u.mk,u.sg,u.O5,m.rH,a.YN,a.Kr,a.Fj,a.Wl,a.EJ,a.JJ,a.JL,a.sg,a.u,a.On,A.Ry,u.rS,u.uU],styles:[".status[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{background-color:#73af72;border-color:#73af72}.sample-request1[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{border-radius:25px}.colHide[_ngcontent-%COMP%]{display:none}"]})}return i})(),Ee=(()=>{class i{static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-sample-request-details"]],decls:237,vars:0,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between"],[1,"d-flex"],["href","javascript:history.back()"],[1,"bi","bi-arrow-left-short","me-4"],["href","#",1,"text-primary","text-underline"],[1,"bg-white","white-well"],[1,"quotations-script","greennewbg"],[1,"mb-0","text-white"],[1,"db-2-main-com-table"],[1,"table-responsive","fix-headertbl"],["id","results",1,"table","vendorRequesttbl"],[1,"theader"],[1,"table_header","checkboxLeft"],[1,"form-check","greencheck"],["type","checkbox","value","","checked","","id","invalidCheck","required","",1,"form-check-input"],[1,"table_header"],[1,"table_header","width30","text-center"],[1,"table_header","text-center"],[1,"table_row"],[1,"table_small","checkboxLeft"],[1,"table_cell"],[1,"table_small"],[1,"pro-img-table","d-flex","align-items-center"],["src","assets/images/product-img0.png","alt","",1,"rounded","me-3"],[1,"table_cell","text-center"],[1,"text-success","fa","fa-info-circle"],[1,"inventoryBadge"],["title","Information",1,"bi","bi-info-circle-fill"],[1,"form-expand"],["data-bs-toggle","collapse","href","#collapseExpand","role","button","aria-expanded","false","aria-controls","collapseExample",1,"btn","btn-link"],[1,"fa","fa-angle-down","ms-1"],["id","collapseExpand",1,"Expandcollapse_table_row","trsummary","collapse"],[1,"white-well","b-radius-t0","mb-0"],[1,"summary","text-start","form-box"],[1,"form-group"],["type","text","placeholder","Specification Details will be displayed here submitted from admin side",1,"form-control","form-ctrl"],[1,"form-box","mt-5"],[1,"page-header"],[1,"fw500"],[1,"row"],[1,"col-6","col-sm-6","col-md-4","col-lg-4"],[1,"form-control","form-ctrl"],[1,"col-12","col-sm-12","col-md-6","col-lg-6"],[1,"form-group","mt-3"],[1,"form-check","form-check-inline","radioBlue"],["type","radio","name","request","checked","","value","","id","invalidCheck","required","",1,"form-check-input"],["data-bs-toggle","collapse","data-bs-target","#sampleRequest",1,"form-check","form-check-inline","radioBlue","ms-4"],["type","radio","name","request","value","",1,"form-check-input"],["id","sampleRequest",1,"col-12","col-sm-12","col-md-6","col-lg-6","collapse"],["type","radio","name","logistics","checked","","value","","id","invalidCheck","required","",1,"form-check-input"],[1,"form-check","form-check-inline","radioBlue","ms-4"],["type","radio","checked","","name","logistics","value","",1,"form-check-input"],[1,"text-end","main_btn","mt-4"],["href","#CongrulationsModal","data-bs-toggle","modal","data-bs-dismiss","modal",1,"btn","btn-success"],["id","CongrulationsModal",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","feedback-popup"],[1,"modal-body"],[1,"congrulations","text-center"],[1,"congrulations-img"],["src","assets/images/objects.png"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 130.2 130.2"],["fill","none","stroke","#fff","stroke-width","0","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#fff","stroke-width","10","stroke-linecap","round","stroke-miterlimit","10","points","100.2,40.2 51.5,88.8 29.8,67.5 ",1,"path","check"],[1,"fw600"],["href","vendors.php",1,"btn","btn-success","mt-3"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"a",3),e._UZ(4,"i",4),e.qZA(),e.TgZ(5,"span"),e._uU(6,"Sample Request"),e._UZ(7,"br"),e.TgZ(8,"small"),e._uU(9,"For: SOIC PVT LTD "),e.TgZ(10,"a",5),e._uU(11,"(ID:35456)"),e.qZA()()()()(),e.TgZ(12,"div",6)(13,"div",7)(14,"h4",8),e._uU(15,"Sample Request Details:"),e.qZA()(),e.TgZ(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13)(21,"div",14),e._UZ(22,"input",15),e.qZA()(),e.TgZ(23,"div",16),e._uU(24,"Product Details"),e.qZA(),e.TgZ(25,"div",17),e._uU(26,"Sample Requested"),e.qZA(),e.TgZ(27,"div",18),e._uU(28,"Sample Value"),e.qZA(),e._UZ(29,"div",16),e.qZA(),e.TgZ(30,"div",19)(31,"div",20)(32,"div",21),e._uU(33,"\xa0"),e.qZA(),e.TgZ(34,"div",21)(35,"div",14),e._UZ(36,"input",15),e.qZA()()(),e.TgZ(37,"div",22)(38,"div",21),e._uU(39,"Product Details"),e.qZA(),e.TgZ(40,"div",21)(41,"div",23),e._UZ(42,"img",24),e.TgZ(43,"div"),e._uU(44,"Bagasse Plate "),e.qZA()()()(),e.TgZ(45,"div",22)(46,"div",21),e._uU(47,"Sample Requested"),e.qZA(),e.TgZ(48,"div",25),e._uU(49," 10 UOM "),e.qZA()(),e.TgZ(50,"div",22)(51,"div",21),e._uU(52,"Sample Value "),e._UZ(53,"span",26),e.qZA(),e.TgZ(54,"div",25),e._uU(55,"$ 23.00 "),e.TgZ(56,"span",27),e._UZ(57,"i",28),e.qZA()()(),e.TgZ(58,"div",22),e._UZ(59,"div",21),e.TgZ(60,"div",21)(61,"div",29)(62,"a",30),e._uU(63,"Add Details "),e._UZ(64,"i",31),e.qZA()()()()(),e.TgZ(65,"div",32)(66,"div",33)(67,"div",34)(68,"div",35)(69,"label"),e._uU(70,"Specification Details"),e.qZA(),e._UZ(71,"textarea",36),e.qZA()()()(),e.TgZ(72,"div",19)(73,"div",20)(74,"div",21),e._uU(75,"\xa0"),e.qZA(),e.TgZ(76,"div",21)(77,"div",14),e._UZ(78,"input",15),e.qZA()()(),e.TgZ(79,"div",22)(80,"div",21),e._uU(81,"Product Details"),e.qZA(),e.TgZ(82,"div",21)(83,"div",23),e._UZ(84,"img",24),e.TgZ(85,"div"),e._uU(86,"Bagasse Plate "),e.qZA()()()(),e.TgZ(87,"div",22)(88,"div",21),e._uU(89,"Sample Requested"),e.qZA(),e.TgZ(90,"div",25),e._uU(91," 10 UOM "),e.qZA()(),e.TgZ(92,"div",22)(93,"div",21),e._uU(94,"Sample Value "),e._UZ(95,"span",26),e.qZA(),e.TgZ(96,"div",25),e._uU(97,"$ 23.00 "),e.TgZ(98,"span",27),e._UZ(99,"i",28),e.qZA()()(),e.TgZ(100,"div",22),e._UZ(101,"div",21),e.TgZ(102,"div",21)(103,"div",29)(104,"a",30),e._uU(105,"Add Details "),e._UZ(106,"i",31),e.qZA()()()()(),e.TgZ(107,"div",19)(108,"div",20)(109,"div",21),e._uU(110,"\xa0"),e.qZA(),e.TgZ(111,"div",21)(112,"div",14),e._UZ(113,"input",15),e.qZA()()(),e.TgZ(114,"div",22)(115,"div",21),e._uU(116,"Product Details"),e.qZA(),e.TgZ(117,"div",21)(118,"div",23),e._UZ(119,"img",24),e.TgZ(120,"div"),e._uU(121,"Bagasse Plate "),e.qZA()()()(),e.TgZ(122,"div",22)(123,"div",21),e._uU(124,"Sample Requested"),e.qZA(),e.TgZ(125,"div",25),e._uU(126," 10 UOM "),e.qZA()(),e.TgZ(127,"div",22)(128,"div",21),e._uU(129,"Sample Value "),e._UZ(130,"span",26),e.qZA(),e.TgZ(131,"div",25),e._uU(132,"$ 23.00 "),e.TgZ(133,"span",27),e._UZ(134,"i",28),e.qZA()()(),e.TgZ(135,"div",22),e._UZ(136,"div",21),e.TgZ(137,"div",21)(138,"div",29)(139,"a",30),e._uU(140,"Add Details "),e._UZ(141,"i",31),e.qZA()()()()(),e.TgZ(142,"div",19)(143,"div",20)(144,"div",21),e._uU(145,"\xa0"),e.qZA(),e.TgZ(146,"div",21)(147,"div",14),e._UZ(148,"input",15),e.qZA()()(),e.TgZ(149,"div",22)(150,"div",21),e._uU(151,"Product Details"),e.qZA(),e.TgZ(152,"div",21)(153,"div",23),e._UZ(154,"img",24),e.TgZ(155,"div"),e._uU(156,"Bagasse Plate "),e.qZA()()()(),e.TgZ(157,"div",22)(158,"div",21),e._uU(159,"Sample Requested"),e.qZA(),e.TgZ(160,"div",25),e._uU(161," 10 UOM "),e.qZA()(),e.TgZ(162,"div",22)(163,"div",21),e._uU(164,"Sample Value "),e._UZ(165,"span",26),e.qZA(),e.TgZ(166,"div",25),e._uU(167,"$ 23.00 "),e.TgZ(168,"span",27),e._UZ(169,"i",28),e.qZA()()(),e.TgZ(170,"div",22),e._UZ(171,"div",21),e.TgZ(172,"div",21)(173,"div",29)(174,"a",30),e._uU(175,"Add Details "),e._UZ(176,"i",31),e.qZA()()()()()()()(),e.TgZ(177,"div",37)(178,"div",38)(179,"h4",39),e._uU(180,"Addresses"),e.qZA()(),e.TgZ(181,"div",40)(182,"div",41)(183,"div",35)(184,"label"),e._uU(185,"Pactap\u2019s Shipping Address"),e.qZA(),e.TgZ(186,"select",42)(187,"option"),e._uU(188,"Select Address"),e.qZA()()()(),e.TgZ(189,"div",41)(190,"div",35)(191,"label"),e._uU(192,"Pactap\u2019s Billing Address"),e.qZA(),e.TgZ(193,"select",42)(194,"option"),e._uU(195,"Select Address"),e.qZA()()()(),e.TgZ(196,"div",43)(197,"div",35)(198,"label"),e._uU(199,"Do you want Vendor to bill you for this sample request?"),e.qZA(),e.TgZ(200,"div",44)(201,"div",45),e._UZ(202,"input",46),e._uU(203," Yes "),e.qZA(),e.TgZ(204,"div",47)(205,"label"),e._UZ(206,"input",48),e._uU(207," No "),e.qZA()()()()(),e.TgZ(208,"div",49)(209,"div",35)(210,"label"),e._uU(211,"Do you want Vendor to bill you for Logistics of this sample request?"),e.qZA(),e.TgZ(212,"div",44)(213,"div",45),e._UZ(214,"input",50),e._uU(215," Yes "),e.qZA(),e.TgZ(216,"div",51)(217,"label"),e._UZ(218,"input",52),e._uU(219," No "),e.qZA()()()()()()()(),e.TgZ(220,"div",53)(221,"a",54),e._uU(222,"Submit"),e.qZA()()(),e.TgZ(223,"div",55)(224,"div",56)(225,"div",57)(226,"div",58)(227,"div",59)(228,"div",60),e._UZ(229,"img",61),e.O4$(),e.TgZ(230,"svg",62),e._UZ(231,"circle",63)(232,"polyline",64),e.qZA()(),e.kcU(),e.TgZ(233,"h3",65),e._uU(234,"Sample Request Successfully Placed"),e.qZA(),e.TgZ(235,"a",66),e._uU(236,"Back to Vendor"),e.qZA()()()()()())},dependencies:[a.YN,a.Kr]})}return i})(),Le=(()=>{class i{static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-sample-request"]],decls:237,vars:0,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between"],[1,"d-flex"],["href","javascript:history.back()"],[1,"bi","bi-arrow-left-short","me-4"],["href","#",1,"text-primary","text-underline"],[1,"bg-white","white-well"],[1,"quotations-script","greennewbg"],[1,"mb-0","text-white"],[1,"db-2-main-com-table"],[1,"table-responsive","fix-headertbl"],["id","results",1,"table","vendorRequesttbl"],[1,"theader"],[1,"table_header","checkboxLeft"],[1,"form-check","greencheck"],["type","checkbox","value","","checked","","id","invalidCheck","required","",1,"form-check-input"],[1,"table_header"],[1,"table_header","width30","text-center"],[1,"table_header","text-center"],[1,"table_row"],[1,"table_small","checkboxLeft"],[1,"table_cell"],[1,"table_small"],[1,"pro-img-table","d-flex","align-items-center"],["src","assets/images/product-img0.png","alt","",1,"rounded","me-3"],[1,"table_cell","text-center"],[1,"text-success","fa","fa-info-circle"],[1,"inventoryBadge"],["title","Information",1,"bi","bi-info-circle-fill"],[1,"form-expand"],["data-bs-toggle","collapse","href","#collapseExpand","role","button","aria-expanded","false","aria-controls","collapseExample",1,"btn","btn-link"],[1,"fa","fa-angle-down","ms-1"],["id","collapseExpand",1,"Expandcollapse_table_row","trsummary","collapse"],[1,"white-well","b-radius-t0","mb-0"],[1,"summary","text-start","form-box"],[1,"form-group"],["type","text","placeholder","Specification Details will be displayed here submitted from admin side",1,"form-control","form-ctrl"],[1,"form-box","mt-5"],[1,"page-header"],[1,"fw500"],[1,"row"],[1,"col-6","col-sm-6","col-md-4","col-lg-4"],[1,"form-control","form-ctrl"],[1,"col-12","col-sm-12","col-md-6","col-lg-6"],[1,"form-group","mt-3"],[1,"form-check","form-check-inline","radioBlue"],["type","radio","name","request","checked","","value","","id","invalidCheck","required","",1,"form-check-input"],["data-bs-toggle","collapse","data-bs-target","#sampleRequest",1,"form-check","form-check-inline","radioBlue","ms-4"],["type","radio","name","request","value","",1,"form-check-input"],["id","sampleRequest",1,"col-12","col-sm-12","col-md-6","col-lg-6","collapse"],["type","radio","name","logistics","checked","","value","","id","invalidCheck","required","",1,"form-check-input"],[1,"form-check","form-check-inline","radioBlue","ms-4"],["type","radio","checked","","name","logistics","value","",1,"form-check-input"],[1,"text-end","main_btn","mt-4"],["href","#CongrulationsModal","data-bs-toggle","modal","data-bs-dismiss","modal",1,"btn","btn-success"],["id","CongrulationsModal",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","feedback-popup"],[1,"modal-body"],[1,"congrulations","text-center"],[1,"congrulations-img"],["src","assets/images/objects.png"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 130.2 130.2"],["fill","none","stroke","#fff","stroke-width","0","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#fff","stroke-width","10","stroke-linecap","round","stroke-miterlimit","10","points","100.2,40.2 51.5,88.8 29.8,67.5 ",1,"path","check"],[1,"fw600"],["href","vendors.php",1,"btn","btn-success","mt-3"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"a",3),e._UZ(4,"i",4),e.qZA(),e.TgZ(5,"span"),e._uU(6,"Sample Request"),e._UZ(7,"br"),e.TgZ(8,"small"),e._uU(9,"For: SOIC PVT LTD "),e.TgZ(10,"a",5),e._uU(11,"(ID:35456)"),e.qZA()()()()(),e.TgZ(12,"div",6)(13,"div",7)(14,"h4",8),e._uU(15,"Sample Request Details:"),e.qZA()(),e.TgZ(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13)(21,"div",14),e._UZ(22,"input",15),e.qZA()(),e.TgZ(23,"div",16),e._uU(24,"Product Details"),e.qZA(),e.TgZ(25,"div",17),e._uU(26,"Sample Requested"),e.qZA(),e.TgZ(27,"div",18),e._uU(28,"Sample Value"),e.qZA(),e._UZ(29,"div",16),e.qZA(),e.TgZ(30,"div",19)(31,"div",20)(32,"div",21),e._uU(33,"\xa0"),e.qZA(),e.TgZ(34,"div",21)(35,"div",14),e._UZ(36,"input",15),e.qZA()()(),e.TgZ(37,"div",22)(38,"div",21),e._uU(39,"Product Details"),e.qZA(),e.TgZ(40,"div",21)(41,"div",23),e._UZ(42,"img",24),e.TgZ(43,"div"),e._uU(44,"Bagasse Plate "),e.qZA()()()(),e.TgZ(45,"div",22)(46,"div",21),e._uU(47,"Sample Requested"),e.qZA(),e.TgZ(48,"div",25),e._uU(49," 10 UOM "),e.qZA()(),e.TgZ(50,"div",22)(51,"div",21),e._uU(52,"Sample Value "),e._UZ(53,"span",26),e.qZA(),e.TgZ(54,"div",25),e._uU(55,"$ 23.00 "),e.TgZ(56,"span",27),e._UZ(57,"i",28),e.qZA()()(),e.TgZ(58,"div",22),e._UZ(59,"div",21),e.TgZ(60,"div",21)(61,"div",29)(62,"a",30),e._uU(63,"Add Details "),e._UZ(64,"i",31),e.qZA()()()()(),e.TgZ(65,"div",32)(66,"div",33)(67,"div",34)(68,"div",35)(69,"label"),e._uU(70,"Specification Details"),e.qZA(),e._UZ(71,"textarea",36),e.qZA()()()(),e.TgZ(72,"div",19)(73,"div",20)(74,"div",21),e._uU(75,"\xa0"),e.qZA(),e.TgZ(76,"div",21)(77,"div",14),e._UZ(78,"input",15),e.qZA()()(),e.TgZ(79,"div",22)(80,"div",21),e._uU(81,"Product Details"),e.qZA(),e.TgZ(82,"div",21)(83,"div",23),e._UZ(84,"img",24),e.TgZ(85,"div"),e._uU(86,"Bagasse Plate "),e.qZA()()()(),e.TgZ(87,"div",22)(88,"div",21),e._uU(89,"Sample Requested"),e.qZA(),e.TgZ(90,"div",25),e._uU(91," 10 UOM "),e.qZA()(),e.TgZ(92,"div",22)(93,"div",21),e._uU(94,"Sample Value "),e._UZ(95,"span",26),e.qZA(),e.TgZ(96,"div",25),e._uU(97,"$ 23.00 "),e.TgZ(98,"span",27),e._UZ(99,"i",28),e.qZA()()(),e.TgZ(100,"div",22),e._UZ(101,"div",21),e.TgZ(102,"div",21)(103,"div",29)(104,"a",30),e._uU(105,"Add Details "),e._UZ(106,"i",31),e.qZA()()()()(),e.TgZ(107,"div",19)(108,"div",20)(109,"div",21),e._uU(110,"\xa0"),e.qZA(),e.TgZ(111,"div",21)(112,"div",14),e._UZ(113,"input",15),e.qZA()()(),e.TgZ(114,"div",22)(115,"div",21),e._uU(116,"Product Details"),e.qZA(),e.TgZ(117,"div",21)(118,"div",23),e._UZ(119,"img",24),e.TgZ(120,"div"),e._uU(121,"Bagasse Plate "),e.qZA()()()(),e.TgZ(122,"div",22)(123,"div",21),e._uU(124,"Sample Requested"),e.qZA(),e.TgZ(125,"div",25),e._uU(126," 10 UOM "),e.qZA()(),e.TgZ(127,"div",22)(128,"div",21),e._uU(129,"Sample Value "),e._UZ(130,"span",26),e.qZA(),e.TgZ(131,"div",25),e._uU(132,"$ 23.00 "),e.TgZ(133,"span",27),e._UZ(134,"i",28),e.qZA()()(),e.TgZ(135,"div",22),e._UZ(136,"div",21),e.TgZ(137,"div",21)(138,"div",29)(139,"a",30),e._uU(140,"Add Details "),e._UZ(141,"i",31),e.qZA()()()()(),e.TgZ(142,"div",19)(143,"div",20)(144,"div",21),e._uU(145,"\xa0"),e.qZA(),e.TgZ(146,"div",21)(147,"div",14),e._UZ(148,"input",15),e.qZA()()(),e.TgZ(149,"div",22)(150,"div",21),e._uU(151,"Product Details"),e.qZA(),e.TgZ(152,"div",21)(153,"div",23),e._UZ(154,"img",24),e.TgZ(155,"div"),e._uU(156,"Bagasse Plate "),e.qZA()()()(),e.TgZ(157,"div",22)(158,"div",21),e._uU(159,"Sample Requested"),e.qZA(),e.TgZ(160,"div",25),e._uU(161," 10 UOM "),e.qZA()(),e.TgZ(162,"div",22)(163,"div",21),e._uU(164,"Sample Value "),e._UZ(165,"span",26),e.qZA(),e.TgZ(166,"div",25),e._uU(167,"$ 23.00 "),e.TgZ(168,"span",27),e._UZ(169,"i",28),e.qZA()()(),e.TgZ(170,"div",22),e._UZ(171,"div",21),e.TgZ(172,"div",21)(173,"div",29)(174,"a",30),e._uU(175,"Add Details "),e._UZ(176,"i",31),e.qZA()()()()()()()(),e.TgZ(177,"div",37)(178,"div",38)(179,"h4",39),e._uU(180,"Addresses"),e.qZA()(),e.TgZ(181,"div",40)(182,"div",41)(183,"div",35)(184,"label"),e._uU(185,"Pactap\u2019s Shipping Address"),e.qZA(),e.TgZ(186,"select",42)(187,"option"),e._uU(188,"Select Address"),e.qZA()()()(),e.TgZ(189,"div",41)(190,"div",35)(191,"label"),e._uU(192,"Pactap\u2019s Billing Address"),e.qZA(),e.TgZ(193,"select",42)(194,"option"),e._uU(195,"Select Address"),e.qZA()()()(),e.TgZ(196,"div",43)(197,"div",35)(198,"label"),e._uU(199,"Do you want Vendor to bill you for this sample request?"),e.qZA(),e.TgZ(200,"div",44)(201,"div",45),e._UZ(202,"input",46),e._uU(203," Yes "),e.qZA(),e.TgZ(204,"div",47)(205,"label"),e._UZ(206,"input",48),e._uU(207," No "),e.qZA()()()()(),e.TgZ(208,"div",49)(209,"div",35)(210,"label"),e._uU(211,"Do you want Vendor to bill you for Logistics of this sample request?"),e.qZA(),e.TgZ(212,"div",44)(213,"div",45),e._UZ(214,"input",50),e._uU(215," Yes "),e.qZA(),e.TgZ(216,"div",51)(217,"label"),e._UZ(218,"input",52),e._uU(219," No "),e.qZA()()()()()()()(),e.TgZ(220,"div",53)(221,"a",54),e._uU(222,"Submit"),e.qZA()()(),e.TgZ(223,"div",55)(224,"div",56)(225,"div",57)(226,"div",58)(227,"div",59)(228,"div",60),e._UZ(229,"img",61),e.O4$(),e.TgZ(230,"svg",62),e._UZ(231,"circle",63)(232,"polyline",64),e.qZA()(),e.kcU(),e.TgZ(233,"h3",65),e._uU(234,"Sample Request Successfully Placed"),e.qZA(),e.TgZ(235,"a",66),e._uU(236,"Back to Vendor"),e.qZA()()()()()())},dependencies:[a.YN,a.Kr]})}return i})();function Ye(i,n){if(1&i&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.hij("",t.name," ")}}function De(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",57)(1,"a",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showVendorModal())}),e._UZ(2,"i",59),e._uU(3," Invite Vendor"),e.qZA()()}}function Me(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"a",65),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.reInviteVendor(o))}),e._uU(2," Re Invite "),e.qZA()()}}function We(i,n){if(1&i&&(e.TgZ(0,"tr")(1,"td",62),e._uU(2),e.qZA(),e.TgZ(3,"td",62),e._uU(4),e.qZA(),e.TgZ(5,"td",63),e._uU(6),e.qZA(),e.TgZ(7,"td",63),e._uU(8),e.qZA(),e.YNc(9,Me,3,0,"td",64),e.qZA()),2&i){const t=n.$implicit,r=e.oxw(2);e.xp6(2),e.Oqu(t.customerName),e.xp6(2),e.Oqu(t.companyName||"--"),e.xp6(2),e.Oqu(t.inviteDate),e.xp6(2),e.Oqu(t.status),e.xp6(1),e.Q6J("ngIf",r.vendorPermission.update)}}function $e(i,n){if(1&i&&(e.TgZ(0,"table",60)(1,"thead")(2,"tr")(3,"th"),e._uU(4,"Vendor Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Company Name"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Invite Date"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Status"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\xa0"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,We,10,5,"tr",61),e.qZA()()),2&i){const t=e.oxw();e.xp6(14),e.Q6J("ngForOf",t.vendors)}}function Ke(i,n){1&i&&(e.TgZ(0,"div",66),e._uU(1,"No Data Found"),e.qZA())}function Oe(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," First Name is required. "),e.qZA())}function ze(i,n){if(1&i&&(e.TgZ(0,"div",67),e.YNc(1,Oe,2,0,"div",64),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.vendorFormControls.firstName.errors.required)}}function je(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Last Name is required. "),e.qZA())}function Ge(i,n){if(1&i&&(e.TgZ(0,"div",67),e.YNc(1,je,2,0,"div",64),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.vendorFormControls.lastName.errors.required)}}function Be(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Email is required. "),e.qZA())}function Re(i,n){if(1&i&&(e.TgZ(0,"div",67),e.YNc(1,Be,2,0,"div",64),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.vendorFormControls.email.errors.required)}}function He(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Company Name is required. "),e.qZA())}function Xe(i,n){if(1&i&&(e.TgZ(0,"div",67),e.YNc(1,He,2,0,"div",64),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.vendorFormControls.companyName.errors.required)}}function et(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Website is required. "),e.qZA())}function tt(i,n){if(1&i&&(e.TgZ(0,"div",67),e.YNc(1,et,2,0,"div",64),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.vendorFormControls.website.errors.required)}}function it(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Zip code is required. "),e.qZA())}function ot(i,n){if(1&i&&(e.TgZ(0,"div",67),e.YNc(1,it,2,0,"div",64),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.vendorFormControls.zipCode.errors.required)}}function rt(i,n){if(1&i&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function nt(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Country is required. "),e.qZA())}function st(i,n){if(1&i&&(e.TgZ(0,"div",68),e.YNc(1,nt,2,0,"div",64),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.vendorFormControls.countryId.errors.required)}}function at(i,n){if(1&i&&(e.TgZ(0,"option",56),e._UZ(1,"span",69),e._uU(2),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t.phonecode),e.xp6(2),e.AsE(" ",t.isoCode," +",t.phonecode," ")}}function dt(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Mobile is required. "),e.qZA())}function lt(i,n){if(1&i&&(e.TgZ(0,"div",67),e.YNc(1,dt,2,0,"div",64),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.vendorFormControls.mobile.errors.required)}}const N=function(i){return{"is-invalid":i}};let ct=(()=>{class i{constructor(t,r,o,s,d){this._VS=t,this._FB=r,this._notifier=o,this.ngxLoaderService=s,this._US=d,this.vendors=[],this.status="",this.searchKey="",this.countryId="",this.modelChanged=new w.x,this.submitted=!1,this.permissionsArr=[],this.vendorPermission={read:!1,add:!1,update:!1,delete:!1},this.page=1,this.contentPerPage=10,this.totalPage=0,this.countries=[]}ngOnInit(){this._US.getPermissions().subscribe(t=>{this.permissionsArr=t,Object.keys(this.vendorPermission).map(r=>{this.canPerformAction("Invite vendor",r)})}),this.getCountryList(),this.initVendorForm(),this.modelChanged.pipe((0,k.b)(500),(0,y.x)()).subscribe(t=>{this.searchKey=t,this.getVendorList()}),this.getVendorList()}initVendorForm(){this.vendorForm=this._FB.group({firstName:["",a.kI.required],lastName:["",a.kI.required],email:["",a.kI.required],companyName:["",a.kI.required],website:["",a.kI.required],zipCode:["",a.kI.required],mobile:["",a.kI.required],countryCode:["",a.kI.required],countryId:["",a.kI.required]})}get vendorFormControls(){return this.vendorForm.controls}onScrollDown(t){this.page<this.totalPage&&(this.page+=1,this.getVendorList(!0))}getVendorList(t){this.ngxLoaderService.start(),this._VS.getInvitedCustomerList(this.status,this.searchKey,this.countryId,this.page,this.contentPerPage).subscribe(r=>{this.ngxLoaderService.stop(),r.meta.status?(this.totalPage=this.totalPage?this.totalPage:Math.ceil(r.total/this.contentPerPage),this.vendors=t?[...this.vendors,...r.data]:r.data):this.vendors=t?this.vendors:[]},r=>{this.ngxLoaderService.stop()})}getCountryList(){this._VS.getCountryList().subscribe(t=>{t.meta.status?this.countries=t.data:(this.countries=[],this._notifier.showWarning(t.meta.msg,""))})}changed(t){this.modelChanged.next(t)}changeStatus(t){this.getVendorList()}hideShowCol(t,r){t.target.checked?$(`.col${r}`).removeClass("colHide"):$(`.col${r}`).addClass("colHide")}showVendorModal(){$("#addVendorModal").modal("show"),$("#addVendorModal").on("hidden.bs.modal",t=>{this.submitted=!1,this.vendorForm.reset({countryCode:this.countries[0].phonecode})})}addVendor(){this.vendorForm.valid?this._VS.inviteVendor(this.vendorForm.value).subscribe(t=>{t.meta.status?(this.getVendorList(),$("#addVendorModal").modal("hide"),$("#CongrulationsModal").modal("show"),this._notifier.showSuccess(t.meta.msg,"Success")):this._notifier.showWarning(t.meta.msg,"")}):this.submitted=!0}reInviteVendor(t){this._VS.reInviteVendor(t._id).subscribe(r=>{r.meta.status?this._notifier.showSuccess(r.meta.msg,"Success"):this._notifier.showWarning(r.meta.msg,"")},r=>{this._notifier.showError("Something Went Wrong","Error")})}canPerformAction(t,r){this.vendorPermission[r]=this._US.hasPermission(t,r,this.permissionsArr)}countryChange(t){let r=this.countries?.find(o=>o._id===t.target.value);this.vendorForm.get("countryCode")?.setValue(r.phonecode)}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(l.m),e.Y36(a.qu),e.Y36(c.l),e.Y36(p.LA),e.Y36(h.KD))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-invite-listing"]],decls:115,vars:41,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between"],[1,"account_dashboard","profile_dashboard"],[1,"login-white-box"],[1,"row","justify-content-between","listFilter"],[1,"col-12","col-sm-8","col-md-10","col-lg-10"],[1,"row"],[1,"col-6","col-md-3","col-sm-6","col-lg-3"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","Search","aria-label","Search","aria-describedby","basic-addon2","name","searchKey",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","searchBtn"],[1,"fa","fa-search"],[1,"col-6","col-md-2","col-sm-6","col-lg-3"],["name","country",1,"form-control",3,"ngModel","ngModelChange"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["class","col-12 col-sm-4 col-md-2 col-lg-2 text-end",4,"ngIf"],["infiniteScroll","",1,"table-responsive","request_sample","fix-headertbl",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["class","table table-bordered","width","100%","cellspacing","0",4,"ngIf"],["style","text-align: center;padding: 140px;",4,"ngIf"],["id","addVendorModal",1,"modal","fade"],[1,"modal-dialog","modal-lg","sample-popup-form"],[1,"modal-content"],[1,"modal-body"],[1,"form-box",3,"formGroup"],[1,"d-flex","justify-content-between","mb-3"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"col-12","col-sm-12","col-md-6","col-lg-6"],["type","text","placeholder","First Name","formControlName","firstName",1,"form-control","form-ctrl",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Last Name","formControlName","lastName",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Email ID","formControlName","email",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Company Name","formControlName","companyName",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Website","formControlName","website",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Zip Code","formControlName","zipCode",1,"form-control","form-ctrl",3,"ngClass"],["formControlName","countryId",1,"form-control","form-ctrl",3,"change"],["value",""],["style","display: block;","class","invalid-feedback",4,"ngIf"],[1,"col-5","col-sm-4","col-md-4","col-lg-4","pe-0"],["formControlName","countryCode",1,"form-control","form-ctrl"],[1,"col-7","col-sm-8","col-md-8","col-lg-8"],["type","text","placeholder","Contact Number","formControlName","mobile",1,"form-control","form-ctrl",3,"ngClass"],[1,"text-end","main_btn","mt-3"],["href","javascript:void(0)","data-bs-dismiss","modal",1,"btn","btn-light","me-3"],["href","javascript:void(0)",1,"btn","btn-success",3,"click"],["id","CongrulationsModal",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","feedback-popup"],[1,"congrulations","text-center"],[1,"congrulations-img"],["src","assets/images/objects.png"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 130.2 130.2"],["fill","none","stroke","#fff","stroke-width","0","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#fff","stroke-width","10","stroke-linecap","round","stroke-miterlimit","10","points","100.2,40.2 51.5,88.8 29.8,67.5 ",1,"path","check"],[3,"value"],[1,"col-12","col-sm-4","col-md-2","col-lg-2","text-end"],["href","javascript:void(0)",1,"btn","btn-success","btn-block",3,"click"],[1,"bi","bi-plus-lg"],["width","100%","cellspacing","0",1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"col1"],[1,"col3"],[4,"ngIf"],["href","javascript:void(0)",1,"viewText","mr-1",3,"click"],[2,"text-align","center","padding","140px"],[1,"invalid-feedback"],[1,"invalid-feedback",2,"display","block"],[1,"fi","fi-in"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3,"Invite Vendor"),e.qZA()(),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"input",10),e.NdJ("ngModelChange",function(d){return o.searchKey=d})("ngModelChange",function(d){return o.changed(d)}),e.qZA(),e.TgZ(13,"div",11)(14,"button",12),e._UZ(15,"i",13),e.qZA()()()()(),e.TgZ(16,"div",14)(17,"div",8)(18,"select",15),e.NdJ("ngModelChange",function(d){return o.countryId=d})("ngModelChange",function(d){return o.changeStatus(d)}),e.TgZ(19,"option",16),e._uU(20,"Country"),e.qZA(),e.YNc(21,Ye,2,2,"option",17),e.qZA()()()()(),e.YNc(22,De,4,0,"div",18),e.qZA(),e.TgZ(23,"div",19),e.NdJ("scrolled",function(d){return o.onScrollDown(d)}),e.YNc(24,$e,15,1,"table",20),e.YNc(25,Ke,2,0,"div",21),e.qZA()()()(),e.TgZ(26,"div",22)(27,"div",23)(28,"div",24)(29,"div",25)(30,"div",26)(31,"div",27)(32,"h1"),e._uU(33,"Add Vendor"),e.qZA(),e._UZ(34,"button",28),e.qZA(),e.TgZ(35,"div",6)(36,"div",29)(37,"div",8)(38,"label"),e._uU(39,"First Name"),e.qZA(),e._UZ(40,"input",30),e.YNc(41,ze,2,1,"div",31),e.qZA()(),e.TgZ(42,"div",29)(43,"div",8)(44,"label"),e._uU(45,"Last Name"),e.qZA(),e._UZ(46,"input",32),e.YNc(47,Ge,2,1,"div",31),e.qZA()(),e.TgZ(48,"div",29)(49,"div",8)(50,"label"),e._uU(51,"Company Email ID"),e.qZA(),e._UZ(52,"input",33),e.YNc(53,Re,2,1,"div",31),e.qZA()(),e.TgZ(54,"div",29)(55,"div",8)(56,"label"),e._uU(57,"Company Name"),e.qZA(),e._UZ(58,"input",34),e.YNc(59,Xe,2,1,"div",31),e.qZA()(),e.TgZ(60,"div",29)(61,"div",8)(62,"label"),e._uU(63,"Website"),e.qZA(),e._UZ(64,"input",35),e.YNc(65,tt,2,1,"div",31),e.qZA()(),e.TgZ(66,"div",29)(67,"div",8)(68,"label"),e._uU(69,"Zip Code"),e.qZA(),e._UZ(70,"input",36),e.YNc(71,ot,2,1,"div",31),e.qZA()(),e.TgZ(72,"div",29)(73,"div",8)(74,"label"),e._uU(75,"Country"),e.qZA(),e.TgZ(76,"select",37),e.NdJ("change",function(d){return o.countryChange(d)}),e.TgZ(77,"option",38),e._uU(78,"Select Country"),e.qZA(),e.YNc(79,rt,2,2,"option",17),e.qZA(),e.YNc(80,st,2,1,"div",39),e.qZA()(),e.TgZ(81,"div",29)(82,"div",8)(83,"label"),e._uU(84,"Contact Number*"),e.qZA(),e.TgZ(85,"div",6)(86,"div",40)(87,"div",8)(88,"select",41),e.YNc(89,at,3,3,"option",17),e.qZA()()(),e.TgZ(90,"div",42)(91,"div",8),e._UZ(92,"input",43),e.YNc(93,lt,2,1,"div",31),e.qZA()()()()()(),e.TgZ(94,"div",44)(95,"a",45),e._uU(96,"Cancel"),e.qZA(),e.TgZ(97,"a",46),e.NdJ("click",function(){return o.addVendor()}),e._uU(98,"Invite"),e.qZA()()()()()()(),e.TgZ(99,"div",47)(100,"div",48)(101,"div",49)(102,"div",25)(103,"div",50)(104,"div",51),e._UZ(105,"img",52),e.O4$(),e.TgZ(106,"svg",53),e._UZ(107,"circle",54)(108,"polyline",55),e.qZA()(),e.kcU(),e.TgZ(109,"h3"),e._uU(110,"Invited Successfully"),e.qZA(),e.TgZ(111,"p"),e._uU(112,"The invitation has been sent successfully "),e._UZ(113,"br"),e._uU(114,"to vendor."),e.qZA()()()()()()),2&r&&(e.xp6(12),e.Q6J("ngModel",o.searchKey),e.xp6(6),e.Q6J("ngModel",o.countryId),e.xp6(3),e.Q6J("ngForOf",o.countries),e.xp6(1),e.Q6J("ngIf",o.vendorPermission.add),e.xp6(1),e.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("scrollWindow",!1),e.xp6(1),e.Q6J("ngIf",o.vendors.length),e.xp6(1),e.Q6J("ngIf",!o.vendors.length),e.xp6(5),e.Q6J("formGroup",o.vendorForm),e.xp6(10),e.Q6J("ngClass",e.VKq(27,N,o.submitted&&o.vendorFormControls.firstName.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.vendorFormControls.firstName.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(29,N,o.submitted&&o.vendorFormControls.lastName.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.vendorFormControls.lastName.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(31,N,o.submitted&&o.vendorFormControls.email.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.vendorFormControls.email.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(33,N,o.submitted&&o.vendorFormControls.companyName.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.vendorFormControls.companyName.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(35,N,o.submitted&&o.vendorFormControls.website.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.vendorFormControls.website.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(37,N,o.submitted&&o.vendorFormControls.zipCode.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.vendorFormControls.zipCode.errors),e.xp6(8),e.Q6J("ngForOf",o.countries),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.vendorFormControls.countryId.errors),e.xp6(9),e.Q6J("ngForOf",o.countries),e.xp6(3),e.Q6J("ngClass",e.VKq(39,N,o.submitted&&o.vendorFormControls.mobile.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.vendorFormControls.mobile.errors))},dependencies:[u.mk,u.sg,u.O5,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,a.On,A.Ry]})}return i})();var F=f(19631);const ut=function(){return["/vendors/sample-request-detail"]};let mt=(()=>{class i{static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-sample-request-vendor"]],decls:100,vars:2,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between"],[1,"d-flex"],["href","javascript:history.back()"],[1,"bi","bi-arrow-left-short","me-4"],["href","#",1,"text-primary","text-underline"],[1,"bg-white","white-well"],[1,"quotations-script","greennewbg"],[1,"mb-0","text-white"],[1,"d-flex","flex-wrap","text-center","list-inline","ulfive-row","m-0","sampleRVendor"],[1,"form-check","greencheck"],["type","checkbox","value","","checked","","id","invalidCheck","required","",1,"form-check-input"],[1,"add-product-item"],[1,"product-icon"],["src","assets/images/product-icon0.png","alt",""],["type","checkbox","value","","id","invalidCheck","required","",1,"form-check-input"],["src","assets/images/product-icon1.png","alt",""],["src","assets/images/product-icon2.png","alt",""],["src","assets/images/product-icon3.png","alt",""],["src","assets/images/product-icon4.png","alt",""],["src","assets/images/product-icon5.png","alt",""],["src","assets/images/product-icon6.png","alt",""],["src","assets/images/product-icon7.png","alt",""],["src","assets/images/product-icon8.png","alt",""],["src","assets/images/product-icon10.png","alt",""],[1,"text-end","main_btn","mt-4"],["href","javascript:void(0)",1,"btn","btn-success",3,"routerLink"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"a",3),e._UZ(4,"i",4),e.qZA(),e.TgZ(5,"span"),e._uU(6,"Sample Request"),e._UZ(7,"br"),e.TgZ(8,"small"),e._uU(9,"For: SOIC PVT LTD "),e.TgZ(10,"a",5),e._uU(11,"(ID:35456)"),e.qZA()()()()(),e.TgZ(12,"div",6)(13,"div",7)(14,"h4",8),e._uU(15,"Select Product:"),e.qZA()(),e.TgZ(16,"ul",9)(17,"li")(18,"div",10),e._UZ(19,"input",11),e.qZA(),e.TgZ(20,"div",12)(21,"div",13),e._UZ(22,"img",14),e.qZA(),e.TgZ(23,"h5"),e._uU(24,"Bagasse Plates"),e.qZA()()(),e.TgZ(25,"li")(26,"div",10),e._UZ(27,"input",15),e.qZA(),e.TgZ(28,"div",12)(29,"div",13),e._UZ(30,"img",16),e.qZA(),e.TgZ(31,"h5"),e._uU(32,"Laminated Rolls"),e.qZA()()(),e.TgZ(33,"li")(34,"div",10),e._UZ(35,"input",15),e.qZA(),e.TgZ(36,"div",12)(37,"div",13),e._UZ(38,"img",17),e.qZA(),e.TgZ(39,"h5"),e._uU(40,"Pillow Pouches"),e.qZA()()(),e.TgZ(41,"li")(42,"div",10),e._UZ(43,"input",15),e.qZA(),e.TgZ(44,"div",12)(45,"div",13),e._UZ(46,"img",18),e.qZA(),e.TgZ(47,"h5"),e._uU(48,"Non Padded Paper mailers"),e.qZA()()(),e.TgZ(49,"li")(50,"div",10),e._UZ(51,"input",15),e.qZA(),e.TgZ(52,"div",12)(53,"div",13),e._UZ(54,"img",19),e.qZA(),e.TgZ(55,"h5"),e._uU(56,"Padded Paper Mailers"),e.qZA()()(),e.TgZ(57,"li")(58,"div",10),e._UZ(59,"input",15),e.qZA(),e.TgZ(60,"div",12)(61,"div",13),e._UZ(62,"img",20),e.qZA(),e.TgZ(63,"h5"),e._uU(64,"Plastic Containers"),e.qZA()()(),e.TgZ(65,"li")(66,"div",10),e._UZ(67,"input",15),e.qZA(),e.TgZ(68,"div",12)(69,"div",13),e._UZ(70,"img",21),e.qZA(),e.TgZ(71,"h5"),e._uU(72,"Merchandise Paper Bags"),e.qZA()()(),e.TgZ(73,"li")(74,"div",10),e._UZ(75,"input",15),e.qZA(),e.TgZ(76,"div",12)(77,"div",13),e._UZ(78,"img",22),e.qZA(),e.TgZ(79,"h5"),e._uU(80,"D-Cut Paper bags"),e.qZA()()(),e.TgZ(81,"li")(82,"div",10),e._UZ(83,"input",15),e.qZA(),e.TgZ(84,"div",12)(85,"div",13),e._UZ(86,"img",23),e.qZA(),e.TgZ(87,"h5"),e._uU(88,"Luxury Paper Bags"),e.qZA()()(),e.TgZ(89,"li")(90,"div",10),e._UZ(91,"input",15),e.qZA(),e.TgZ(92,"div",12)(93,"div",13),e._UZ(94,"img",24),e.qZA(),e.TgZ(95,"h5"),e._uU(96,"J Cut Paper Bags"),e.qZA()()()()(),e.TgZ(97,"div",25)(98,"a",26),e._uU(99,"Next"),e.qZA()()()),2&r&&(e.xp6(98),e.Q6J("routerLink",e.DdM(1,ut)))},dependencies:[m.rH]})}return i})();var _=f(64716);function pt(i,n){if(1&i&&(e.TgZ(0,"li")(1,"a",13),e._uU(2),e.qZA()()),2&i){const t=n.$implicit;e.xp6(2),e.Oqu(null==t?null:t.productName)}}function gt(i,n){if(1&i&&(e.ynx(0),e.TgZ(1,"h5"),e._uU(2,"Products:"),e.qZA(),e.TgZ(3,"ul",59),e.YNc(4,pt,3,1,"li",60),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(4),e.Q6J("ngForOf",t.vendorProducts)}}const _t=function(i,n,t){return["/vendors/edit-machine",i,n,t]};function ft(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",46)(1,"div",47)(2,"div")(3,"h4"),e._uU(4),e.qZA()(),e.TgZ(5,"div",48)(6,"a",49),e._UZ(7,"img",19),e.qZA(),e.TgZ(8,"a",50),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.showDeleteMachineModal(s._id))}),e._UZ(9,"img",51),e.qZA()()(),e.TgZ(10,"div",52)(11,"div",53)(12,"div",54)(13,"a",55),e._UZ(14,"img",56),e.qZA()()(),e.TgZ(15,"div",57)(16,"h5"),e._uU(17,"Machine Model: "),e.TgZ(18,"span",22),e._uU(19),e.qZA()(),e.TgZ(20,"h5"),e._uU(21,"Number of Machines: "),e.TgZ(22,"span",22),e._uU(23),e.qZA()()()(),e.YNc(24,gt,5,1,"ng-container",58),e.qZA()}if(2&i){const t=n.$implicit,r=e.oxw();e.xp6(4),e.Oqu(null==t?null:t.machineName),e.xp6(2),e.Q6J("routerLink",e.kEZ(7,_t,null==r.factoryDetails?null:r.factoryDetails._id,r.vendorId,t._id)),e.xp6(7),e.s9C("href",null==t?null:t.machineImage[0],e.LSH),e.xp6(1),e.s9C("src",null==t?null:t.machineImage[0],e.LSH),e.xp6(5),e.Oqu(null==t?null:t.model),e.xp6(4),e.Oqu(null==t?null:t.count),e.xp6(1),e.Q6J("ngIf",t.vendorProductIds&&t.vendorProductIds.length)}}const ht=function(i,n,t){return["/vendors/edit-certificate",i,n,t]};function vt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",46)(1,"div",47)(2,"div")(3,"h4"),e._uU(4),e.qZA()(),e.TgZ(5,"div",48)(6,"a",49),e._UZ(7,"img",19),e.qZA(),e.TgZ(8,"a",50),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.showDeleteCertificateModal(null==s?null:s._id))}),e._UZ(9,"img",51),e.qZA()()(),e.TgZ(10,"div",52)(11,"div",53)(12,"div",61)(13,"a",55),e._UZ(14,"img",56),e.qZA()()(),e.TgZ(15,"div",57)(16,"h6"),e._uU(17),e.qZA(),e.TgZ(18,"h6"),e._uU(19,"Valid From: "),e.TgZ(20,"span",22),e._uU(21),e.ALo(22,"date"),e.qZA()(),e.TgZ(23,"h6"),e._uU(24,"Valid up to: "),e.TgZ(25,"span",22),e._uU(26),e.ALo(27,"date"),e.qZA()()()()()}if(2&i){const t=n.$implicit,r=e.oxw();e.xp6(4),e.Oqu(null==t?null:t.certificationName),e.xp6(2),e.Q6J("routerLink",e.kEZ(11,ht,null==r.factoryDetails?null:r.factoryDetails._id,r.vendorId,t._id)),e.xp6(7),e.s9C("href",null==t?null:t.certificationImage,e.LSH),e.xp6(1),e.s9C("src",null==t?null:t.certificationImage,e.LSH),e.xp6(3),e.Oqu(null==t?null:t.issuingAuthority),e.xp6(4),e.hij(" ",e.lcZ(22,7,null==t?null:t.startDate),""),e.xp6(5),e.Oqu(e.lcZ(27,9,null==t?null:t.endDate))}}const Zt=function(i,n){return["/vendors/edit-factory",i,n]},Ct=function(i,n){return["/vendors/add-machine",i,n]},qt=function(i,n){return["/vendors/add-certificate",i,n]},z=function(i){return{"fa-spin fa-spinner":i}};let bt=(()=>{class i{constructor(t,r,o){this.routes=t,this._VS=r,this._notifier=o,this.machines=[],this.certificates=[],this.isLoading=!1,this.machineId="",this.certificateId=""}ngOnInit(){this.routes.params.subscribe(t=>{t&&t.vendorId&&t.factoryId&&(this.factoryId=t.factoryId,this.vendorId=t.vendorId,this.getVendorDetails(),this.getFactoryDetails(),this.getMachineList(),this.getCertificateList())})}getVendorDetails(){this._VS.getVendorDetails(this.vendorId).subscribe(t=>{t.meta.status?this.vendorDetails=t.data[0]:(this.vendorDetails=void 0,this._notifier.showWarning(t.meta.msg,""))},t=>{this._notifier.showError("Something Went Wrong","Error")})}getFactoryDetails(){this._VS.getFactoryDetails(this.factoryId,this.vendorId).subscribe(t=>{t.meta.status?this.factoryDetails=t.data:(this.factoryDetails=void 0,this._notifier.showWarning(t.meta.msg,""))},t=>{this._notifier.showError("Something Went Wrong","Error")})}getMachineList(){this._VS.getMachineList(this.factoryId,this.vendorId).subscribe(t=>{this.machines=t.meta.status?t.data:[]},t=>{this._notifier.showError("Something Went Wrong","Error")})}getCertificateList(){this._VS.getCertificateList(this.factoryId,this.vendorId).subscribe(t=>{this.certificates=t.meta.status?t.data:[]},t=>{this._notifier.showError("Something Went Wrong","Error")})}showDeleteMachineModal(t){this.machineId=t,$("#deleteMachine").modal("show"),$("#deleteMachine").on("hidden.bs.modal",r=>{this.machineId=""})}deleteMachine(){this.machineId&&(this.isLoading=!0,this._VS.deleteMachine(this.machineId,this.vendorId,this.factoryId).pipe((0,_.x)(()=>{this.isLoading=!1})).subscribe(t=>{t.meta.status?($("#deleteMachine").modal("hide"),this.getMachineList(),this._notifier.showSuccess(t.meta.msg,"Success")):this._notifier.showWarning(t.meta.msg,"")},t=>{this._notifier.showError("Something went wrong","Error")}))}showDeleteCertificateModal(t){this.certificateId=t,$("#deleteCertificateModal").modal("show"),$("#deleteCertificateModal").on("hidden.bs.modal",r=>{this.certificateId=""})}deleteCertificate(){this.certificateId&&(this.isLoading=!0,this._VS.deleteCertificate(this.certificateId,this.vendorId,this.factoryId).pipe((0,_.x)(()=>{this.isLoading=!1})).subscribe(t=>{t.meta.status?($("#deleteCertificateModal").modal("hide"),this.getCertificateList(),this._notifier.showSuccess(t.meta.msg,"Success")):this._notifier.showWarning(t.meta.msg,"")},t=>{this._notifier.showError("Something went wrong","Error")}))}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(m.gz),e.Y36(l.m),e.Y36(h.lG))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-factory-details"]],decls:115,vars:38,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between","row"],[1,"col-12","col-sm-8","col-md-10","col-lg-10"],["href","javascript:history.back()"],[1,"bi","bi-arrow-left-short","me-4"],[1,"account_dashboard","profile_dashboard","mb-5"],[1,"login-white-box"],[1,"factory-detail-item"],[1,"row"],[1,"col-12","col-sm-3","col-md-3","col-lg-3","col-xl-2"],[1,"factory-detail-tmb"],["alt","",3,"src"],[1,"factory-tmb-overlay"],["href","javascript:void(0)"],[1,"col-12","col-sm-9","col-md-9","col-lg-9","col-xl-10"],[1,"my-vender-body"],[1,"mb-4","text-success","d-flex","justify-content-between"],[1,"edit-btn1"],[3,"routerLink"],["src","assets/images/pencil-dark.png"],[1,"list-inline","d-flex","ulfive-row","mb-0"],[1,"profile-info"],[1,"text-success"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"col-12","col-sm-12","col-md-12","col-lg-6","col-xl-6"],[1,"account_dashboard","profile_dashboard"],[1,"page-header","d-flex","justify-content-between"],[1,"fw500"],[1,"main_btn"],["href","javascript:void(0)","type","submit",1,"btn","btn-block","btn-sumbit","btn-success",3,"routerLink"],[1,"bi","bi-plus-lg"],["class","factory-media-box",4,"ngFor","ngForOf"],[1,"login-white-box","certificates-rgt-box"],["id","deleteMachine","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","feedback-popup"],[1,"modal-body"],[1,"form-box","form-box-dashboard"],[1,"p-3"],[1,"title","text-center","mb-5"],[1,"row","justify-content-center"],[1,"col-6","col-sm-5","col-md-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-block","btn-lg","btn-light","btn-sumbit"],["type","submit",1,"btn","btn-block","btn-lg","btn-success","btn-sumbit",3,"disabled","click"],[1,"fa",3,"ngClass"],["id","deleteCertificateModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"factory-media-box"],[1,"d-flex","justify-content-between","mb-2"],[1,"edit-btn","mb-1"],["href","javascript:void(0)",1,"me-2",3,"routerLink"],["href","javascript:void(0)",3,"click"],["src","assets/images/delete-icon.png"],[1,"media","mb-3"],[1,"media-left"],[1,"machine-img"],["data-fancybox","images","title","View Large Image",3,"href"],[3,"src"],[1,"media-body"],[4,"ngIf"],[1,"list-inline","d-flex","flex-wrap","list-menu"],[4,"ngFor","ngForOf"],[1,"machine-img","mb-0"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3")(4,"a",3),e._UZ(5,"i",4),e.qZA(),e._uU(6),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10),e._UZ(13,"img",11),e.TgZ(14,"div",12)(15,"a",13),e._uU(16),e._UZ(17,"br"),e._uU(18,"Images"),e.qZA()()()(),e.TgZ(19,"div",14)(20,"div",15)(21,"h3",16),e._uU(22),e.TgZ(23,"div",17)(24,"a",18),e._UZ(25,"img",19),e.qZA()()(),e.TgZ(26,"ul",20)(27,"li")(28,"div",21)(29,"p"),e._uU(30,"Factory Area:"),e.qZA(),e.TgZ(31,"h5",22),e._uU(32),e.qZA()()(),e.TgZ(33,"li")(34,"div",21)(35,"p"),e._uU(36,"Manpower:"),e.qZA(),e.TgZ(37,"h5",22),e._uU(38),e.qZA()()(),e.TgZ(39,"li")(40,"div",21)(41,"p"),e._uU(42,"Stuffing Permit ?"),e.qZA(),e.TgZ(43,"h5",22),e._uU(44),e.qZA()()(),e.TgZ(45,"li")(46,"div",21)(47,"p"),e._uU(48,"Factory do Palletization ?"),e.qZA(),e.TgZ(49,"h5",22),e._uU(50),e.qZA()()()(),e.TgZ(51,"div",8)(52,"div",23)(53,"div",21)(54,"p"),e._uU(55,"Factory Address:"),e.qZA(),e.TgZ(56,"h5",22),e._uU(57),e.qZA()()()()()()()()()(),e.TgZ(58,"div",8)(59,"div",24)(60,"div",25)(61,"div",6)(62,"div",26)(63,"h4",27),e._uU(64),e.qZA(),e.TgZ(65,"span",28)(66,"a",29),e._UZ(67,"i",30),e._uU(68," Add Machines "),e.qZA()()(),e.YNc(69,ft,25,11,"div",31),e.qZA()()(),e.TgZ(70,"div",24)(71,"div",25)(72,"div",32)(73,"div",26)(74,"h4",27),e._uU(75),e.qZA(),e.TgZ(76,"span",28)(77,"a",29),e._UZ(78,"i",30),e._uU(79," Add Certificate "),e.qZA()()(),e.YNc(80,vt,28,15,"div",31),e.qZA()()()()(),e.TgZ(81,"div",33)(82,"div",34)(83,"div",35)(84,"div",36)(85,"div",37)(86,"div",38)(87,"div",39)(88,"h4"),e._uU(89,"Are you sure to delete the machine?"),e.qZA()(),e.TgZ(90,"div",40)(91,"div",41)(92,"button",42),e._uU(93,"Cancel"),e.qZA()(),e.TgZ(94,"div",41)(95,"button",43),e.NdJ("click",function(){return o.deleteMachine()}),e._UZ(96,"i",44),e._uU(97," Yes"),e.qZA()()()()()()()()(),e.TgZ(98,"div",45)(99,"div",34)(100,"div",35)(101,"div",36)(102,"div",37)(103,"div",38)(104,"div",39)(105,"h4"),e._uU(106,"Are you sure to delete the certificate?"),e.qZA()(),e.TgZ(107,"div",40)(108,"div",41)(109,"button",42),e._uU(110,"Cancel"),e.qZA()(),e.TgZ(111,"div",41)(112,"button",43),e.NdJ("click",function(){return o.deleteCertificate()}),e._UZ(113,"i",44),e._uU(114," Yes"),e.qZA()()()()()()()()()),2&r&&(e.xp6(6),e.lnq(" ",null==o.vendorDetails?null:o.vendorDetails.firstName," ",null==o.vendorDetails?null:o.vendorDetails.lastName,", ",null==o.vendorDetails?null:o.vendorDetails.vendorId," "),e.xp6(7),e.s9C("src",null==o.factoryDetails?null:o.factoryDetails.factoryImage[0],e.LSH),e.xp6(3),e.hij("",null==o.factoryDetails?null:o.factoryDetails.factoryImage.length,"+"),e.xp6(6),e.hij(" ",null==o.factoryDetails?null:o.factoryDetails.country.name," "),e.xp6(2),e.Q6J("routerLink",e.WLB(25,Zt,o.vendorId,o.factoryId)),e.xp6(8),e.hij("",null==o.factoryDetails?null:o.factoryDetails.area," sq.ft."),e.xp6(6),e.Oqu(null==o.factoryDetails?null:o.factoryDetails.manpower),e.xp6(6),e.hij(" ",null!=o.factoryDetails&&o.factoryDetails.isStuffingPermit?"Yes":"No",""),e.xp6(6),e.hij(" ",null!=o.factoryDetails&&o.factoryDetails.isPalletizationCapability?"Yes":"No",""),e.xp6(7),e.HOy("",null==o.factoryDetails?null:o.factoryDetails.addressLine1,", ",null==o.factoryDetails?null:o.factoryDetails.addressLine2,", ",null==o.factoryDetails?null:o.factoryDetails.cityName,", ",null==o.factoryDetails?null:o.factoryDetails.zipCode,""),e.xp6(7),e.hij("Machines(",o.machines.length,")"),e.xp6(2),e.Q6J("routerLink",e.WLB(28,Ct,null==o.factoryDetails?null:o.factoryDetails._id,o.vendorId)),e.xp6(3),e.Q6J("ngForOf",o.machines),e.xp6(6),e.hij("Certificates (",o.certificates.length,")"),e.xp6(2),e.Q6J("routerLink",e.WLB(31,qt,null==o.factoryDetails?null:o.factoryDetails._id,o.vendorId)),e.xp6(3),e.Q6J("ngForOf",o.certificates),e.xp6(15),e.Q6J("disabled",o.isLoading),e.xp6(1),e.Q6J("ngClass",e.VKq(34,z,o.isLoading)),e.xp6(16),e.Q6J("disabled",o.isLoading),e.xp6(1),e.Q6J("ngClass",e.VKq(36,z,o.isLoading)))},dependencies:[u.mk,u.sg,u.O5,m.rH,u.uU]})}return i})();var yt=f(69862),Tt=f(49678);function At(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"li")(1,"div",59)(2,"label",60)(3,"div",61)(4,"input",62),e.NdJ("change",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.changeSelection("category",o))}),e.qZA()(),e.TgZ(5,"div",63),e._UZ(6,"img",64),e.qZA(),e.TgZ(7,"h5"),e._uU(8),e.qZA(),e._UZ(9,"span",65),e.qZA()()()}if(2&i){const t=n.$implicit;e.xp6(4),e.Q6J("value",null==t?null:t._id),e.xp6(2),e.Q6J("src",null==t?null:t.categoryImg,e.LSH),e.xp6(2),e.Oqu(null==t?null:t.categoryName)}}function xt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"li")(1,"div",59)(2,"label",60)(3,"div",63),e._UZ(4,"img",64),e.qZA(),e.TgZ(5,"h5"),e._uU(6),e.qZA(),e.TgZ(7,"div",61)(8,"input",66),e.NdJ("change",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.changeSelection("subCategory",o))}),e.qZA()(),e._UZ(9,"span",65),e.qZA()()()}if(2&i){const t=n.$implicit;e.xp6(4),e.Q6J("src",t.categoryImg,e.LSH),e.xp6(2),e.Oqu(t.categoryName),e.xp6(2),e.Q6J("value",null==t?null:t._id)}}function It(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"li")(1,"div",59)(2,"label",60)(3,"div",61)(4,"input",67),e.NdJ("change",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.changeSelection("product",o))}),e.qZA()(),e.TgZ(5,"div",63),e._UZ(6,"img",64),e.qZA(),e.TgZ(7,"h5"),e._uU(8),e.qZA(),e._UZ(9,"span",65),e.qZA()()()}if(2&i){const t=n.$implicit;e.xp6(4),e.Q6J("value",null==t?null:t._id),e.xp6(2),e.Q6J("src",t.productImg[0],e.LSH),e.xp6(2),e.Oqu(t.productName)}}function Ft(i,n){1&i&&(e.TgZ(0,"div",68),e._uU(1," MOQ is required "),e.qZA())}function Ut(i,n){if(1&i&&(e.TgZ(0,"option",69),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij("",t.label," ")}}function wt(i,n){1&i&&(e.TgZ(0,"div",68),e._uU(1," UOM is required "),e.qZA())}function Nt(i,n){1&i&&(e.TgZ(0,"div",68),e._uU(1," Production Per Day "),e.qZA())}function Jt(i,n){if(1&i&&(e.TgZ(0,"option",69),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij("",t.label," ")}}function kt(i,n){1&i&&(e.TgZ(0,"div",68),e._uU(1," UOM is required "),e.qZA())}function Pt(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Lower Limit is required. "),e.qZA())}function St(i,n){if(1&i&&(e.TgZ(0,"div",68),e.YNc(1,Pt,2,0,"div",76),e.qZA()),2&i){const t=e.oxw().$implicit;let r;e.xp6(1),e.Q6J("ngIf",null==(r=t.get("lowerLimt"))||null==r.errors?null:r.errors.required)}}function Vt(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Upper Limit is required. "),e.qZA())}function Qt(i,n){if(1&i&&(e.TgZ(0,"div",68),e.YNc(1,Vt,2,0,"div",76),e.qZA()),2&i){const t=e.oxw().$implicit;let r;e.xp6(1),e.Q6J("ngIf",null==(r=t.get("upperLimit"))||null==r.errors?null:r.errors.required)}}const j=function(i){return{active:i}},P=function(i){return{"is-invalid":i}};function Et(i,n){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",70)(2,"h6"),e._uU(3),e.qZA(),e.TgZ(4,"div",71)(5,"div",34)(6,"label"),e._uU(7," Choose"),e.qZA(),e.TgZ(8,"div",72)(9,"a",73),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.changeUnit(s,"percentage"))}),e._uU(10," Percentage"),e.qZA(),e.TgZ(11,"a",73),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.changeUnit(s,"absolute"))}),e._uU(12,"Absolute"),e.qZA()()()(),e.TgZ(13,"div",71)(14,"div",34)(15,"label"),e._uU(16," Lower Limit"),e.qZA(),e._UZ(17,"input",74),e.YNc(18,St,2,1,"div",38),e.qZA()(),e.TgZ(19,"div",71)(20,"div",34)(21,"label"),e._uU(22," Upper Limit"),e.qZA(),e._UZ(23,"input",75),e.YNc(24,Qt,2,1,"div",38),e.qZA()()(),e.BQk()}if(2&i){const t=n.$implicit,r=n.index,o=e.oxw();let s,d,g,v;e.xp6(1),e.Q6J("formGroupName",r),e.xp6(2),e.hij("",t.getRawValue().label," :"),e.xp6(6),e.Q6J("ngClass",e.VKq(8,j,"absolute"===t.value.unit)),e.xp6(2),e.Q6J("ngClass",e.VKq(10,j,"percentage"===t.value.unit)),e.xp6(6),e.Q6J("ngClass",e.VKq(12,P,o.submitted&&(null==(s=t.get("lowerLimt"))?null:s.errors))),e.xp6(1),e.Q6J("ngIf",o.submitted&&(null==(d=t.get("lowerLimt"))?null:d.errors)),e.xp6(5),e.Q6J("ngClass",e.VKq(14,P,o.submitted&&(null==(g=t.get("upperLimit"))?null:g.errors))),e.xp6(1),e.Q6J("ngIf",o.submitted&&(null==(v=t.get("upperLimit"))?null:v.errors))}}let Lt=(()=>{class i{constructor(t,r,o,s,d,g,v){this.PS=t,this._notify=r,this._VS=o,this.FB=s,this.ngxService=d,this.router=g,this.routes=v,this.selectedCategory=null,this.selectedSubCategory=null,this.selectedProduct=null,this.categorySearch="",this.subCategorySearch="",this.productSearch="",this.submitted=!1,this.categoryType="ROOT",this.moqTypeList=[],this.productionTypeList=[],this.toleranceFields=[]}ngOnInit(){this.getCategories(),this.initializeForm(),this.vendorId=this.routes.snapshot.paramMap.get("id")}initializeForm(){this.dynamicFormGroup=this.FB.group({moq:["",a.kI.required],moqType:["",a.kI.required],productionPerDay:[""],productionPerDayType:[""],toleranceForm:this.FB.array([])})}ngAfterViewInit(){$(".wizzy").wizzy()}ngOnChanges(){this.initializeWizzy()}filterCategory(t){this.categorySearch=t.target.value,this.getCategories()}getCategories(){this.ngxService.start(),this.PS.getCategoryList(this.categoryType,"active",this.categorySearch,"","").pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(t=>{t.meta.status?this.categoryList=t?.data:this._notify.showError(t.meta.msg,"Error"),this.initializeWizzy()})}filterSubCategory(t){this.subCategorySearch=t?.target?.value,this.getSubCategories()}getSubCategories(){this.ngxService.start(),this.PS.getSubCategoryList("","",this.subCategorySearch,this.selectedCategory,"","").pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(t=>{t.meta.status?(this.subCategoryList=t?.data,this.initializeWizzy()):this._notify.showError(t.meta.msg,"Error")})}filterProducts(t){this.productSearch=t?.target?.value,this.getProducts()}productQueryParams(){let t=new yt.LE;return t=t.append("categoryId",this.selectedCategory),t=t.append("subCategoryId",this.selectedSubCategory),t=t.append("searchKey",this.productSearch),t}getProducts(){this.ngxService.start(),this.PS.getProductList(this.selectedCategory,this.productSearch,"","",this.selectedSubCategory).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(t=>{t.meta.status?(this.productsList=t?.data,this.initializeWizzy()):this._notify.showError(t.meta.msg,"Error")})}getProductDetails(){this.ngxService.start(),this.toleranceFields=[],this.PS.getProductDetails(this.selectedProduct).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(t=>{t.meta.status?(t?.data?.productForm.map(r=>{"panel"===r.type?r.components.map(o=>{o.isTolerance&&this.toleranceFields.push({label:o.label,key:o.key,id:o.id})}):"columns"===r.type?r.columns.map(o=>{o.components.map(s=>{s.isTolerance&&this.toleranceFields.push({label:s.label,key:s.key,id:s.id})})}):r.isTolerance&&this.toleranceFields.push({label:r.label,key:r.key,id:r.id})}),this.buildForm(),this._notify.showSuccess(t.meta.msg,"Success")):this._notify.showError(t.meta.msg,"Error"),this.initializeWizzy()})}buildForm(){this.toleranceFields.map((t,r)=>{this.addToleranceForm(t)})}get toleranceForm(){return this.dynamicFormGroup.controls.toleranceForm}addToleranceForm(t){const r=this.FB.group({label:[{value:t.label,disabled:!0},a.kI.required],key:[t.key,a.kI.required],upperLimit:["",a.kI.required],lowerLimt:["",a.kI.required],unit:["percentage",a.kI.required]});this.toleranceForm.push(r)}deleteToleranceForm(t){this.toleranceForm.removeAt(t)}changeUnit(t,r){t.get("unit")?.setValue(r)}get dynamicFormControls(){return this.dynamicFormGroup.controls}changeSelection(t,r){switch(t){case"category":this.selectedCategory=r?.target?.value,this.selectedSubCategory=null,this.selectedProduct=null;break;case"subCategory":this.selectedSubCategory=r?.target?.value,this.selectedProduct=null;break;case"product":this.selectedProduct=r?.target?.value;break;default:this.selectedCategory=r?.target?.value}this.initializeWizzy()}submitForm(){if(this.dynamicFormGroup.valid||this.dynamicFormGroup.markAllAsTouched(),this.dynamicFormGroup.valid){this.ngxService.start();let t={};this.dynamicFormGroup.value.toleranceForm.map(o=>{let s={...o};t[o.key]={},delete s.key,t[o.key]=s});let r={vendorId:this.vendorId,categoryId:this.selectedCategory,subCategoryId:this.selectedSubCategory,productId:this.selectedProduct,...this.toleranceFields?.length>0&&{productForm:t},moq:this.dynamicFormGroup.value.moq,moqType:this.dynamicFormGroup.value.moqType,productionPerDay:this.dynamicFormGroup.value.productionPerDay,productionPerDayType:this.dynamicFormGroup.value.productionPerDayType};this._VS.addProduct(r).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(o=>{o.meta.status?(this._notify.showSuccess(o.meta.msg,"Success"),$("#CongrulationsModal").modal("show"),setTimeout(()=>{this.router.navigate([`/vendors/detail/${this.vendorId}`]),$("#CongrulationsModal").modal("hide")},1e3)):($("#CongrulationsModal").modal("hide"),this._notify.showError(o.meta.msg,"Error"))})}else this.submitted=!0}initializeWizzy(){null===this.selectedCategory?$(".category-navigator .btn").prop("disabled",!0):($(".category-navigator .btn").prop("disabled",!1),$(".category-navigator .btn").on("click",()=>{this.getSubCategories()})),null===this.selectedSubCategory?$(".subcategory-navigator .btn-success").prop("disabled",!0):($(".subcategory-navigator .btn-success").prop("disabled",!1),$(".subcategory-navigator .btn-success").on("click",()=>{this.getProducts()})),null===this.selectedProduct?$(".product-navigator .btn-success").prop("disabled",!0):($(".product-navigator .btn-success").prop("disabled",!1),$(".product-navigator .btn-success").on("click",()=>{this.getProductDetails(),this.getMoqType(),this.getProductionType()})),null===this.selectedCategory&&null===this.selectedSubCategory&&null===this.selectedProduct?$(".submit-navigator .btn-success").prop("disabled",!0):($(".submit-navigator .btn-success").prop("disabled",!1),$(".submit-navigator .btn-success").on("click",()=>{this.submitForm()}))}getMoqType(){this.PS.getAppConfigByKey("MOQ").subscribe(r=>{if(r.meta.status){let o=r.data.value.split("|").map(s=>({value:(s=s.trim()).toLowerCase(),label:s}));console.log(o),this.moqTypeList=o}})}getProductionType(){this.PS.getAppConfigByKey("PRODUCTION_PER_DAY").subscribe(r=>{if(r.meta.status){let o=r.data.value.split("|").map(s=>({value:(s=s.trim()).toLowerCase(),label:s}));console.log(o),this.productionTypeList=o}})}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(Tt.M),e.Y36(h.lG),e.Y36(l.m),e.Y36(a.qu),e.Y36(p.LA),e.Y36(m.F0),e.Y36(m.gz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-products-vendor"]],features:[e.TTD],decls:138,vars:24,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between"],["href","javascript:history.back()"],[1,"bi","bi-arrow-left-short"],[1,"account_dashboard","profile_dashboard"],[1,"row"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"login-white-box"],[1,"wz-wrapper","wizzy"],[1,"wz-inner","mt-4"],[1,"wz-header"],["href","#"],[1,"fa","fa-check"],["href","#",1,"last-step"],[1,"wz-body"],["action","#"],[1,"wz-step"],[1,"title","text-center"],[1,"form-box","form-filter"],[1,"col-12","col-sm-4","col-md-3","col-lg-3"],[1,"searchgroup","form-group"],["type","text","placeholder","Search",1,"form-control","form-ctrl",3,"keyup"],["type","button",1,"btn","btn-link"],["src","assets/images/search-icon.png"],[1,"d-flex","flex-wrap","text-center","list-inline","ulfive-row","sampleRVendor"],[4,"ngFor","ngForOf"],[1,"wz-navigator","category-navigator"],[1,"wz-navigator","subcategory-navigator"],[1,"wz-navigator","product-navigator"],[1,"account_dashboard","form-box"],[1,"col-lg-12"],[1,"dimensionality"],[3,"formGroup"],[1,"col-5","col-sm-5","col-md-5","col-lg-5"],[1,"form-group"],[1,"col-form-label","field-required",2,"line-height","25px"],[1,"col-9"],["type","number","formControlName","moq",1,"form-ctrl","form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-3"],["formControlName","moqType",1,"form-ctrl","form-control",3,"ngClass"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","productionPerDay",1,"form-ctrl","form-control",3,"ngClass"],["formControlName","productionPerDayType",1,"form-ctrl","form-control",3,"ngClass"],["formArrayName","toleranceForm"],[1,"wz-navigator","submit-navigator"],["fgsColor","#3E916C",3,"hasProgressBar"],["id","CongrulationsModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","feedback-popup"],[1,"modal-body"],[1,"congrulations","text-center"],[1,"congrulations-img"],["src","assets/images/objects.png"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 130.2 130.2"],["fill","none","stroke","#fff","stroke-width","0","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#fff","stroke-width","10","stroke-linecap","round","stroke-miterlimit","10","points","100.2,40.2 51.5,88.8 29.8,67.5 ",1,"path","check"],["href","javascript:void(0)","routerLink","/product/list","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-light"],[1,"add-product-item"],[1,"labelContainer"],[1,"form-check","greencheck"],["type","radio","name","category",1,"form-check-input",3,"value","change"],[1,"product-icon"],["alt","",3,"src"],[1,"checkmark"],["type","radio","name","subCategory",1,"form-check-input",3,"value","change"],["type","radio","name","product",1,"form-check-input",3,"value","change"],[1,"invalid-feedback"],[3,"value"],[1,"row",3,"formGroupName"],[1,"col-12","col-sm-12","col-md-12","col-lg-4"],[1,"choose_button"],["href","javascript:void(0)",3,"ngClass","click"],["type","text","formControlName","lowerLimt","placeholder","",1,"form-control","form-ctrl",3,"ngClass"],["type","text","formControlName","upperLimit","placeholder","",1,"form-control","form-ctrl",3,"ngClass"],[4,"ngIf"]],template:function(r,o){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3")(3,"a",2),e._UZ(4,"i",3),e.qZA(),e._uU(5," Add Product"),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"nav")(14,"a",11)(15,"em"),e._UZ(16,"i",12),e.qZA(),e._uU(17," Select Category"),e.qZA(),e.TgZ(18,"a",11)(19,"em"),e._UZ(20,"i",12),e.qZA(),e._uU(21," Select Sub Catgeory"),e.qZA(),e.TgZ(22,"a",11)(23,"em"),e._UZ(24,"i",12),e.qZA(),e._uU(25," Select Product"),e.qZA(),e.TgZ(26,"a",13)(27,"em"),e._UZ(28,"i",12),e.qZA(),e._uU(29," Product Tolerances"),e.qZA()()(),e.TgZ(30,"div",14)(31,"form",15)(32,"div",16)(33,"div",17)(34,"h3"),e._uU(35,"Create Product"),e.qZA(),e.TgZ(36,"p"),e._uU(37,"Select Category"),e.qZA()(),e.TgZ(38,"div",18)(39,"div",5)(40,"div",19)(41,"div",20)(42,"input",21),e.NdJ("keyup",function(d){return o.filterCategory(d)}),e.qZA(),e.TgZ(43,"button",22),e._UZ(44,"img",23),e.qZA()()()()(),e.TgZ(45,"ul",24),e.YNc(46,At,10,3,"li",25),e.qZA(),e._UZ(47,"div",26),e.qZA(),e.TgZ(48,"div",16)(49,"div",17)(50,"h3"),e._uU(51,"Create Product"),e.qZA(),e.TgZ(52,"p"),e._uU(53,"Select Sub Category"),e.qZA()(),e.TgZ(54,"div",18)(55,"div",5)(56,"div",19)(57,"div",20)(58,"input",21),e.NdJ("keyup",function(d){return o.filterSubCategory(d)}),e.qZA(),e.TgZ(59,"button",22),e._UZ(60,"img",23),e.qZA()()()()(),e.TgZ(61,"ul",24),e.YNc(62,xt,10,3,"li",25),e.qZA(),e._UZ(63,"div",27),e.qZA(),e.TgZ(64,"div",16)(65,"div",17)(66,"p"),e._uU(67,"Select Product"),e.qZA()(),e.TgZ(68,"div",18)(69,"div",5)(70,"div",19)(71,"div",20)(72,"input",21),e.NdJ("keyup",function(d){return o.filterProducts(d)}),e.qZA(),e.TgZ(73,"button",22),e._UZ(74,"img",23),e.qZA()()()()(),e.TgZ(75,"ul",24),e.YNc(76,It,10,3,"li",25),e.qZA(),e._UZ(77,"div",28),e.qZA(),e.TgZ(78,"div",16)(79,"div",17)(80,"h3"),e._uU(81,"Enter Product Tolerances"),e.qZA()(),e.TgZ(82,"div",29)(83,"div",30)(84,"div",31)(85,"form",32)(86,"div",5)(87,"h6"),e._uU(88,"Production Value:"),e.qZA(),e.TgZ(89,"div",33)(90,"div",34)(91,"label",35),e._uU(92,"MOQ"),e.qZA(),e.TgZ(93,"div",5)(94,"div",36),e._UZ(95,"input",37),e.YNc(96,Ft,2,0,"div",38),e.qZA(),e.TgZ(97,"div",39)(98,"select",40)(99,"option",41),e._uU(100,"UOM"),e.qZA(),e.YNc(101,Ut,2,2,"option",42),e.qZA(),e.YNc(102,wt,2,0,"div",38),e.qZA()()()(),e.TgZ(103,"div",33)(104,"div",34)(105,"label",35),e._uU(106,"Production Per Day"),e.qZA(),e.TgZ(107,"div",5)(108,"div",36),e._UZ(109,"input",43),e.YNc(110,Nt,2,0,"div",38),e.qZA(),e.TgZ(111,"div",39)(112,"select",44)(113,"option",41),e._uU(114,"UOM"),e.qZA(),e.YNc(115,Jt,2,2,"option",42),e.qZA(),e.YNc(116,kt,2,0,"div",38),e.qZA()()()()(),e.ynx(117,45),e.YNc(118,Et,25,16,"ng-container",25),e.BQk(),e.qZA()()()(),e._UZ(119,"div",46),e.qZA()()()()()()()()()(),e._UZ(120,"ngx-ui-loader",47),e.TgZ(121,"div",48)(122,"div",49)(123,"div",50)(124,"div",51)(125,"div",52)(126,"div",7)(127,"div",53),e._UZ(128,"img",54),e.O4$(),e.TgZ(129,"svg",55),e._UZ(130,"circle",56)(131,"polyline",57),e.qZA()(),e.kcU(),e.TgZ(132,"h3"),e._uU(133,"Product Added"),e.qZA(),e.TgZ(134,"p"),e._uU(135,"You have successfully added the product. It can now be shared with vendor(s) for quotation(s) & follow on order(s) "),e.qZA(),e.TgZ(136,"a",58),e._uU(137,"Back to Home"),e.qZA()()()()()()()),2&r){let s,d,g,v,W,T,V,Q;e.xp6(46),e.Q6J("ngForOf",o.categoryList),e.xp6(16),e.Q6J("ngForOf",o.subCategoryList),e.xp6(14),e.Q6J("ngForOf",o.productsList),e.xp6(9),e.Q6J("formGroup",o.dynamicFormGroup),e.xp6(10),e.Q6J("ngClass",e.VKq(16,P,((null==(s=o.dynamicFormGroup.get("moq"))?null:s.dirty)||(null==(s=o.dynamicFormGroup.get("moq"))?null:s.touched))&&(null==(s=o.dynamicFormGroup.get("moq"))?null:s.hasError("required")))),e.xp6(1),e.Q6J("ngIf",(null==(d=o.dynamicFormGroup.get("moq"))?null:d.hasError("required"))&&((null==(d=o.dynamicFormGroup.get("moq"))?null:d.dirty)||(null==(d=o.dynamicFormGroup.get("moq"))?null:d.touched))),e.xp6(2),e.Q6J("ngClass",e.VKq(18,P,((null==(g=o.dynamicFormGroup.get("moqType"))?null:g.dirty)||(null==(g=o.dynamicFormGroup.get("moqType"))?null:g.touched))&&(null==(g=o.dynamicFormGroup.get("moqType"))?null:g.hasError("required")))),e.xp6(3),e.Q6J("ngForOf",o.moqTypeList),e.xp6(1),e.Q6J("ngIf",(null==(v=o.dynamicFormGroup.get("moqType"))?null:v.hasError("required"))&&((null==(v=o.dynamicFormGroup.get("moqType"))?null:v.dirty)||(null==(v=o.dynamicFormGroup.get("moqType"))?null:v.touched))),e.xp6(7),e.Q6J("ngClass",e.VKq(20,P,null==(W=o.dynamicFormGroup.get("productionPerDay"))?null:W.hasError("required"))),e.xp6(1),e.Q6J("ngIf",((null==(T=o.dynamicFormGroup.get("productionPerDay"))?null:T.dirty)||(null==(T=o.dynamicFormGroup.get("productionPerDay"))?null:T.touched))&&(null==(T=o.dynamicFormGroup.get("productionPerDay"))?null:T.hasError("required"))&&((null==(T=o.dynamicFormGroup.get("productionPerDay"))?null:T.dirty)||(null==(T=o.dynamicFormGroup.get("productionPerDay"))?null:T.touched))),e.xp6(2),e.Q6J("ngClass",e.VKq(22,P,((null==(V=o.dynamicFormGroup.get("productionPerDayType"))?null:V.dirty)||(null==(V=o.dynamicFormGroup.get("productionPerDayType"))?null:V.touched))&&(null==(V=o.dynamicFormGroup.get("productionPerDayType"))?null:V.hasError("required")))),e.xp6(3),e.Q6J("ngForOf",o.productionTypeList),e.xp6(1),e.Q6J("ngIf",(null==(Q=o.dynamicFormGroup.get("productionPerDayType"))?null:Q.hasError("required"))&&((null==(Q=o.dynamicFormGroup.get("productionPerDayType"))?null:Q.dirty)||(null==(Q=o.dynamicFormGroup.get("productionPerDayType"))?null:Q.touched))),e.xp6(2),e.Q6J("ngForOf",o.toleranceForm.controls),e.xp6(2),e.Q6J("hasProgressBar",!1)}},dependencies:[u.mk,u.sg,u.O5,m.rH,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.sg,a.u,a.x0,a.CE,a.F,p.Eo]})}return i})();var U=f(46413);function Yt(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Factory name is required. "),e.qZA())}function Dt(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Yt,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.factoryName.errors.required)}}function Mt(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Factory area is required. "),e.qZA())}function Wt(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Mt,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.area.errors.required)}}function $t(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Manpower is required. "),e.qZA())}function Kt(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,$t,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.manpower.errors.required)}}function Ot(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Palletization Capability is required. "),e.qZA())}function zt(i,n){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,Ot,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.isPalletizationCapability.errors.required)}}function jt(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Pallete Size is required. "),e.qZA())}function Gt(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,jt,2,0,"div",49),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.palleteSize.errors.required)}}const Z=function(i){return{"is-invalid":i}};function Bt(i,n){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"label"),e._uU(3,"Pallete Size*"),e.qZA(),e._UZ(4,"input",51),e.YNc(5,Gt,2,1,"div",11),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngClass",e.VKq(2,Z,t.submitted&&t.factoryFormControls.palleteSize.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.factoryFormControls.palleteSize.errors)}}function Rt(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Per Pallete Cost is required. "),e.qZA())}function Ht(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Rt,2,0,"div",49),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.PerPalleteCost.errors.required)}}function Xt(i,n){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"label"),e._uU(3,"Per Pallete Cost"),e.qZA(),e._UZ(4,"input",52),e.YNc(5,Ht,2,1,"div",11),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngClass",e.VKq(2,Z,t.submitted&&t.factoryFormControls.PerPalleteCost.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.factoryFormControls.PerPalleteCost.errors)}}function ei(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," TAX ID is required. "),e.qZA())}function ti(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,ei,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.taxId.errors.required)}}function ii(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Factory stuffing permit is required. "),e.qZA())}function oi(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,ii,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.isStuffingPermit.errors.required)}}function ri(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Port Container Charges is required. "),e.qZA())}function ni(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,ri,2,0,"div",49),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.portContainerCharge.errors.required)}}function si(i,n){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"label"),e._uU(3,"Port Container Charges(In Dollars)*"),e.qZA(),e._UZ(4,"input",53),e.YNc(5,ni,2,1,"div",11),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngClass",e.VKq(2,Z,t.submitted&&t.factoryFormControls.portContainerCharge.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.factoryFormControls.portContainerCharge.errors)}}function ai(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," AD Code is required. "),e.qZA())}function di(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,ai,2,0,"div",49),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.adCode.errors.required)}}function li(i,n){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"label"),e._uU(3,"AD Code*"),e.qZA(),e._UZ(4,"input",54),e.YNc(5,di,2,1,"div",11),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngClass",e.VKq(2,Z,t.submitted&&t.factoryFormControls.adCode.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.factoryFormControls.adCode.errors)}}function ci(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," AD Code Image is required. "),e.qZA())}function ui(i,n){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,ci,2,0,"div",49),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.adCodeFile.errors.required)}}const mi=function(i){return{"fa-spin fa-spinner":i}};function pi(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9)(2,"label"),e._uU(3,"Upload AD Code*"),e.qZA(),e.TgZ(4,"div",55)(5,"div",56)(6,"div",36)(7,"input",57),e.NdJ("change",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.fileValueAd(o))}),e.qZA(),e.TgZ(8,"label",58)(9,"div",40),e._UZ(10,"img",59),e.TgZ(11,"h6",42),e._uU(12,"Upload AD Code"),e.qZA(),e.TgZ(13,"div",60),e._UZ(14,"i",61),e._uU(15," Upload "),e.qZA()()()(),e.YNc(16,ui,2,1,"div",19),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("disabled",t.isLoading),e.xp6(7),e.Q6J("ngClass",e.VKq(3,mi,t.isLoading)),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.factoryFormControls.adCodeFile.errors)}}function gi(i,n){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t.value),e.xp6(1),e.hij("",t.label," ")}}function _i(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Nearest Port is required. "),e.qZA())}function fi(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,_i,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.nearestPort.errors.required)}}function hi(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Address Line 1 is required. "),e.qZA())}function vi(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,hi,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.addressLine1.errors.required)}}function Zi(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Address Line 2 is required. "),e.qZA())}function Ci(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Zi,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.addressLine2.errors.required)}}function qi(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," PIN/ZIP Code is required. "),e.qZA())}function bi(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,qi,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.zipCode.errors.required)}}function yi(i,n){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function Ti(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Country is required. "),e.qZA())}function Ai(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Ti,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.countryId.errors.required)}}function xi(i,n){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function Ii(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," State is required. "),e.qZA())}function Fi(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Ii,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.stateId.errors.required)}}function Ui(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," City is required. "),e.qZA())}function wi(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Ui,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.cityName.errors.required)}}function Ni(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",62)(1,"div",63)(2,"button",64),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.removeFile(s))}),e.qZA(),e.TgZ(3,"div",65),e._UZ(4,"img",66),e.qZA()()()}if(2&i){const t=n.$implicit;e.xp6(4),e.s9C("src",t,e.LSH)}}function Ji(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Factory Image is required. "),e.qZA())}function ki(i,n){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,Ji,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.factoryImage.errors.required)}}let Pi=(()=>{class i{constructor(t,r,o,s,d,g,v){this.ngxService=t,this.FB=r,this._notifier=o,this.router=s,this._DCS=d,this._CS=g,this.routes=v,this.countries=[],this.submitted=!1,this.isLoading=!1,this.factoryImages=[],this.states=[],this.ports=[]}ngOnInit(){this.routes.params.subscribe(r=>{r&&r.vendorId&&(this.vendorId=r.vendorId)}),this.initFactoryForm(),this.getPort(),this.getCountryList(),"true"===sessionStorage.getItem("export")?(this.isExported=!0,this.factoryForm.get("adCode")?.setValidators([a.kI.required]),this.factoryForm.get("adCodeFile")?.setValidators([a.kI.required]),this.factoryForm.get("portContainerCharge")?.setValidators([a.kI.required])):(this.factoryForm.get("adCode")?.setValidators(null),this.factoryForm.get("adCodeFile")?.setValidators(null),this.factoryForm.get("portContainerCharge")?.setValidators(null)),this.factoryForm.get("adCode")?.updateValueAndValidity(),this.factoryForm.get("adCodeFile")?.updateValueAndValidity(),this.factoryForm.get("portContainerCharge")?.updateValueAndValidity()}initFactoryForm(){this.factoryForm=this.FB.group({factoryName:["",a.kI.required],area:["",a.kI.required],manpower:["",a.kI.required],isPalletizationCapability:[!0,a.kI.required],palleteSize:["",a.kI.required],PerPalleteCost:["",a.kI.required],taxId:["",a.kI.required],portContainerCharge:["",a.kI.required],adCode:["",a.kI.required],adCodeFile:["",a.kI.required],nearestPort:["",a.kI.required],isStuffingPermit:["",a.kI.required],addressLine1:["",a.kI.required],addressLine2:[""],zipCode:["",a.kI.required],countryId:["",a.kI.required],stateId:["",a.kI.required],cityName:["",a.kI.required],factoryImage:["",a.kI.required]})}get factoryFormControls(){return this.factoryForm.controls}getCountryList(){this._DCS.getCountryList().subscribe(t=>{t.meta.status?this.countries=t.data:(this.countries=[],this._notifier.showWarning(t.meta.msg,""))},t=>{this._notifier.showError("Something Went Wrong","Error")})}getStateList(t){this.selectedCountry=this.countries.find(r=>r._id===t.target.value),this._DCS.getStateList(1,150,this.selectedCountry.isoCode).subscribe(r=>{r.meta.status?this.states=r.data:(this.states=[],this._notifier.showWarning(r.meta.msg,""))},r=>{this._notifier.showError("Something Went Wrong","Error")})}addFactory(){if(this.factoryForm.valid){this.isLoading=!0;let t={...this.factoryForm.value,vendorId:this.vendorId};"false"===sessionStorage.getItem("export")&&delete t.portContainerCharge,this._DCS.addFactory(t).pipe((0,_.x)(()=>{this.isLoading=!1})).subscribe(o=>{o.meta.status?(this.router.navigate(["/vendors/detail",this.vendorId,"factory-details"]),this._notifier.showSuccess(o.meta.msg,"Success")):this._notifier.showWarning(o.meta.msg,"Error")},o=>{this._notifier.showError("Something Went Wrong","Error")})}else this.submitted=!0}countryChange(t){let r=this.countries?.find(o=>t?.target?.value===o?._id);this.countryCode=r?.isoCode,this.getStateList({target:{value:t?.target?.value}})}fileValue(t){var r=t.target.files,o=t.target.value,s=o.split(".").pop();"jpg"==s||"svg"==s||"jpeg"==s||"png"==s||"gif"==s?(o.replace(/^.*[\\\/]/,"").split(".").slice(0,-1).join("."),r&&r.length&&this.uploadImage(r)):alert("File not supported. Kindly Upload the Image of below given extension ")}fileValueAd(t){var r=t.target.value,o=r.split(".").pop();if("jpg"==o||"svg"==o||"jpeg"==o||"png"==o||"gif"==o){const s=new FormData;s.append("image",t.target.files[0]),this.isLoading=!0,this._CS.uploadImage(s).subscribe(d=>{if(d.meta.status){var g=r.replace(/^.*[\\\/]/,"").split(".").slice(0,-1).join(".");document.getElementById("filename").innerHTML=g,this.factoryForm.get("adCodeFile")?.setValue(d.data),this.isLoading=!1,this._notifier.showSuccess(d.meta.msg,"Success")}else this.isLoading=!1,this._notifier.showWarning(d.meta.msg,"")},d=>{this.isLoading=!1})}else alert("File not supported. Kindly Upload the Image of below given extension ")}uploadImage(t){this.ngxService.start();let r=new FormData;for(var o=0;o<t.length;o++)r.append("image",t[o]);this._CS.uploadMultipleImage(r).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(s=>{s.meta.status?(this.factoryImages.push(...s?.data),this.factoryForm.get("factoryImage")?.reset(this.factoryImages)):this._notifier.showError(s.meta.msg,"Error")})}removeFile(t){this.ngxService.start();let r={filePath:t.split("/").pop()};this._CS.removeFile(r).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(o=>{if(o.meta.status){const s=this.factoryImages.indexOf(t);this.factoryImages.splice(s,1),this.factoryForm.get("factoryImage")?.reset(this.factoryImages)}else this._notifier.showWarning(o.meta.msg,"")})}getPort(){this.ngxService.start(),this._CS.getAppConfigByKey("MAPPED_PORT").pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(t=>{t.meta.status?this.ports=t.data.value.split("|").map(r=>({value:r=r.trim(),label:r})):(this.ports=[],this._notifier.showWarning(t.meta.msg,""))})}handleChange(t){"true"==t.target.value?(this.factoryForm.get("palleteSize")?.setValidators([a.kI.required]),this.factoryForm.get("PerPalleteCost")?.setValidators([a.kI.required])):(this.factoryForm.get("palleteSize")?.setValidators(null),this.factoryForm.get("PerPalleteCost")?.setValidators(null)),this.factoryForm.get("palleteSize")?.updateValueAndValidity(),this.factoryForm.get("PerPalleteCost")?.updateValueAndValidity()}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(p.LA),e.Y36(a.qu),e.Y36(h.lG),e.Y36(m.F0),e.Y36(U.x),e.Y36(h.v_),e.Y36(m.gz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-factory"]],decls:137,vars:64,consts:[[1,"dashboardMain"],[1,"page-header"],["href","javascript:history.back()",1,"back-arrow"],[1,"bi","bi-arrow-left-short","me-4"],[1,"account_dashboard","profile_dashboard"],[1,"login-white-box",3,"formGroup"],[1,"form-box"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-4"],[1,"form-group"],["type","text","placeholder","Enter Factory Name","formControlName","factoryName",1,"form-control","form-ctrl",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Enter Area","formControlName","area",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","00000","formControlName","manpower",1,"form-control","form-ctrl",3,"ngClass"],[1,"form-group","d-flex","reasonForm","mb-0","mt-4"],[1,"me-4"],[1,"form-check","form-check-inline","radioBlue"],["type","radio","formControlName","isPalletizationCapability",1,"form-check-input",3,"value","change"],[1,"form-check","form-check-inline","radioBlue","ms-4"],["style","display: block;","class","invalid-feedback",4,"ngIf"],["class","col-12 col-sm-6 col-md-4 col-lg-4",4,"ngIf"],["type","text","placeholder","Enter TAX ID","formControlName","taxId",1,"form-control","form-ctrl",3,"ngClass"],["formControlName","isStuffingPermit",1,"form-control","form-ctrl",3,"ngClass"],["value","","hidden",""],[3,"value"],["formControlName","nearestPort",1,"form-control","form-ctrl",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Enter Line 1","formControlName","addressLine1",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Enter Line 2","formControlName","addressLine2",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Enter PIN/ZIP Code","formControlName","zipCode",1,"form-control","form-ctrl",3,"ngClass"],["formControlName","countryId",1,"form-control","form-ctrl",3,"ngClass","change"],["formControlName","stateId",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Enter City","formControlName","cityName",1,"form-control","form-ctrl",3,"ngClass"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"form-group","mb-0"],[1,"upload-doc","d-flex","flex-wrap"],[1,"image-upload"],["type","file","name","","accept",".png, .jpg, .jpeg","multiple","",3,"change"],["factoryFileInput",""],["for","logo2","id","file-label1",1,"upload-field",3,"click"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/upload-icon.png","alt",""],["id","filename"],[1,"imageList"],["class","form-check-inline text-center ms-4",4,"ngFor","ngForOf"],[1,"text-end","main_btn","mt-3"],["href","javascript:history.back()",1,"btn","btn-light","me-3"],[1,"btn","btn-success",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[1,"invalid-feedback",2,"display","block"],["type","text","placeholder","Pallete Size","formControlName","palleteSize",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Per Pallete Cost","formControlName","PerPalleteCost",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Enter Port Container Charges","formControlName","portContainerCharge",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Enter AD Code","formControlName","adCode",1,"form-control","form-ctrl",3,"ngClass"],[1,"file-form-control"],[1,"upload-doc-item"],["type","file","name","","accept","image/*","id","logo1",3,"disabled","change"],["for","logo1","id","file-label",1,"upload-field"],["id","file-image-preview","src","assets/images/mc.png","alt",""],[1,"Upload-btn","btn","btn-success"],[1,"fa",3,"ngClass"],[1,"form-check-inline","text-center","ms-4"],["role","alert",1,"alert-photo","mb-2","alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"alert-photo-img"],[3,"src"]],template:function(r,o){if(1&r){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h3")(3,"a",2),e._UZ(4,"i",3),e.qZA(),e._uU(5," Add Factory "),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label"),e._uU(13,"Factory Name*"),e.qZA(),e._UZ(14,"input",10),e.YNc(15,Dt,2,1,"div",11),e.qZA()(),e.TgZ(16,"div",8)(17,"div",9)(18,"label"),e._uU(19,"Factory Area (in sq.ft.)*"),e.qZA(),e._UZ(20,"input",12),e.YNc(21,Wt,2,1,"div",11),e.qZA()(),e.TgZ(22,"div",8)(23,"div",9)(24,"label"),e._uU(25,"Manpower*"),e.qZA(),e._UZ(26,"input",13),e.YNc(27,Kt,2,1,"div",11),e.qZA()(),e.TgZ(28,"div",8)(29,"div",14)(30,"label",15),e._uU(31,"Palletization Capability*"),e.qZA(),e.TgZ(32,"div")(33,"div",16)(34,"label")(35,"input",17),e.NdJ("change",function(g){return o.handleChange(g)}),e.qZA(),e._uU(36," Yes "),e.qZA()(),e.TgZ(37,"div",18)(38,"label")(39,"input",17),e.NdJ("change",function(g){return o.handleChange(g)}),e.qZA(),e._uU(40," No"),e.qZA()()()(),e.YNc(41,zt,2,1,"div",19),e.qZA(),e.YNc(42,Bt,6,4,"div",20),e.YNc(43,Xt,6,4,"div",20),e.TgZ(44,"div",8)(45,"div",9)(46,"label"),e._uU(47,"TAX ID*"),e.qZA(),e._UZ(48,"input",21),e.YNc(49,ti,2,1,"div",11),e.qZA()(),e.TgZ(50,"div",8)(51,"div",9)(52,"label"),e._uU(53,"Factory stuffing permit*"),e.qZA(),e.TgZ(54,"select",22)(55,"option",23),e._uU(56,"Factory stuffing permit"),e.qZA(),e.TgZ(57,"option",24),e._uU(58,"Yes"),e.qZA(),e.TgZ(59,"option",24),e._uU(60,"No"),e.qZA()(),e.YNc(61,oi,2,1,"div",11),e.qZA()(),e.YNc(62,si,6,4,"div",20),e.YNc(63,li,6,4,"div",20),e.YNc(64,pi,17,5,"div",20),e.TgZ(65,"div",8)(66,"div",9)(67,"label"),e._uU(68,"Nearest Port*"),e.qZA(),e.TgZ(69,"select",25)(70,"option",23),e._uU(71,"Select"),e.qZA(),e.YNc(72,gi,2,2,"option",26),e.qZA(),e.YNc(73,fi,2,1,"div",11),e.qZA()(),e.TgZ(74,"div",8)(75,"div",9)(76,"label"),e._uU(77,"Address Line 1*"),e.qZA(),e._UZ(78,"input",27),e.YNc(79,vi,2,1,"div",11),e.qZA()(),e.TgZ(80,"div",8)(81,"div",9)(82,"label"),e._uU(83,"Address Line 2"),e.qZA(),e._UZ(84,"input",28),e.YNc(85,Ci,2,1,"div",11),e.qZA()(),e.TgZ(86,"div",8)(87,"div",9)(88,"label"),e._uU(89,"PIN/ZIP Code*"),e.qZA(),e._UZ(90,"input",29),e.YNc(91,bi,2,1,"div",11),e.qZA()(),e.TgZ(92,"div",8)(93,"div",9)(94,"label"),e._uU(95,"Country*"),e.qZA(),e.TgZ(96,"select",30),e.NdJ("change",function(g){return o.countryChange(g)}),e.TgZ(97,"option",23),e._uU(98,"Select Country"),e.qZA(),e.YNc(99,yi,2,2,"option",26),e.qZA(),e.YNc(100,Ai,2,1,"div",11),e.qZA()(),e.TgZ(101,"div",8)(102,"div",9)(103,"label"),e._uU(104,"State*"),e.qZA(),e.TgZ(105,"select",31)(106,"option",23),e._uU(107,"Select State"),e.qZA(),e.YNc(108,xi,2,2,"option",26),e.qZA(),e.YNc(109,Fi,2,1,"div",11),e.qZA()(),e.TgZ(110,"div",8)(111,"div",9)(112,"label"),e._uU(113,"City*"),e.qZA(),e._UZ(114,"input",32),e.YNc(115,wi,2,1,"div",11),e.qZA()(),e.TgZ(116,"div",33)(117,"div",34)(118,"label"),e._uU(119,"Upload Factory Images*"),e.qZA(),e.TgZ(120,"div",35)(121,"div",36)(122,"input",37,38),e.NdJ("change",function(g){return o.fileValue(g)}),e.qZA(),e.TgZ(124,"label",39),e.NdJ("click",function(){e.CHM(s);const g=e.MAs(123);return e.KtG(g.click())}),e.TgZ(125,"div",40),e._UZ(126,"img",41)(127,"br")(128,"h6",42),e.qZA()()(),e.TgZ(129,"div",43),e.YNc(130,Ni,5,1,"div",44),e.qZA()(),e.YNc(131,ki,2,1,"div",19),e.qZA()()(),e.TgZ(132,"div",45)(133,"a",46),e._uU(134,"Cancel"),e.qZA(),e.TgZ(135,"button",47),e.NdJ("click",function(){return o.addFactory()}),e._uU(136,"Submit"),e.qZA()()()()()()}2&r&&(e.xp6(7),e.Q6J("formGroup",o.factoryForm),e.xp6(7),e.Q6J("ngClass",e.VKq(40,Z,o.submitted&&o.factoryFormControls.factoryName.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.factoryName.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(42,Z,o.submitted&&o.factoryFormControls.area.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.area.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(44,Z,o.submitted&&o.factoryFormControls.manpower.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.manpower.errors),e.xp6(8),e.Q6J("value",!0),e.xp6(4),e.Q6J("value",!1),e.xp6(2),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.isPalletizationCapability.errors),e.xp6(1),e.Q6J("ngIf",!0===o.factoryForm.value.isPalletizationCapability),e.xp6(1),e.Q6J("ngIf",!0===o.factoryForm.value.isPalletizationCapability),e.xp6(5),e.Q6J("ngClass",e.VKq(46,Z,o.submitted&&o.factoryFormControls.taxId.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.taxId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(48,Z,o.submitted&&o.factoryFormControls.isStuffingPermit.errors)),e.xp6(3),e.Q6J("value",!0),e.xp6(2),e.Q6J("value",!1),e.xp6(2),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.isStuffingPermit.errors),e.xp6(1),e.Q6J("ngIf",o.isExported),e.xp6(1),e.Q6J("ngIf",o.isExported),e.xp6(1),e.Q6J("ngIf",o.isExported),e.xp6(5),e.Q6J("ngClass",e.VKq(50,Z,o.submitted&&o.factoryFormControls.nearestPort.errors)),e.xp6(3),e.Q6J("ngForOf",o.ports),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.nearestPort.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(52,Z,o.submitted&&o.factoryFormControls.addressLine1.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.addressLine1.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(54,Z,o.submitted&&o.factoryFormControls.addressLine2.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.addressLine2.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(56,Z,o.submitted&&o.factoryFormControls.zipCode.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.zipCode.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(58,Z,o.submitted&&o.factoryFormControls.countryId.errors)),e.xp6(3),e.Q6J("ngForOf",o.countries),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.countryId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(60,Z,o.submitted&&o.factoryFormControls.stateId.errors)),e.xp6(3),e.Q6J("ngForOf",o.states),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.stateId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(62,Z,o.submitted&&o.factoryFormControls.cityName.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.cityName.errors),e.xp6(15),e.Q6J("ngForOf",o.factoryImages),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.factoryImage.errors))},dependencies:[u.mk,u.sg,u.O5,a.YN,a.Kr,a.Fj,a.EJ,a._,a.JJ,a.JL,a.sg,a.u]})}return i})();function Si(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Warehouse name is required. "),e.qZA())}function Vi(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Si,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.warehouseName.errors.required)}}function Qi(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Warehouse area is required. "),e.qZA())}function Ei(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Qi,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.area.errors.required)}}function Li(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Warehouse stuffing permit is required. "),e.qZA())}function Yi(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Li,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.isStuffingPermit.errors.required)}}function Di(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Palletization Capability is required. "),e.qZA())}function Mi(i,n){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,Di,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.isPalletizationCapability.errors.required)}}function Wi(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Pallete Size is required. "),e.qZA())}function $i(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Wi,2,0,"div",49),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.palleteSize.errors.required)}}const q=function(i){return{"is-invalid":i}};function Ki(i,n){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"label"),e._uU(3,"Pallete Size*"),e.qZA(),e._UZ(4,"input",51),e.YNc(5,$i,2,1,"div",11),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngClass",e.VKq(2,q,t.submitted&&t.warehouseFormControls.palleteSize.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.warehouseFormControls.palleteSize.errors)}}function Oi(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Per Pallete Cost is required. "),e.qZA())}function zi(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Oi,2,0,"div",49),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.PerPalleteCost.errors.required)}}function ji(i,n){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"label"),e._uU(3,"Per Pallete Cost"),e.qZA(),e._UZ(4,"input",52),e.YNc(5,zi,2,1,"div",11),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngClass",e.VKq(2,q,t.submitted&&t.warehouseFormControls.PerPalleteCost.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.warehouseFormControls.PerPalleteCost.errors)}}function Gi(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," TAX ID is required. "),e.qZA())}function Bi(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Gi,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.taxId.errors.required)}}function Ri(i,n){if(1&i&&(e.TgZ(0,"option",15),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t.value),e.xp6(1),e.hij("",t.label," ")}}function Hi(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Nearest Port is required. "),e.qZA())}function Xi(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Hi,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.nearestPort.errors.required)}}function eo(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Address Line 1 is required. "),e.qZA())}function to(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,eo,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.addressLine1.errors.required)}}function io(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Address Line 2 is required. "),e.qZA())}function oo(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,io,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.addressLine2.errors.required)}}function ro(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," PIN/ZIP Code is required. "),e.qZA())}function no(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,ro,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.zipCode.errors.required)}}function so(i,n){if(1&i&&(e.TgZ(0,"option",15),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function ao(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Country is required. "),e.qZA())}function lo(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,ao,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.countryId.errors.required)}}function co(i,n){if(1&i&&(e.TgZ(0,"option",15),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function uo(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," State is required. "),e.qZA())}function mo(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,uo,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.stateId.errors.required)}}function po(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," City is required. "),e.qZA())}function go(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,po,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.cityName.errors.required)}}function _o(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",53)(1,"div",54)(2,"button",55),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.removeFile(s))}),e.qZA(),e.TgZ(3,"div",56),e._UZ(4,"img",57),e.qZA()()()}if(2&i){const t=n.$implicit;e.xp6(4),e.Q6J("src",t,e.LSH)}}function fo(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Warehouse Image is required. "),e.qZA())}function ho(i,n){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,fo,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.warehouseImage.errors.required)}}const vo=function(i){return{"fa-spin fa-spinner":i}};let Zo=(()=>{class i{constructor(t,r,o,s,d,g,v){this.ngxService=t,this._FB=r,this._notifier=o,this.router=s,this.routes=d,this._CS=g,this._DCS=v,this.countries=[],this.submitted=!1,this.isLoading=!1,this.productImages=[],this.states=[],this.ports=[]}ngOnInit(){this.initWarehouseForm(),this.getPort(),this.getCountryList(),this.routes.params.subscribe(t=>{t&&t.vendorId&&(this.vendorId=t.vendorId)})}initWarehouseForm(){this.warehouseForm=this._FB.group({warehouseName:["",a.kI.required],area:["",a.kI.required],isPalletizationCapability:[!0,a.kI.required],palleteSize:["",a.kI.required],PerPalleteCost:["",a.kI.required],taxId:["",a.kI.required],isStuffingPermit:["",a.kI.required],nearestPort:["",a.kI.required],addressLine1:["",a.kI.required],addressLine2:[""],zipCode:["",a.kI.required],countryId:["",a.kI.required],stateId:["",a.kI.required],cityName:["",a.kI.required],warehouseImage:["",a.kI.required]})}get warehouseFormControls(){return this.warehouseForm.controls}getCountryList(){this._DCS.getCountryList().subscribe(t=>{t.meta.status?this.countries=t.data:(this.countries=[],this._notifier.showWarning(t.meta.msg,""))},t=>{this._notifier.showError("Something Went Wrong","Error")})}getStateList(t){this.selectedCountry=this.countries.find(r=>r._id===t.target.value),this._DCS.getStateList(1,150,this.selectedCountry.isoCode).subscribe(r=>{r.meta.status?this.states=r.data:(this.states=[],this._notifier.showWarning(r.meta.msg,""))},r=>{this._notifier.showError("Something Went Wrong","Error")})}countryChange(t){let r=this.countries?.find(o=>t?.target?.value===o?._id);this.countryCode=r?.isoCode,this.getStateList({target:{value:t.target.value}})}fileValue(t){var r=t.target.files,o=t.target.value,s=o.split(".").pop();"jpg"==s||"svg"==s||"jpeg"==s||"png"==s||"gif"==s?(o.replace(/^.*[\\\/]/,"").split(".").slice(0,-1).join("."),r&&r.length&&this.uploadImage(r)):alert("File not supported. Kindly Upload the Image of below given extension ")}uploadImage(t){this.ngxService.start();let r=new FormData;for(var o=0;o<t.length;o++)r.append("image",t[o]);this._CS.uploadMultipleImage(r).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(s=>{s.meta.status?(this.productImages.push(...s?.data),this.warehouseForm.get("warehouseImage")?.reset(this.productImages)):this._notifier.showError(s.meta.msg,"Error")})}removeFile(t){this.ngxService.start();let r={filePath:t.split("/").pop()};this._CS.removeFile(r).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(o=>{if(o.meta.status){const s=this.productImages.indexOf(t);this.productImages.splice(s,1),this.warehouseForm.get("warehouseImage")?.reset(this.productImages)}else this._notifier.showError(o.meta.msg,"Error")})}addWarehouse(){if(this.warehouseForm.valid){this.isLoading=!0;let t={...this.warehouseForm.value,vendorId:this.vendorId};this._DCS.addWarehouse(t).pipe((0,_.x)(()=>{this.isLoading=!1})).subscribe(r=>{r.meta.status?(this.router.navigate(["/vendors/detail",this.vendorId,"factory-details"]),this._notifier.showSuccess(r.meta.msg,"Success")):this._notifier.showWarning(r.meta.msg,"")},r=>{this._notifier.showError("Something Went Wrong","Error")})}else this.submitted=!0}getPort(){this.ngxService.start(),this._CS.getAppConfigByKey("MAPPED_PORT").pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(t=>{t.meta.status?this.ports=t.data.value.split("|").map(r=>({value:r=r.trim(),label:r})):(this.ports=[],this._notifier.showWarning(t.meta.msg,""))})}handleChange(t){"true"==t.target.value?(this.warehouseForm.get("palleteSize")?.setValidators([a.kI.required]),this.warehouseForm.get("PerPalleteCost")?.setValidators([a.kI.required])):(this.warehouseForm.get("palleteSize")?.setValidators(null),this.warehouseForm.get("PerPalleteCost")?.setValidators(null)),this.warehouseForm.get("palleteSize")?.updateValueAndValidity(),this.warehouseForm.get("PerPalleteCost")?.updateValueAndValidity()}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(p.LA),e.Y36(a.qu),e.Y36(h.lG),e.Y36(m.F0),e.Y36(m.gz),e.Y36(h.v_),e.Y36(U.x))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-warehouse"]],decls:130,vars:61,consts:[[1,"dashboardMain"],[1,"page-header"],["href","javascript:history.back()",1,"back-arrow"],[1,"bi","bi-arrow-left-short","me-4"],[1,"account_dashboard","profile_dashboard"],[1,"login-white-box",3,"formGroup"],[1,"form-box"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-4"],[1,"form-group"],["type","text","placeholder","Enter Warehouse Name","formControlName","warehouseName",1,"form-control","form-ctrl",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Enter Area","formControlName","area",1,"form-control","form-ctrl",3,"ngClass"],["formControlName","isStuffingPermit",1,"form-control","form-ctrl",3,"ngClass"],["value","","hidden",""],[3,"value"],[1,"form-group","d-flex","reasonForm","mb-0","mt-4"],[1,"me-4"],[1,"form-check","form-check-inline","radioBlue"],["type","radio","formControlName","isPalletizationCapability",1,"form-check-input",3,"value","change"],[1,"form-check","form-check-inline","radioBlue","ms-4"],["style","display: block;","class","invalid-feedback",4,"ngIf"],["class","col-12 col-sm-6 col-md-4 col-lg-4",4,"ngIf"],["type","text","placeholder","Enter TAX ID","formControlName","taxId",1,"form-control","form-ctrl",3,"ngClass"],["formControlName","nearestPort",1,"form-control","form-ctrl",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Enter Line 1","formControlName","addressLine1",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Enter Line 2","formControlName","addressLine2",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Enter PIN/ZIP Code","formControlName","zipCode",1,"form-control","form-ctrl",3,"ngClass"],["formControlName","countryId",1,"form-control","form-ctrl",3,"ngClass","change"],["formControlName","stateId",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Enter City","formControlName","cityName",1,"form-control","form-ctrl",3,"ngClass"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"form-group","mb-0"],[1,"upload-doc","d-flex","flex-wrap"],[1,"image-upload"],["type","file","name","","id","logowarehouse","accept",".png, .jpg, .jpeg","multiple","",3,"change"],["factoryFileInput",""],["for","logowarehouse","id","file-label",1,"upload-field"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/upload-icon.png","alt",""],["id","filename"],[1,"imageList"],["class","form-check-inline text-center ms-4",4,"ngFor","ngForOf"],[1,"text-end","main_btn","mt-3"],["href","javascript:history.back()",1,"btn","btn-light","me-3"],[1,"btn","btn-success",3,"disabled","click"],[1,"fa",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],[1,"invalid-feedback",2,"display","block"],["type","text","placeholder","Pallete Size","formControlName","palleteSize",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Per Pallete Cost","formControlName","PerPalleteCost",1,"form-control","form-ctrl",3,"ngClass"],[1,"form-check-inline","text-center","ms-4"],["role","alert",1,"alert-photo","mb-2","alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"alert-photo-img"],[3,"src"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3")(3,"a",2),e._UZ(4,"i",3),e.qZA(),e._uU(5," Add Warehouse "),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label"),e._uU(13,"Warehouse Name*"),e.qZA(),e._UZ(14,"input",10),e.YNc(15,Vi,2,1,"div",11),e.qZA()(),e.TgZ(16,"div",8)(17,"div",9)(18,"label"),e._uU(19,"Warehouse Area (in sq.ft.)*"),e.qZA(),e._UZ(20,"input",12),e.YNc(21,Ei,2,1,"div",11),e.qZA()(),e.TgZ(22,"div",8)(23,"div",9)(24,"label"),e._uU(25,"Warehouse stuffing permit*"),e.qZA(),e.TgZ(26,"select",13)(27,"option",14),e._uU(28,"Warehouse stuffing permit"),e.qZA(),e.TgZ(29,"option",15),e._uU(30,"Yes"),e.qZA(),e.TgZ(31,"option",15),e._uU(32,"No"),e.qZA()(),e.YNc(33,Yi,2,1,"div",11),e.qZA()(),e.TgZ(34,"div",8)(35,"div",16)(36,"label",17),e._uU(37,"Palletization Capability*"),e.qZA(),e.TgZ(38,"div")(39,"div",18)(40,"label")(41,"input",19),e.NdJ("change",function(d){return o.handleChange(d)}),e.qZA(),e._uU(42," Yes"),e.qZA()(),e.TgZ(43,"div",20)(44,"label")(45,"input",19),e.NdJ("change",function(d){return o.handleChange(d)}),e.qZA(),e._uU(46," No"),e.qZA()()()(),e.YNc(47,Mi,2,1,"div",21),e.qZA(),e.YNc(48,Ki,6,4,"div",22),e.YNc(49,ji,6,4,"div",22),e.TgZ(50,"div",8)(51,"div",9)(52,"label"),e._uU(53,"TAX ID*"),e.qZA(),e._UZ(54,"input",23),e.YNc(55,Bi,2,1,"div",11),e.qZA()(),e.TgZ(56,"div",8)(57,"div",9)(58,"label"),e._uU(59,"Nearest Port*"),e.qZA(),e.TgZ(60,"select",24)(61,"option",14),e._uU(62,"Select"),e.qZA(),e.YNc(63,Ri,2,2,"option",25),e.qZA(),e.YNc(64,Xi,2,1,"div",11),e.qZA()()(),e.TgZ(65,"div",7)(66,"div",8)(67,"div",9)(68,"label"),e._uU(69,"Address Line 1*"),e.qZA(),e._UZ(70,"input",26),e.YNc(71,to,2,1,"div",11),e.qZA()(),e.TgZ(72,"div",8)(73,"div",9)(74,"label"),e._uU(75,"Address Line 2"),e.qZA(),e._UZ(76,"input",27),e.YNc(77,oo,2,1,"div",11),e.qZA()(),e.TgZ(78,"div",8)(79,"div",9)(80,"label"),e._uU(81,"PIN/ZIP Code*"),e.qZA(),e._UZ(82,"input",28),e.YNc(83,no,2,1,"div",11),e.qZA()(),e.TgZ(84,"div",8)(85,"div",9)(86,"label"),e._uU(87,"Country*"),e.qZA(),e.TgZ(88,"select",29),e.NdJ("change",function(d){return o.countryChange(d)}),e.TgZ(89,"option",14),e._uU(90,"Select Country"),e.qZA(),e.YNc(91,so,2,2,"option",25),e.qZA(),e.YNc(92,lo,2,1,"div",11),e.qZA()(),e.TgZ(93,"div",8)(94,"div",9)(95,"label"),e._uU(96,"State*"),e.qZA(),e.TgZ(97,"select",30)(98,"option",14),e._uU(99,"Select State"),e.qZA(),e.YNc(100,co,2,2,"option",25),e.qZA(),e.YNc(101,mo,2,1,"div",11),e.qZA()(),e.TgZ(102,"div",8)(103,"div",9)(104,"label"),e._uU(105,"City*"),e.qZA(),e._UZ(106,"input",31),e.YNc(107,go,2,1,"div",11),e.qZA()(),e.TgZ(108,"div",32)(109,"div",33)(110,"label"),e._uU(111,"Upload Warehouse Images*"),e.qZA(),e.TgZ(112,"div",34)(113,"div",35)(114,"input",36,37),e.NdJ("change",function(d){return o.fileValue(d)}),e.qZA(),e.TgZ(116,"label",38)(117,"div",39),e._UZ(118,"img",40)(119,"br")(120,"h6",41),e.qZA()()(),e.TgZ(121,"div",42),e.YNc(122,_o,5,1,"div",43),e.qZA()(),e.YNc(123,ho,2,1,"div",21),e.qZA()()(),e.TgZ(124,"div",44)(125,"a",45),e._uU(126,"Cancel"),e.qZA(),e.TgZ(127,"button",46),e.NdJ("click",function(){return o.addWarehouse()}),e._UZ(128,"i",47),e._uU(129," Save"),e.qZA()()()()()()),2&r&&(e.xp6(7),e.Q6J("formGroup",o.warehouseForm),e.xp6(7),e.Q6J("ngClass",e.VKq(37,q,o.submitted&&o.warehouseFormControls.warehouseName.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.warehouseName.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(39,q,o.submitted&&o.warehouseFormControls.area.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.area.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(41,q,o.submitted&&o.warehouseFormControls.isStuffingPermit.errors)),e.xp6(3),e.Q6J("value",!0),e.xp6(2),e.Q6J("value",!1),e.xp6(2),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.isStuffingPermit.errors),e.xp6(8),e.Q6J("value",!0),e.xp6(4),e.Q6J("value",!1),e.xp6(2),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.isPalletizationCapability.errors),e.xp6(1),e.Q6J("ngIf",!0===o.warehouseForm.value.isPalletizationCapability),e.xp6(1),e.Q6J("ngIf",!0===o.warehouseForm.value.isPalletizationCapability),e.xp6(5),e.Q6J("ngClass",e.VKq(43,q,o.submitted&&o.warehouseFormControls.taxId.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.taxId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(45,q,o.submitted&&o.warehouseFormControls.nearestPort.errors)),e.xp6(3),e.Q6J("ngForOf",o.ports),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.nearestPort.errors),e.xp6(6),e.Q6J("ngClass",e.VKq(47,q,o.submitted&&o.warehouseFormControls.addressLine1.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.addressLine1.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(49,q,o.submitted&&o.warehouseFormControls.addressLine2.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.addressLine2.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(51,q,o.submitted&&o.warehouseFormControls.zipCode.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.zipCode.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(53,q,o.submitted&&o.warehouseFormControls.countryId.errors)),e.xp6(3),e.Q6J("ngForOf",o.countries),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.countryId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(55,q,o.submitted&&o.warehouseFormControls.stateId.errors)),e.xp6(3),e.Q6J("ngForOf",o.states),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.stateId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(57,q,o.submitted&&o.warehouseFormControls.cityName.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.cityName.errors),e.xp6(15),e.Q6J("ngForOf",o.productImages),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.warehouseImage.errors),e.xp6(4),e.Q6J("disabled",o.isLoading),e.xp6(1),e.Q6J("ngClass",e.VKq(59,vo,o.isLoading)))},dependencies:[u.mk,u.sg,u.O5,a.YN,a.Kr,a.Fj,a.EJ,a._,a.JJ,a.JL,a.sg,a.u]})}return i})();function Co(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Machine name is required. "),e.qZA())}function qo(i,n){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,Co,2,0,"div",34),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.machineFormControls.machineName.errors.required)}}function bo(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Machine Model is required. "),e.qZA())}function yo(i,n){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,bo,2,0,"div",34),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.machineFormControls.model.errors.required)}}function To(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," No of Machines is required. "),e.qZA())}function Ao(i,n){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,To,2,0,"div",34),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.machineFormControls.count.errors.required)}}function xo(i,n){if(1&i&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t._id),e.Q6J("id","product"+t._id),e.xp6(1),e.AsE("",t.vendorProductId,": ",t.adminProduct.productName," ")}}function Io(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," product is required. "),e.qZA())}function Fo(i,n){if(1&i&&(e.TgZ(0,"div",36),e.YNc(1,Io,2,0,"div",34),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.machineFormControls.vendorProductIds.errors.required)}}function Uo(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",37)(1,"div",38)(2,"button",39),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.removeFile("image",s))}),e.qZA(),e.TgZ(3,"div",40),e._UZ(4,"img",41),e.qZA()()()}if(2&i){const t=n.$implicit;e.xp6(4),e.Q6J("src",t,e.LSH)}}function wo(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Machine Image is required. "),e.qZA())}function No(i,n){if(1&i&&(e.TgZ(0,"div",36),e.YNc(1,wo,2,0,"div",34),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.machineFormControls.machineImage.errors.required)}}const L=function(i){return{"is-invalid":i}},Jo=function(i){return{"fa-spin fa-spinner":i}};let ko=(()=>{class i{constructor(t,r,o,s,d,g,v){this.ngxService=t,this._FB=r,this._notifier=o,this._CS=s,this._DCS=d,this.router=g,this.routes=v,this.productsList=[],this.isLoading=!1,this.productImages=[],this.submitted=!1,this.selectedProducts=[],this.selectDynamicVal=[],this.productIds=[]}ngOnInit(){this.initMachineForm(),this.routes.params.subscribe(t=>{t&&t.factoryId&&(this.factoryId=t.factoryId,this.vendorId=t.vendorId,this.getProducts())})}initMachineForm(){this.machineForm=this._FB.group({machineName:["",a.kI.required],model:[""],count:["",a.kI.required],vendorProductIds:["",a.kI.required],machineImage:["",a.kI.required]})}get machineFormControls(){return this.machineForm.controls}getProducts(){this.ngxService.start(),this._DCS.getVendorProductList(this.vendorId).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(t=>{t.meta.status?(this.productsList=t?.data,setTimeout(()=>{$(".selectpicker").selectpicker({multiple:!0}),$(".selectpicker").on("change",()=>{this.productIds=this.machineForm.value.vendorProductIds,this.productsList.map((r,o)=>{this.productIds.map(s=>{s===r?._id&&(this.selectDynamicVal=r?.adminProduct?.productName)})}),this.productIds?.includes("selectAll")&&this.productsList.map(r=>{this.productIds.push(r?._id)})})},100)):this._notifier.showError(t.meta.msg,"Error")})}fileValue(t){var r=t.target.files,o=t.target.value,s=o.split(".").pop();"jpg"==s||"svg"==s||"jpeg"==s||"png"==s||"gif"==s?(o.replace(/^.*[\\\/]/,"").split(".").slice(0,-1).join("."),r&&r.length&&this.uploadImage(r)):alert("File not supported. Kindly Upload the Image of below given extension ")}uploadImage(t){this.ngxService.start();let r=new FormData;for(var o=0;o<t.length;o++)r.append("image",t[o]);this._CS.uploadMultipleImage(r).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(s=>{s.meta.status?(this.productImages.push(...s?.data),this.machineForm.get("machineImage")?.reset(this.productImages)):this._notifier.showError(s.meta.msg,"Error")})}removeFile(t,r){this.ngxService.start();let o={filePath:r.split("/").pop()};this._CS.removeFile(o).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(s=>{if(s.meta.status){const d=this.productImages.indexOf(r);this.productImages.splice(d,1),this.machineForm.get("machineImage")?.reset(this.productImages)}else this._notifier.showError(s.meta.msg,"Error")})}addMachine(){if(this.machineForm.valid){this.isLoading=!0;let t={...this.machineForm.value,factoryId:this.factoryId,vendorId:this.vendorId};this._DCS.addMachine(t).pipe((0,_.x)(()=>{this.isLoading=!1})).subscribe(r=>{r.meta.status?(this.router.navigate(["/vendors/factory-detail",this.factoryId,this.vendorId]),this._notifier.showSuccess(r.meta.msg,"Success")):this._notifier.showWarning(r.meta.msg,"")},r=>{this._notifier.showError("Something Went Wrong","Error")})}else this.submitted=!0}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(p.LA),e.Y36(a.qu),e.Y36(h.lG),e.Y36(h.v_),e.Y36(U.x),e.Y36(m.F0),e.Y36(m.gz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-machine"]],decls:57,vars:24,consts:[[1,"dashboardMain"],[1,"page-header"],["href","javascript:history.back()",1,"back-arrow"],[1,"bi","bi-arrow-left-short","me-4"],[1,"account_dashboard","profile_dashboard"],[1,"login-white-box",3,"formGroup"],[1,"form-box"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-4"],[1,"form-group"],["type","text","placeholder","Enter Machine Name*","formControlName","machineName",1,"form-control","form-ctrl",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Enter Machine Model","formControlName","model",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","00","formControlName","count",1,"form-control","form-ctrl",3,"ngClass"],["data-selected-text-format","count","multiple","","aria-label","Default select example","name","productIds","data-live-search","true","formControlName","vendorProductIds",1,"form-control","form-ctrl","selectpicker",3,"ngClass"],[3,"id","value",4,"ngFor","ngForOf"],["style","display: block;","class","invalid-feedback",4,"ngIf"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"form-group","mb-0"],[1,"upload-doc","d-flex","flex-wrap"],[1,"image-upload"],["type","file","name","","id","logoMachine","accept",".png, .jpg, .jpeg","multiple","",3,"change"],["factoryFileInput",""],["for","logoMachine","id","file-label",1,"upload-field"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/upload-icon.png","alt",""],["id","filename"],[1,"imageList"],["class","form-check-inline text-center ms-4",4,"ngFor","ngForOf"],[1,"text-end","main_btn","mt-3"],["href","javascript:history.back()",1,"btn","btn-light","me-3"],[1,"btn","btn-success",3,"disabled","click"],[1,"fa",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],[3,"id","value"],[1,"invalid-feedback",2,"display","block"],[1,"form-check-inline","text-center","ms-4"],["role","alert",1,"alert-photo","mb-2","alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"alert-photo-img"],["alt","",3,"src"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3")(3,"a",2),e._UZ(4,"i",3),e.qZA(),e._uU(5," Add Machine "),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label"),e._uU(13,"Machine Name*"),e.qZA(),e._UZ(14,"input",10),e.YNc(15,qo,2,1,"div",11),e.qZA()(),e.TgZ(16,"div",8)(17,"div",9)(18,"label"),e._uU(19,"Machine Model"),e.qZA(),e._UZ(20,"input",12),e.YNc(21,yo,2,1,"div",11),e.qZA()(),e.TgZ(22,"div",8)(23,"div",9)(24,"label"),e._uU(25,"No of Machines*"),e.qZA(),e._UZ(26,"input",13),e.YNc(27,Ao,2,1,"div",11),e.qZA()(),e.TgZ(28,"div",8)(29,"div",9)(30,"label"),e._uU(31,"Products*"),e.qZA(),e.TgZ(32,"select",14),e.YNc(33,xo,2,4,"option",15),e.qZA(),e.YNc(34,Fo,2,1,"div",16),e.qZA()(),e.TgZ(35,"div",17)(36,"div",18)(37,"label"),e._uU(38,"Upload Machine Images*"),e.qZA(),e.TgZ(39,"div",19)(40,"div",20)(41,"input",21,22),e.NdJ("change",function(d){return o.fileValue(d)}),e.qZA(),e.TgZ(43,"label",23)(44,"div",24),e._UZ(45,"img",25)(46,"br")(47,"h6",26),e.qZA()()(),e.TgZ(48,"div",27),e.YNc(49,Uo,5,1,"div",28),e.qZA()(),e.YNc(50,No,2,1,"div",16),e.qZA()()(),e.TgZ(51,"div",29)(52,"a",30),e._uU(53,"Cancel"),e.qZA(),e.TgZ(54,"button",31),e.NdJ("click",function(){return o.addMachine()}),e._UZ(55,"i",32),e._uU(56," Save"),e.qZA()()()()()()),2&r&&(e.xp6(7),e.Q6J("formGroup",o.machineForm),e.xp6(7),e.Q6J("ngClass",e.VKq(14,L,o.submitted&&o.machineFormControls.machineName.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.machineFormControls.machineName.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(16,L,o.submitted&&o.machineFormControls.model.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.machineFormControls.model.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(18,L,o.submitted&&o.machineFormControls.count.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.machineFormControls.count.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(20,L,o.submitted&&o.machineFormControls.vendorProductIds.errors)),e.xp6(1),e.Q6J("ngForOf",o.productsList),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.machineFormControls.vendorProductIds.errors),e.xp6(15),e.Q6J("ngForOf",o.productImages),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.machineFormControls.machineImage.errors),e.xp6(4),e.Q6J("disabled",o.isLoading),e.xp6(1),e.Q6J("ngClass",e.VKq(22,Jo,o.isLoading)))},dependencies:[u.mk,u.sg,u.O5,a.YN,a.Kr,a.Fj,a.K7,a.JJ,a.JL,a.sg,a.u]})}return i})();var S=f(16676);function Po(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Certificate Name is required. "),e.qZA())}function So(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Po,2,0,"div",32),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.certificationFormControls.certificationName.errors.required)}}function Vo(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Valid From is required. "),e.qZA())}function Qo(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Vo,2,0,"div",32),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.certificationFormControls.startDate.errors.required)}}function Eo(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Valid Upto is required. "),e.qZA())}function Lo(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Eo,2,0,"div",32),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.certificationFormControls.endDate.errors.required)}}function Yo(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Issuing authority is required. "),e.qZA())}function Do(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Yo,2,0,"div",32),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.certificationFormControls.issuingAuthority.errors.required)}}function Mo(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"div",35)(3,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.removeFile("image",o.productImages))}),e.qZA(),e.TgZ(4,"div",37),e._UZ(5,"img",38),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(5),e.Q6J("src",t.productImages,e.LSH)}}function Wo(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Certification Image is required. "),e.qZA())}function $o(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,Wo,2,0,"div",32),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.certificationFormControls.certificationImage.errors.required)}}const Y=function(i){return{"is-invalid":i}},Ko=function(i){return{"fa-spin fa-spinner":i}};let Oo=(()=>{class i{constructor(t,r,o,s,d,g,v){this.ngxService=t,this._FB=r,this._notifier=o,this.router=s,this.routes=d,this._DCS=g,this._CS=v,this.isLoading=!1,this.submitted=!1}ngOnInit(){this.initCertificateForm(),this.routes.params.subscribe(t=>{t&&t.factoryId&&(this.factoryId=t.factoryId,this.vendorId=t.vendorId)})}initCertificateForm(){this.certificationForm=this._FB.group({certificationName:["",a.kI.required],startDate:["",a.kI.required],endDate:["",a.kI.required],issuingAuthority:["",a.kI.required],certificationImage:["",a.kI.required]})}get certificationFormControls(){return this.certificationForm.controls}fileValue(t){var r=t.target.files[0],o=t.target.value,s=o.split(".").pop();"jpg"==s||"svg"==s||"jpeg"==s||"png"==s||"gif"==s?(o.replace(/^.*[\\\/]/,"").split(".").slice(0,-1).join("."),r&&this.uploadImage(r)):alert("File not supported. Kindly Upload the Image of below given extension ")}uploadImage(t){this.ngxService.start();let r=new FormData;r.append("image",t),this._CS.uploadImage(r).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(o=>{o.meta.status?(this.productImages=o?.data,this.certificationForm.get("certificationImage")?.reset(this.productImages)):this._notifier.showError(o.meta.msg,"Error")})}removeFile(t,r){this.ngxService.start();let o={filePath:r.split("/").pop()};this._CS.removeFile(o).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(s=>{if(s.meta.status){const d=this.productImages.indexOf(r);this.productImages.splice(d,1),this.certificationForm.get("certificationImage")?.reset(this.productImages)}else this._notifier.showError(s.meta.msg,"Error")})}addCertificate(){if(this.certificationForm.valid){this.isLoading=!0,this.certificationForm.value.startDate=S(this.certificationForm.value.startDate).valueOf(),this.certificationForm.value.endDate=S(this.certificationForm.value.endDate).valueOf();let t={...this.certificationForm.value,factoryId:this.factoryId,vendorId:this.vendorId};this._DCS.addCertificate(t).pipe((0,_.x)(()=>{this.isLoading=!1})).subscribe(r=>{r.meta.status?(this.router.navigate(["/vendors/factory-detail",this.factoryId,this.vendorId]),this._notifier.showSuccess(r.meta.msg,"Success")):this._notifier.showWarning(r.meta.msg,"Error")},r=>{this._notifier.showError("Something Went Wrong","Error")})}else this.submitted=!0}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(p.LA),e.Y36(a.qu),e.Y36(h.lG),e.Y36(m.F0),e.Y36(m.gz),e.Y36(U.x),e.Y36(h.v_))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-certificate"]],decls:54,vars:23,consts:[[1,"dashboardMain"],[1,"page-header"],["href","javascript:history.back()",1,"back-arrow"],[1,"bi","bi-arrow-left-short","me-4"],[1,"account_dashboard","profile_dashboard"],[1,"login-white-box",3,"formGroup"],[1,"form-box"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-4"],[1,"form-group"],["type","text","placeholder","Enter Certificate Name*","formControlName","certificationName",1,"form-control","form-ctrl",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"form-group","mb-3"],["type","date","placeholder","05/07/2023","formControlName","startDate",1,"form-control","form-ctrl","datePicker",3,"ngClass"],["type","date","placeholder","05/07/2023","formControlName","endDate",1,"form-control","form-ctrl","datePicker",3,"ngClass"],["type","text","placeholder","Enter Issuing Authority","formControlName","issuingAuthority",1,"form-control","form-ctrl",3,"ngClass"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"form-group","mb-0"],[1,"upload-doc","d-flex","flex-wrap"],[1,"image-upload"],["type","file","name","","id","logoCert","accept",".png, .jpg, .jpeg",3,"change"],["for","logoCert","id","file-label",1,"upload-field"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/upload-icon.png","alt",""],["id","filename"],["class","imageList",4,"ngIf"],["style","display: block;","class","invalid-feedback",4,"ngIf"],[1,"text-end","main_btn","mt-3"],["href","javascript:history.back()",1,"btn","btn-light","me-3"],[1,"btn","btn-success",3,"disabled","click"],[1,"fa",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],[1,"imageList"],[1,"form-check-inline","text-center","ms-4"],["role","alert",1,"alert-photo","mb-2","alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"alert-photo-img"],[3,"src"],[1,"invalid-feedback",2,"display","block"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3")(3,"a",2),e._UZ(4,"i",3),e.qZA(),e._uU(5," Add Certification "),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label"),e._uU(13,"Certificate Name*"),e.qZA(),e._UZ(14,"input",10),e.YNc(15,So,2,1,"div",11),e.qZA()(),e.TgZ(16,"div",8)(17,"div",12)(18,"label"),e._uU(19,"Valid From*"),e.qZA(),e._UZ(20,"input",13),e.YNc(21,Qo,2,1,"div",11),e.qZA()(),e.TgZ(22,"div",8)(23,"div",12)(24,"label"),e._uU(25,"Valid Upto*"),e.qZA(),e._UZ(26,"input",14),e.YNc(27,Lo,2,1,"div",11),e.qZA()(),e.TgZ(28,"div",8)(29,"div",9)(30,"label"),e._uU(31,"Issuing authority*"),e.qZA(),e._UZ(32,"input",15),e.YNc(33,Do,2,1,"div",11),e.qZA()(),e.TgZ(34,"div",16)(35,"div",17)(36,"label"),e._uU(37,"Upload Certificate*"),e.qZA(),e.TgZ(38,"div",18)(39,"div",19)(40,"input",20),e.NdJ("change",function(d){return o.fileValue(d)}),e.qZA(),e.TgZ(41,"label",21)(42,"div",22),e._UZ(43,"img",23)(44,"br")(45,"h6",24),e.qZA()()(),e.YNc(46,Mo,6,1,"div",25),e.qZA(),e.YNc(47,$o,2,1,"div",26),e.qZA()()(),e.TgZ(48,"div",27)(49,"a",28),e._uU(50,"Cancel"),e.qZA(),e.TgZ(51,"button",29),e.NdJ("click",function(){return o.addCertificate()}),e._UZ(52,"i",30),e._uU(53," Save"),e.qZA()()()()()()),2&r&&(e.xp6(7),e.Q6J("formGroup",o.certificationForm),e.xp6(7),e.Q6J("ngClass",e.VKq(13,Y,o.submitted&&o.certificationFormControls.certificationName.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.certificationFormControls.certificationName.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(15,Y,o.submitted&&o.certificationFormControls.startDate.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.certificationFormControls.startDate.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(17,Y,o.submitted&&o.certificationFormControls.endDate.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.certificationFormControls.endDate.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(19,Y,o.submitted&&o.certificationFormControls.issuingAuthority.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.certificationFormControls.issuingAuthority.errors),e.xp6(13),e.Q6J("ngIf",o.productImages),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.certificationFormControls.certificationImage.errors),e.xp6(4),e.Q6J("disabled",o.isLoading),e.xp6(1),e.Q6J("ngClass",e.VKq(21,Ko,o.isLoading)))},dependencies:[u.mk,u.O5,a.Fj,a.JJ,a.JL,a.sg,a.u]})}return i})();function zo(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Factory name is required. "),e.qZA())}function jo(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,zo,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.factoryName.errors.required)}}function Go(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Factory area is required. "),e.qZA())}function Bo(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Go,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.area.errors.required)}}function Ro(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Manpower is required. "),e.qZA())}function Ho(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Ro,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.manpower.errors.required)}}function Xo(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Palletization Capability is required. "),e.qZA())}function er(i,n){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,Xo,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.isPalletizationCapability.errors.required)}}function tr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Pallete Size is required. "),e.qZA())}function ir(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,tr,2,0,"div",49),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.palleteSize.errors.required)}}const C=function(i){return{"is-invalid":i}};function or(i,n){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"label"),e._uU(3,"Pallete Size*"),e.qZA(),e._UZ(4,"input",51),e.YNc(5,ir,2,1,"div",11),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngClass",e.VKq(2,C,t.submitted&&t.factoryFormControls.palleteSize.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.factoryFormControls.palleteSize.errors)}}function rr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Per Pallete Cost is required. "),e.qZA())}function nr(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,rr,2,0,"div",49),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.PerPalleteCost.errors.required)}}function sr(i,n){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"label"),e._uU(3,"Per Pallete Cost"),e.qZA(),e._UZ(4,"input",52),e.YNc(5,nr,2,1,"div",11),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngClass",e.VKq(2,C,t.submitted&&t.factoryFormControls.PerPalleteCost.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.factoryFormControls.PerPalleteCost.errors)}}function ar(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," TAX ID is required. "),e.qZA())}function dr(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,ar,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.taxId.errors.required)}}function lr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Factory stuffing permit is required. "),e.qZA())}function cr(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,lr,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.isStuffingPermit.errors.required)}}function ur(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Port Container Charges is required. "),e.qZA())}function mr(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,ur,2,0,"div",49),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.portContainerCharge.errors.required)}}function pr(i,n){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"label"),e._uU(3,"Port Container Charges(In Dollars)*"),e.qZA(),e._UZ(4,"input",53),e.YNc(5,mr,2,1,"div",11),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngClass",e.VKq(2,C,t.submitted&&t.factoryFormControls.portContainerCharge.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.factoryFormControls.portContainerCharge.errors)}}function gr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," AD Code is required. "),e.qZA())}function _r(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,gr,2,0,"div",49),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.adCode.errors.required)}}function fr(i,n){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"label"),e._uU(3,"AD Code*"),e.qZA(),e._UZ(4,"input",54),e.YNc(5,_r,2,1,"div",11),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngClass",e.VKq(2,C,t.submitted&&t.factoryFormControls.adCode.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.factoryFormControls.adCode.errors)}}function hr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," AD Code Image is required. "),e.qZA())}function vr(i,n){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,hr,2,0,"div",49),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.adCodeFile.errors.required)}}const Zr=function(i){return{"fa-spin fa-spinner":i}};function Cr(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9)(2,"label"),e._uU(3,"Upload AD Code*"),e.qZA(),e.TgZ(4,"div",55)(5,"div",56)(6,"div",36)(7,"input",57),e.NdJ("change",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.fileValueAd(o))}),e.qZA(),e.TgZ(8,"label",58)(9,"div",40),e._UZ(10,"img",59),e.TgZ(11,"h6",42),e._uU(12,"Upload AD Code"),e.qZA(),e.TgZ(13,"div",60),e._UZ(14,"i",61),e._uU(15," Upload "),e.qZA()()()(),e.YNc(16,vr,2,1,"div",19),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("disabled",t.isLoading),e.xp6(7),e.Q6J("ngClass",e.VKq(3,Zr,t.isLoading)),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.factoryFormControls.adCodeFile.errors)}}function qr(i,n){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t.value),e.xp6(1),e.hij("",t.label," ")}}function br(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Nearest Port is required. "),e.qZA())}function yr(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,br,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.nearestPort.errors.required)}}function Tr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Address Line 1 is required. "),e.qZA())}function Ar(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Tr,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.addressLine1.errors.required)}}function xr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Address Line 2 is required. "),e.qZA())}function Ir(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,xr,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.addressLine2.errors.required)}}function Fr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," PIN/ZIP Code is required. "),e.qZA())}function Ur(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Fr,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.zipCode.errors.required)}}function wr(i,n){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function Nr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Country is required. "),e.qZA())}function Jr(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Nr,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.countryId.errors.required)}}function kr(i,n){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function Pr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," State is required. "),e.qZA())}function Sr(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Pr,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.stateId.errors.required)}}function Vr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," City is required. "),e.qZA())}function Qr(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Vr,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.cityName.errors.required)}}function Er(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",62)(1,"div",63)(2,"button",64),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.removeFile(s))}),e.qZA(),e.TgZ(3,"div",65),e._UZ(4,"img",66),e.qZA()()()}if(2&i){const t=n.$implicit;e.xp6(4),e.s9C("src",t,e.LSH)}}function Lr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Factory Image is required. "),e.qZA())}function Yr(i,n){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,Lr,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.factoryFormControls.factoryImage.errors.required)}}function Mr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Warehouse name is required. "),e.qZA())}function Wr(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Mr,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.warehouseName.errors.required)}}function $r(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Warehouse area is required. "),e.qZA())}function Kr(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,$r,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.area.errors.required)}}function Or(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Warehouse stuffing permit is required. "),e.qZA())}function zr(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Or,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.isStuffingPermit.errors.required)}}function jr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Palletization Capability is required. "),e.qZA())}function Gr(i,n){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,jr,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.isPalletizationCapability.errors.required)}}function Br(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Pallete Size is required. "),e.qZA())}function Rr(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Br,2,0,"div",49),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.palleteSize.errors.required)}}const b=function(i){return{"is-invalid":i}};function Hr(i,n){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"label"),e._uU(3,"Pallete Size*"),e.qZA(),e._UZ(4,"input",51),e.YNc(5,Rr,2,1,"div",11),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngClass",e.VKq(2,b,t.submitted&&t.warehouseFormControls.palleteSize.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.warehouseFormControls.palleteSize.errors)}}function Xr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Per Pallete Cost is required. "),e.qZA())}function en(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Xr,2,0,"div",49),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.PerPalleteCost.errors.required)}}function tn(i,n){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"label"),e._uU(3,"Per Pallete Cost"),e.qZA(),e._UZ(4,"input",52),e.YNc(5,en,2,1,"div",11),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngClass",e.VKq(2,b,t.submitted&&t.warehouseFormControls.PerPalleteCost.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.warehouseFormControls.PerPalleteCost.errors)}}function on(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," TAX ID is required. "),e.qZA())}function rn(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,on,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.taxId.errors.required)}}function nn(i,n){if(1&i&&(e.TgZ(0,"option",15),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t.value),e.xp6(1),e.hij("",t.label," ")}}function sn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Nearest Port is required. "),e.qZA())}function an(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,sn,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.nearestPort.errors.required)}}function dn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Address Line 1 is required. "),e.qZA())}function ln(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,dn,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.addressLine1.errors.required)}}function cn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Address Line 2 is required. "),e.qZA())}function un(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,cn,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.addressLine2.errors.required)}}function mn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," PIN/ZIP Code is required. "),e.qZA())}function pn(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,mn,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.zipCode.errors.required)}}function gn(i,n){if(1&i&&(e.TgZ(0,"option",15),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function _n(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Country is required. "),e.qZA())}function fn(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,_n,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.countryId.errors.required)}}function hn(i,n){if(1&i&&(e.TgZ(0,"option",15),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function vn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," State is required. "),e.qZA())}function Zn(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,vn,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.stateId.errors.required)}}function Cn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," City is required. "),e.qZA())}function qn(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Cn,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.cityName.errors.required)}}function bn(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",53)(1,"div",54)(2,"button",55),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.removeFile(s))}),e.qZA(),e.TgZ(3,"div",56),e._UZ(4,"img",57),e.qZA()()()}if(2&i){const t=n.$implicit;e.xp6(4),e.Q6J("src",t,e.LSH)}}function yn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Warehouse Image is required. "),e.qZA())}function Tn(i,n){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,yn,2,0,"div",49),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.warehouseFormControls.warehouseImage.errors.required)}}const An=function(i){return{"fa-spin fa-spinner":i}};function In(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Machine name is required. "),e.qZA())}function Fn(i,n){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,In,2,0,"div",34),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.machineFormControls.machineName.errors.required)}}function Un(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Machine Model is required. "),e.qZA())}function wn(i,n){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,Un,2,0,"div",34),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.machineFormControls.model.errors.required)}}function Nn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," No of Machines is required. "),e.qZA())}function Jn(i,n){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,Nn,2,0,"div",34),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.machineFormControls.count.errors.required)}}function kn(i,n){if(1&i&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t._id),e.Q6J("id","product"+t._id),e.xp6(1),e.AsE("",t.vendorProductId,": ",t.adminProduct.productName," ")}}function Pn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," product is required. "),e.qZA())}function Sn(i,n){if(1&i&&(e.TgZ(0,"div",36),e.YNc(1,Pn,2,0,"div",34),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.machineFormControls.vendorProductIds.errors.required)}}function Vn(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",37)(1,"div",38)(2,"button",39),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.removeFile("image",s))}),e.qZA(),e.TgZ(3,"div",40),e._UZ(4,"img",41),e.qZA()()()}if(2&i){const t=n.$implicit;e.xp6(4),e.Q6J("src",t,e.LSH)}}function Qn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Machine Image is required. "),e.qZA())}function En(i,n){if(1&i&&(e.TgZ(0,"div",36),e.YNc(1,Qn,2,0,"div",34),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.machineFormControls.machineImage.errors.required)}}const D=function(i){return{"is-invalid":i}},Ln=function(i){return{"fa-spin fa-spinner":i}};function Dn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Certificate Name is required. "),e.qZA())}function Mn(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Dn,2,0,"div",32),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.certificationFormControls.certificationName.errors.required)}}function Wn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Valid From is required. "),e.qZA())}function $n(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Wn,2,0,"div",32),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.certificationFormControls.startDate.errors.required)}}function Kn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Valid Upto is required. "),e.qZA())}function On(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Kn,2,0,"div",32),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.certificationFormControls.endDate.errors.required)}}function zn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Issuing authority is required. "),e.qZA())}function jn(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,zn,2,0,"div",32),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.certificationFormControls.issuingAuthority.errors.required)}}function Gn(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"div",35)(3,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.removeFile("image",o.productImages))}),e.qZA(),e.TgZ(4,"div",37),e._UZ(5,"img",38),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(5),e.Q6J("src",t.productImages,e.LSH)}}function Bn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Certification Image is required. "),e.qZA())}function Rn(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,Bn,2,0,"div",32),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.certificationFormControls.certificationImage.errors.required)}}const M=function(i){return{"is-invalid":i}},Hn=function(i){return{"fa-spin fa-spinner":i}},es=[{path:"",canActivate:[F.n],data:{module:"Vendor Listing",permission:"read"},component:Qe},{path:"invite-list",canActivate:[F.n],data:{module:"Invite vendor",permission:"read"},component:ct},{path:"detail/:id",canActivate:[F.n],data:{module:"Vendor Listing",permission:"read"},loadChildren:()=>Promise.all([f.e(58),f.e(483)]).then(f.bind(f,22483)).then(i=>i.DetailContainerModule)},{path:"sample-request",canActivate:[F.n],data:{module:"Vendor Listing",permission:"read"},component:Le},{path:"sample-request-vendor",canActivate:[F.n],data:{module:"Vendor Listing",permission:"read"},component:mt},{path:"sample-request-detail",canActivate:[F.n],data:{module:"Vendor Listing",permission:"read"},component:Ee},{path:"factory-detail/:factoryId/:vendorId",canActivate:[F.n],data:{module:"Vendor Listing",permission:"read"},component:bt},{path:"create-products-vendor/:id",canActivate:[F.n],data:{module:"Vendor Listing",permission:"read"},component:Lt},{path:"add-factory/:vendorId",component:Pi},{path:"edit-factory/:vendorId/:factoryId",component:(()=>{class i{constructor(t,r,o,s,d,g,v,W){this.ngxService=t,this.FB=r,this._notifier=o,this.router=s,this._DCS=d,this._CS=g,this.routes=v,this._VS=W,this.countries=[],this.submitted=!1,this.isLoading=!1,this.factoryImages=[],this.states=[],this.ports=[]}ngOnInit(){this.routes.params.subscribe(r=>{r&&r.vendorId&&r.factoryId&&(this.factoryId=r.factoryId,this.vendorId=r.vendorId,this.getFactoryDetails())}),this.initFactoryForm(),this.getPort(),this.getCountryList(),"true"===sessionStorage.getItem("export")?(this.isExported=!0,this.factoryForm.get("adCode")?.setValidators([a.kI.required]),this.factoryForm.get("adCodeFile")?.setValidators([a.kI.required]),this.factoryForm.get("portContainerCharge")?.setValidators([a.kI.required])):(this.factoryForm.get("adCode")?.setValidators(null),this.factoryForm.get("adCodeFile")?.setValidators(null),this.factoryForm.get("portContainerCharge")?.setValidators(null)),this.factoryForm.get("adCode")?.updateValueAndValidity(),this.factoryForm.get("adCodeFile")?.updateValueAndValidity(),this.factoryForm.get("portContainerCharge")?.updateValueAndValidity()}initFactoryForm(){this.factoryForm=this.FB.group({factoryName:["",a.kI.required],area:["",a.kI.required],manpower:["",a.kI.required],isPalletizationCapability:[!0,a.kI.required],palleteSize:["",a.kI.required],PerPalleteCost:["",a.kI.required],taxId:["",a.kI.required],portContainerCharge:["",a.kI.required],adCode:["",a.kI.required],adCodeFile:["",a.kI.required],nearestPort:["",a.kI.required],isStuffingPermit:["",a.kI.required],addressLine1:["",a.kI.required],addressLine2:[""],zipCode:["",a.kI.required],countryId:["",a.kI.required],stateId:["",a.kI.required],cityName:["",a.kI.required],factoryImage:["",a.kI.required]})}get factoryFormControls(){return this.factoryForm.controls}getCountryList(){this._DCS.getCountryList().subscribe(t=>{t.meta.status?this.countries=t.data:(this.countries=[],this._notifier.showWarning(t.meta.msg,""))},t=>{this._notifier.showError("Something Went Wrong","Error")})}getStateList(){this._DCS.getStateList(1,150,this.countryCode).subscribe(t=>{t.meta.status?(this.states=t.data,this.factoryForm.patchValue({stateId:this.factoryData?.state?._id})):(this.states=[],this._notifier.showWarning(t.meta.msg,""))},t=>{this._notifier.showError("Something Went Wrong","Error")})}addFactory(){if(this.factoryForm.valid){this.isLoading=!0;let t={...this.factoryForm.value,vendorId:this.vendorId};"false"===sessionStorage.getItem("export")&&delete t.portContainerCharge,this._DCS.updateFactory(this.factoryId,t).pipe((0,_.x)(()=>{this.isLoading=!1})).subscribe(o=>{o.meta.status?(this.router.navigate(["/vendors/detail",this.vendorId,"factory-details"]),this._notifier.showSuccess(o.meta.msg,"Success")):this._notifier.showWarning(o.meta.msg,"Error")},o=>{this._notifier.showError("Something Went Wrong","Error")})}else this.submitted=!0}countryChange(t){let r=this.countries?.find(o=>t?.target?.value===o?._id);this.countryCode=r?.isoCode||"",this.getStateList()}fileValue(t){var r=t.target.files,o=t.target.value,s=o.split(".").pop();"jpg"==s||"svg"==s||"jpeg"==s||"png"==s||"gif"==s?(o.replace(/^.*[\\\/]/,"").split(".").slice(0,-1).join("."),r&&r.length&&this.uploadImage(r)):alert("File not supported. Kindly Upload the Image of below given extension ")}fileValueAd(t){var r=t.target.value,o=r.split(".").pop();if("jpg"==o||"svg"==o||"jpeg"==o||"png"==o||"gif"==o){const s=new FormData;s.append("image",t.target.files[0]),this.isLoading=!0,this._CS.uploadImage(s).subscribe(d=>{if(d.meta.status){var g=r.replace(/^.*[\\\/]/,"").split(".").slice(0,-1).join(".");document.getElementById("filename").innerHTML=g,this.factoryForm.get("adCodeFile")?.setValue(d.data),this.isLoading=!1,this._notifier.showSuccess(d.meta.msg,"Success")}else this.isLoading=!1,this._notifier.showWarning(d.meta.msg,"")},d=>{this.isLoading=!1})}else alert("File not supported. Kindly Upload the Image of below given extension ")}uploadImage(t){this.ngxService.start();let r=new FormData;for(var o=0;o<t.length;o++)r.append("image",t[o]);this._CS.uploadMultipleImage(r).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(s=>{s.meta.status?(this.factoryImages.push(...s?.data),this.factoryForm.get("factoryImage")?.reset(this.factoryImages)):this._notifier.showError(s.meta.msg,"Error")})}removeFile(t){this.ngxService.start();let r={filePath:t.split("/").pop()};this._CS.removeFile(r).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(o=>{if(o.meta.status){const s=this.factoryImages.indexOf(t);this.factoryImages.splice(s,1),this.factoryForm.get("factoryImage")?.reset(this.factoryImages)}else this._notifier.showWarning(o.meta.msg,"")})}getPort(){this.ngxService.start(),this._CS.getAppConfigByKey("MAPPED_PORT").pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(t=>{t.meta.status?this.ports=t.data.value.split("|").map(r=>({value:r=r.trim(),label:r})):(this.ports=[],this._notifier.showWarning(t.meta.msg,""))})}handleChange(t){"true"==t.target.value?(this.factoryForm.get("palleteSize")?.setValidators([a.kI.required]),this.factoryForm.get("PerPalleteCost")?.setValidators([a.kI.required])):(this.factoryForm.get("palleteSize")?.setValidators(null),this.factoryForm.get("PerPalleteCost")?.setValidators(null)),this.factoryForm.get("palleteSize")?.updateValueAndValidity(),this.factoryForm.get("PerPalleteCost")?.updateValueAndValidity()}getFactoryDetails(){this._VS.getFactoryDetails(this.factoryId,this.vendorId).pipe((0,_.x)(()=>{})).subscribe(t=>{if(t.meta.status){this.factoryData=t?.data;let r=this.factoryData.adCodeFile&&this.factoryData.adCodeFile.length?this.factoryData.adCodeFile.split("/")[this.factoryData.adCodeFile.split("/").length-1]:"Select Image";document.getElementById("filename")&&(document.getElementById("filename").innerHTML=r),this.factoryForm.patchValue({factoryName:t?.data?.factoryName,area:t?.data?.area,manpower:t?.data?.manpower,isPalletizationCapability:t?.data?.isPalletizationCapability,palleteSize:t?.data?.palleteSize,PerPalleteCost:t?.data?.PerPalleteCost?t?.data?.PerPalleteCost:"",taxId:t?.data?.taxId,isStuffingPermit:t?.data?.isStuffingPermit,addressLine1:t?.data?.addressLine1,addressLine2:t?.data?.addressLine2,zipCode:t?.data?.zipCode,countryId:t?.data?.country?._id,cityName:t?.data?.cityName,portContainerCharge:t?.data?.portContainerCharge,adCode:t?.data?.adCode,adCodeFile:t?.data?.adCodeFile,nearestPort:t?.data?.nearestPort,factoryImage:t?.data?.factoryImage?.length?t?.data?.factoryImage:""}),t?.data?.isPalletizationCapability?(this.factoryForm.get("palleteSize")?.setValidators([a.kI.required]),this.factoryForm.get("PerPalleteCost")?.setValidators([a.kI.required])):(this.factoryForm.get("palleteSize")?.setValidators(null),this.factoryForm.get("PerPalleteCost")?.setValidators(null)),this.factoryForm.get("palleteSize")?.updateValueAndValidity(),this.factoryForm.get("PerPalleteCost")?.updateValueAndValidity(),this.countryCode=t?.data?.country?.isoCode,this.getStateList(),this.factoryImages=t?.data?.factoryImage}else this._notifier.showWarning(t.meta.msg,"Error")})}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(p.LA),e.Y36(a.qu),e.Y36(h.lG),e.Y36(m.F0),e.Y36(U.x),e.Y36(h.v_),e.Y36(m.gz),e.Y36(l.m))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-factory"]],decls:137,vars:64,consts:[[1,"dashboardMain"],[1,"page-header"],["href","javascript:history.back()",1,"back-arrow"],[1,"bi","bi-arrow-left-short","me-4"],[1,"account_dashboard","profile_dashboard"],[1,"login-white-box",3,"formGroup"],[1,"form-box"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-4"],[1,"form-group"],["type","text","placeholder","Enter Factory Name","formControlName","factoryName",1,"form-control","form-ctrl",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Enter Area","formControlName","area",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","00000","formControlName","manpower",1,"form-control","form-ctrl",3,"ngClass"],[1,"form-group","d-flex","reasonForm","mb-0","mt-4"],[1,"me-4"],[1,"form-check","form-check-inline","radioBlue"],["type","radio","formControlName","isPalletizationCapability",1,"form-check-input",3,"value","change"],[1,"form-check","form-check-inline","radioBlue","ms-4"],["style","display: block;","class","invalid-feedback",4,"ngIf"],["class","col-12 col-sm-6 col-md-4 col-lg-4",4,"ngIf"],["type","text","placeholder","Enter TAX ID","formControlName","taxId",1,"form-control","form-ctrl",3,"ngClass"],["formControlName","isStuffingPermit",1,"form-control","form-ctrl",3,"ngClass"],["value","","hidden",""],[3,"value"],["formControlName","nearestPort",1,"form-control","form-ctrl",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Enter Line 1","formControlName","addressLine1",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Enter Line 2","formControlName","addressLine2",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Enter PIN/ZIP Code","formControlName","zipCode",1,"form-control","form-ctrl",3,"ngClass"],["formControlName","countryId",1,"form-control","form-ctrl",3,"ngClass","change"],["formControlName","stateId",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Enter City","formControlName","cityName",1,"form-control","form-ctrl",3,"ngClass"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"form-group","mb-0"],[1,"upload-doc","d-flex","flex-wrap"],[1,"image-upload"],["type","file","name","","accept",".png, .jpg, .jpeg","multiple","",3,"change"],["factoryFileInput",""],["for","logo2","id","file-label1",1,"upload-field",3,"click"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/upload-icon.png","alt",""],["id","filename"],[1,"imageList"],["class","form-check-inline text-center ms-4",4,"ngFor","ngForOf"],[1,"text-end","main_btn","mt-3"],["href","javascript:history.back()",1,"btn","btn-light","me-3"],[1,"btn","btn-success",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[1,"invalid-feedback",2,"display","block"],["type","text","placeholder","Pallete Size","formControlName","palleteSize",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Per Pallete Cost","formControlName","PerPalleteCost",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Enter Port Container Charges","formControlName","portContainerCharge",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Enter AD Code","formControlName","adCode",1,"form-control","form-ctrl",3,"ngClass"],[1,"file-form-control"],[1,"upload-doc-item"],["type","file","name","","accept","image/*","id","logo1",3,"disabled","change"],["for","logo1","id","file-label",1,"upload-field"],["id","file-image-preview","src","assets/images/mc.png","alt",""],[1,"Upload-btn","btn","btn-success"],[1,"fa",3,"ngClass"],[1,"form-check-inline","text-center","ms-4"],["role","alert",1,"alert-photo","mb-2","alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"alert-photo-img"],[3,"src"]],template:function(r,o){if(1&r){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h3")(3,"a",2),e._UZ(4,"i",3),e.qZA(),e._uU(5," Edit Factory "),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label"),e._uU(13,"Factory Name*"),e.qZA(),e._UZ(14,"input",10),e.YNc(15,jo,2,1,"div",11),e.qZA()(),e.TgZ(16,"div",8)(17,"div",9)(18,"label"),e._uU(19,"Factory Area (in sq.ft.)*"),e.qZA(),e._UZ(20,"input",12),e.YNc(21,Bo,2,1,"div",11),e.qZA()(),e.TgZ(22,"div",8)(23,"div",9)(24,"label"),e._uU(25,"Manpower*"),e.qZA(),e._UZ(26,"input",13),e.YNc(27,Ho,2,1,"div",11),e.qZA()(),e.TgZ(28,"div",8)(29,"div",14)(30,"label",15),e._uU(31,"Palletization Capability*"),e.qZA(),e.TgZ(32,"div")(33,"div",16)(34,"label")(35,"input",17),e.NdJ("change",function(g){return o.handleChange(g)}),e.qZA(),e._uU(36," Yes "),e.qZA()(),e.TgZ(37,"div",18)(38,"label")(39,"input",17),e.NdJ("change",function(g){return o.handleChange(g)}),e.qZA(),e._uU(40," No"),e.qZA()()()(),e.YNc(41,er,2,1,"div",19),e.qZA(),e.YNc(42,or,6,4,"div",20),e.YNc(43,sr,6,4,"div",20),e.TgZ(44,"div",8)(45,"div",9)(46,"label"),e._uU(47,"TAX ID*"),e.qZA(),e._UZ(48,"input",21),e.YNc(49,dr,2,1,"div",11),e.qZA()(),e.TgZ(50,"div",8)(51,"div",9)(52,"label"),e._uU(53,"Factory stuffing permit*"),e.qZA(),e.TgZ(54,"select",22)(55,"option",23),e._uU(56,"Factory stuffing permit"),e.qZA(),e.TgZ(57,"option",24),e._uU(58,"Yes"),e.qZA(),e.TgZ(59,"option",24),e._uU(60,"No"),e.qZA()(),e.YNc(61,cr,2,1,"div",11),e.qZA()(),e.YNc(62,pr,6,4,"div",20),e.YNc(63,fr,6,4,"div",20),e.YNc(64,Cr,17,5,"div",20),e.TgZ(65,"div",8)(66,"div",9)(67,"label"),e._uU(68,"Nearest Port*"),e.qZA(),e.TgZ(69,"select",25)(70,"option",23),e._uU(71,"Select"),e.qZA(),e.YNc(72,qr,2,2,"option",26),e.qZA(),e.YNc(73,yr,2,1,"div",11),e.qZA()(),e.TgZ(74,"div",8)(75,"div",9)(76,"label"),e._uU(77,"Address Line 1*"),e.qZA(),e._UZ(78,"input",27),e.YNc(79,Ar,2,1,"div",11),e.qZA()(),e.TgZ(80,"div",8)(81,"div",9)(82,"label"),e._uU(83,"Address Line 2"),e.qZA(),e._UZ(84,"input",28),e.YNc(85,Ir,2,1,"div",11),e.qZA()(),e.TgZ(86,"div",8)(87,"div",9)(88,"label"),e._uU(89,"PIN/ZIP Code*"),e.qZA(),e._UZ(90,"input",29),e.YNc(91,Ur,2,1,"div",11),e.qZA()(),e.TgZ(92,"div",8)(93,"div",9)(94,"label"),e._uU(95,"Country*"),e.qZA(),e.TgZ(96,"select",30),e.NdJ("change",function(g){return o.countryChange(g)}),e.TgZ(97,"option",23),e._uU(98,"Select Country"),e.qZA(),e.YNc(99,wr,2,2,"option",26),e.qZA(),e.YNc(100,Jr,2,1,"div",11),e.qZA()(),e.TgZ(101,"div",8)(102,"div",9)(103,"label"),e._uU(104,"State*"),e.qZA(),e.TgZ(105,"select",31)(106,"option",23),e._uU(107,"Select State"),e.qZA(),e.YNc(108,kr,2,2,"option",26),e.qZA(),e.YNc(109,Sr,2,1,"div",11),e.qZA()(),e.TgZ(110,"div",8)(111,"div",9)(112,"label"),e._uU(113,"City*"),e.qZA(),e._UZ(114,"input",32),e.YNc(115,Qr,2,1,"div",11),e.qZA()(),e.TgZ(116,"div",33)(117,"div",34)(118,"label"),e._uU(119,"Upload Factory Images*"),e.qZA(),e.TgZ(120,"div",35)(121,"div",36)(122,"input",37,38),e.NdJ("change",function(g){return o.fileValue(g)}),e.qZA(),e.TgZ(124,"label",39),e.NdJ("click",function(){e.CHM(s);const g=e.MAs(123);return e.KtG(g.click())}),e.TgZ(125,"div",40),e._UZ(126,"img",41)(127,"br")(128,"h6",42),e.qZA()()(),e.TgZ(129,"div",43),e.YNc(130,Er,5,1,"div",44),e.qZA()(),e.YNc(131,Yr,2,1,"div",19),e.qZA()()(),e.TgZ(132,"div",45)(133,"a",46),e._uU(134,"Cancel"),e.qZA(),e.TgZ(135,"button",47),e.NdJ("click",function(){return o.addFactory()}),e._uU(136,"Submit"),e.qZA()()()()()()}2&r&&(e.xp6(7),e.Q6J("formGroup",o.factoryForm),e.xp6(7),e.Q6J("ngClass",e.VKq(40,C,o.submitted&&o.factoryFormControls.factoryName.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.factoryName.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(42,C,o.submitted&&o.factoryFormControls.area.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.area.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(44,C,o.submitted&&o.factoryFormControls.manpower.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.manpower.errors),e.xp6(8),e.Q6J("value",!0),e.xp6(4),e.Q6J("value",!1),e.xp6(2),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.isPalletizationCapability.errors),e.xp6(1),e.Q6J("ngIf",!0===o.factoryForm.value.isPalletizationCapability),e.xp6(1),e.Q6J("ngIf",!0===o.factoryForm.value.isPalletizationCapability),e.xp6(5),e.Q6J("ngClass",e.VKq(46,C,o.submitted&&o.factoryFormControls.taxId.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.taxId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(48,C,o.submitted&&o.factoryFormControls.isStuffingPermit.errors)),e.xp6(3),e.Q6J("value",!0),e.xp6(2),e.Q6J("value",!1),e.xp6(2),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.isStuffingPermit.errors),e.xp6(1),e.Q6J("ngIf",o.isExported),e.xp6(1),e.Q6J("ngIf",o.isExported),e.xp6(1),e.Q6J("ngIf",o.isExported),e.xp6(5),e.Q6J("ngClass",e.VKq(50,C,o.submitted&&o.factoryFormControls.nearestPort.errors)),e.xp6(3),e.Q6J("ngForOf",o.ports),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.nearestPort.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(52,C,o.submitted&&o.factoryFormControls.addressLine1.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.addressLine1.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(54,C,o.submitted&&o.factoryFormControls.addressLine2.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.addressLine2.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(56,C,o.submitted&&o.factoryFormControls.zipCode.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.zipCode.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(58,C,o.submitted&&o.factoryFormControls.countryId.errors)),e.xp6(3),e.Q6J("ngForOf",o.countries),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.countryId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(60,C,o.submitted&&o.factoryFormControls.stateId.errors)),e.xp6(3),e.Q6J("ngForOf",o.states),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.stateId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(62,C,o.submitted&&o.factoryFormControls.cityName.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.cityName.errors),e.xp6(15),e.Q6J("ngForOf",o.factoryImages),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.factoryFormControls.factoryImage.errors))},dependencies:[u.mk,u.sg,u.O5,a.YN,a.Kr,a.Fj,a.EJ,a._,a.JJ,a.JL,a.sg,a.u]})}return i})()},{path:"add-warehouse/:vendorId",component:Zo},{path:"edit-warehouse/:vendorId/:warehouseId",component:(()=>{class i{constructor(t,r,o,s,d,g,v){this.ngxService=t,this._FB=r,this._notifier=o,this.router=s,this.routes=d,this._CS=g,this._DCS=v,this.countries=[],this.submitted=!1,this.isLoading=!1,this.productImages=[],this.states=[],this.ports=[]}ngOnInit(){this.initWarehouseForm(),this.getPort(),this.getCountryList(),this.routes.params.subscribe(t=>{t&&t.vendorId&&t.warehouseId&&(this.vendorId=t.vendorId,this.warehouseId=t.warehouseId,this.getWarehouseDetails())})}initWarehouseForm(){this.warehouseForm=this._FB.group({warehouseName:["",a.kI.required],area:["",a.kI.required],isPalletizationCapability:[!0,a.kI.required],palleteSize:["",a.kI.required],PerPalleteCost:["",a.kI.required],taxId:["",a.kI.required],isStuffingPermit:["",a.kI.required],nearestPort:["",a.kI.required],addressLine1:["",a.kI.required],addressLine2:[""],zipCode:["",a.kI.required],countryId:["",a.kI.required],stateId:["",a.kI.required],cityName:["",a.kI.required],warehouseImage:["",a.kI.required]})}get warehouseFormControls(){return this.warehouseForm.controls}getCountryList(){this._DCS.getCountryList().subscribe(t=>{t.meta.status?this.countries=t.data:(this.countries=[],this._notifier.showWarning(t.meta.msg,""))},t=>{this._notifier.showError("Something Went Wrong","Error")})}getStateList(){this._DCS.getStateList(1,150,this.countryCode).subscribe(t=>{t.meta.status?(this.states=t.data,this.warehouseForm.patchValue({stateId:this.warehouseData?.state?._id})):(this.states=[],this._notifier.showWarning(t.meta.msg,""))},t=>{this._notifier.showError("Something Went Wrong","Error")})}countryChange(t){let r=this.countries?.find(o=>t?.target?.value===o?._id);this.countryCode=r?.isoCode,this.getStateList()}fileValue(t){var r=t.target.files,o=t.target.value,s=o.split(".").pop();"jpg"==s||"svg"==s||"jpeg"==s||"png"==s||"gif"==s?(o.replace(/^.*[\\\/]/,"").split(".").slice(0,-1).join("."),r&&r.length&&this.uploadImage(r)):alert("File not supported. Kindly Upload the Image of below given extension ")}uploadImage(t){this.ngxService.start();let r=new FormData;for(var o=0;o<t.length;o++)r.append("image",t[o]);this._CS.uploadMultipleImage(r).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(s=>{s.meta.status?(this.productImages.push(...s?.data),this.warehouseForm.get("warehouseImage")?.reset(this.productImages)):this._notifier.showError(s.meta.msg,"Error")})}removeFile(t){this.ngxService.start();let r={filePath:t.split("/").pop()};this._CS.removeFile(r).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(o=>{if(o.meta.status){const s=this.productImages.indexOf(t);this.productImages.splice(s,1),this.warehouseForm.get("warehouseImage")?.reset(this.productImages)}else this._notifier.showError(o.meta.msg,"Error")})}getWarehouseDetails(){this._DCS.getWarehouseDetails(this.warehouseId,this.vendorId).pipe((0,_.x)(()=>{})).subscribe(t=>{t.meta.status?(this.warehouseData=t?.data,this.warehouseForm.patchValue({warehouseName:t?.data?.warehouseName,area:t?.data?.area,isPalletizationCapability:t?.data?.isPalletizationCapability,palleteSize:t?.data?.palleteSize,PerPalleteCost:t?.data?.PerPalleteCost?t?.data?.PerPalleteCost:"",taxId:t?.data?.taxId,isStuffingPermit:t?.data?.isStuffingPermit,nearestPort:t?.data?.nearestPort,addressLine1:t?.data?.addressLine1,addressLine2:t?.data?.addressLine2,zipCode:t?.data?.zipCode,countryId:t?.data?.country?._id,cityName:t?.data?.cityName,warehouseImage:t?.data?.warehouseImage?.length?t?.data?.warehouseImage:""}),t?.data?.isPalletizationCapability?(this.warehouseForm.get("palleteSize")?.setValidators([a.kI.required]),this.warehouseForm.get("PerPalleteCost")?.setValidators([a.kI.required])):(this.warehouseForm.get("palleteSize")?.setValidators(null),this.warehouseForm.get("PerPalleteCost")?.setValidators(null)),this.warehouseForm.get("palleteSize")?.updateValueAndValidity(),this.warehouseForm.get("PerPalleteCost")?.updateValueAndValidity(),this.countryCode=t?.data?.country?.isoCode,this.getStateList(),this.productImages=t?.data?.warehouseImage):this._notifier.showWarning(t.meta.msg,"Error")})}updateWarehouse(){if(this.warehouseForm.valid){this.isLoading=!0;let t={...this.warehouseForm.value,vendorId:this.vendorId};this._DCS.updateWarehouse(this.warehouseId,t).pipe((0,_.x)(()=>{this.isLoading=!1})).subscribe(r=>{r.meta.status?(this.router.navigate(["/vendors/detail",this.vendorId,"factory-details"]),this._notifier.showSuccess(r.meta.msg,"Success")):this._notifier.showWarning(r.meta.msg,"")},r=>{this._notifier.showError("Something Went Wrong","Error")})}else this.submitted=!0}getPort(){this.ngxService.start(),this._CS.getAppConfigByKey("MAPPED_PORT").pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(t=>{t.meta.status?this.ports=t.data.value.split("|").map(r=>({value:r=r.trim(),label:r})):(this.ports=[],this._notifier.showWarning(t.meta.msg,""))})}handleChange(t){"true"==t.target.value?(this.warehouseForm.get("palleteSize")?.setValidators([a.kI.required]),this.warehouseForm.get("PerPalleteCost")?.setValidators([a.kI.required])):(this.warehouseForm.get("palleteSize")?.setValidators(null),this.warehouseForm.get("PerPalleteCost")?.setValidators(null)),this.warehouseForm.get("palleteSize")?.updateValueAndValidity(),this.warehouseForm.get("PerPalleteCost")?.updateValueAndValidity()}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(p.LA),e.Y36(a.qu),e.Y36(h.lG),e.Y36(m.F0),e.Y36(m.gz),e.Y36(h.v_),e.Y36(U.x))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-warehouse"]],decls:130,vars:61,consts:[[1,"dashboardMain"],[1,"page-header"],["href","javascript:history.back()",1,"back-arrow"],[1,"bi","bi-arrow-left-short","me-4"],[1,"account_dashboard","profile_dashboard"],[1,"login-white-box",3,"formGroup"],[1,"form-box"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-4"],[1,"form-group"],["type","text","placeholder","Enter Warehouse Name","formControlName","warehouseName",1,"form-control","form-ctrl",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Enter Area","formControlName","area",1,"form-control","form-ctrl",3,"ngClass"],["formControlName","isStuffingPermit",1,"form-control","form-ctrl",3,"ngClass"],["value","","hidden",""],[3,"value"],[1,"form-group","d-flex","reasonForm","mb-0","mt-4"],[1,"me-4"],[1,"form-check","form-check-inline","radioBlue"],["type","radio","formControlName","isPalletizationCapability",1,"form-check-input",3,"value","change"],[1,"form-check","form-check-inline","radioBlue","ms-4"],["style","display: block;","class","invalid-feedback",4,"ngIf"],["class","col-12 col-sm-6 col-md-4 col-lg-4",4,"ngIf"],["type","text","placeholder","Enter TAX ID","formControlName","taxId",1,"form-control","form-ctrl",3,"ngClass"],["formControlName","nearestPort",1,"form-control","form-ctrl",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Enter Line 1","formControlName","addressLine1",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Enter Line 2","formControlName","addressLine2",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Enter PIN/ZIP Code","formControlName","zipCode",1,"form-control","form-ctrl",3,"ngClass"],["formControlName","countryId",1,"form-control","form-ctrl",3,"ngClass","change"],["formControlName","stateId",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Enter City","formControlName","cityName",1,"form-control","form-ctrl",3,"ngClass"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"form-group","mb-0"],[1,"upload-doc","d-flex","flex-wrap"],[1,"image-upload"],["type","file","name","","id","logowarehouse","accept",".png, .jpg, .jpeg","multiple","",3,"change"],["factoryFileInput",""],["for","logowarehouse","id","file-label",1,"upload-field"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/upload-icon.png","alt",""],["id","filename"],[1,"imageList"],["class","form-check-inline text-center ms-4",4,"ngFor","ngForOf"],[1,"text-end","main_btn","mt-3"],["href","javascript:history.back()",1,"btn","btn-light","me-3"],[1,"btn","btn-success",3,"disabled","click"],[1,"fa",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],[1,"invalid-feedback",2,"display","block"],["type","text","placeholder","Pallete Size","formControlName","palleteSize",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Per Pallete Cost","formControlName","PerPalleteCost",1,"form-control","form-ctrl",3,"ngClass"],[1,"form-check-inline","text-center","ms-4"],["role","alert",1,"alert-photo","mb-2","alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"alert-photo-img"],[3,"src"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3")(3,"a",2),e._UZ(4,"i",3),e.qZA(),e._uU(5," Edit Warehouse "),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label"),e._uU(13,"Warehouse Name*"),e.qZA(),e._UZ(14,"input",10),e.YNc(15,Wr,2,1,"div",11),e.qZA()(),e.TgZ(16,"div",8)(17,"div",9)(18,"label"),e._uU(19,"Warehouse Area (in sq.ft.)*"),e.qZA(),e._UZ(20,"input",12),e.YNc(21,Kr,2,1,"div",11),e.qZA()(),e.TgZ(22,"div",8)(23,"div",9)(24,"label"),e._uU(25,"Warehouse stuffing permit*"),e.qZA(),e.TgZ(26,"select",13)(27,"option",14),e._uU(28,"Warehouse stuffing permit"),e.qZA(),e.TgZ(29,"option",15),e._uU(30,"Yes"),e.qZA(),e.TgZ(31,"option",15),e._uU(32,"No"),e.qZA()(),e.YNc(33,zr,2,1,"div",11),e.qZA()(),e.TgZ(34,"div",8)(35,"div",16)(36,"label",17),e._uU(37,"Palletization Capability*"),e.qZA(),e.TgZ(38,"div")(39,"div",18)(40,"label")(41,"input",19),e.NdJ("change",function(d){return o.handleChange(d)}),e.qZA(),e._uU(42," Yes"),e.qZA()(),e.TgZ(43,"div",20)(44,"label")(45,"input",19),e.NdJ("change",function(d){return o.handleChange(d)}),e.qZA(),e._uU(46," No"),e.qZA()()()(),e.YNc(47,Gr,2,1,"div",21),e.qZA(),e.YNc(48,Hr,6,4,"div",22),e.YNc(49,tn,6,4,"div",22),e.TgZ(50,"div",8)(51,"div",9)(52,"label"),e._uU(53,"TAX ID*"),e.qZA(),e._UZ(54,"input",23),e.YNc(55,rn,2,1,"div",11),e.qZA()(),e.TgZ(56,"div",8)(57,"div",9)(58,"label"),e._uU(59,"Nearest Port*"),e.qZA(),e.TgZ(60,"select",24)(61,"option",14),e._uU(62,"Select"),e.qZA(),e.YNc(63,nn,2,2,"option",25),e.qZA(),e.YNc(64,an,2,1,"div",11),e.qZA()()(),e.TgZ(65,"div",7)(66,"div",8)(67,"div",9)(68,"label"),e._uU(69,"Address Line 1*"),e.qZA(),e._UZ(70,"input",26),e.YNc(71,ln,2,1,"div",11),e.qZA()(),e.TgZ(72,"div",8)(73,"div",9)(74,"label"),e._uU(75,"Address Line 2"),e.qZA(),e._UZ(76,"input",27),e.YNc(77,un,2,1,"div",11),e.qZA()(),e.TgZ(78,"div",8)(79,"div",9)(80,"label"),e._uU(81,"PIN/ZIP Code*"),e.qZA(),e._UZ(82,"input",28),e.YNc(83,pn,2,1,"div",11),e.qZA()(),e.TgZ(84,"div",8)(85,"div",9)(86,"label"),e._uU(87,"Country*"),e.qZA(),e.TgZ(88,"select",29),e.NdJ("change",function(d){return o.countryChange(d)}),e.TgZ(89,"option",14),e._uU(90,"Select Country"),e.qZA(),e.YNc(91,gn,2,2,"option",25),e.qZA(),e.YNc(92,fn,2,1,"div",11),e.qZA()(),e.TgZ(93,"div",8)(94,"div",9)(95,"label"),e._uU(96,"State*"),e.qZA(),e.TgZ(97,"select",30)(98,"option",14),e._uU(99,"Select State"),e.qZA(),e.YNc(100,hn,2,2,"option",25),e.qZA(),e.YNc(101,Zn,2,1,"div",11),e.qZA()(),e.TgZ(102,"div",8)(103,"div",9)(104,"label"),e._uU(105,"City*"),e.qZA(),e._UZ(106,"input",31),e.YNc(107,qn,2,1,"div",11),e.qZA()(),e.TgZ(108,"div",32)(109,"div",33)(110,"label"),e._uU(111,"Upload Warehouse Images*"),e.qZA(),e.TgZ(112,"div",34)(113,"div",35)(114,"input",36,37),e.NdJ("change",function(d){return o.fileValue(d)}),e.qZA(),e.TgZ(116,"label",38)(117,"div",39),e._UZ(118,"img",40)(119,"br")(120,"h6",41),e.qZA()()(),e.TgZ(121,"div",42),e.YNc(122,bn,5,1,"div",43),e.qZA()(),e.YNc(123,Tn,2,1,"div",21),e.qZA()()(),e.TgZ(124,"div",44)(125,"a",45),e._uU(126,"Cancel"),e.qZA(),e.TgZ(127,"button",46),e.NdJ("click",function(){return o.updateWarehouse()}),e._UZ(128,"i",47),e._uU(129," Save"),e.qZA()()()()()()),2&r&&(e.xp6(7),e.Q6J("formGroup",o.warehouseForm),e.xp6(7),e.Q6J("ngClass",e.VKq(37,b,o.submitted&&o.warehouseFormControls.warehouseName.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.warehouseName.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(39,b,o.submitted&&o.warehouseFormControls.area.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.area.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(41,b,o.submitted&&o.warehouseFormControls.isStuffingPermit.errors)),e.xp6(3),e.Q6J("value",!0),e.xp6(2),e.Q6J("value",!1),e.xp6(2),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.isStuffingPermit.errors),e.xp6(8),e.Q6J("value",!0),e.xp6(4),e.Q6J("value",!1),e.xp6(2),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.isPalletizationCapability.errors),e.xp6(1),e.Q6J("ngIf",!0===o.warehouseForm.value.isPalletizationCapability),e.xp6(1),e.Q6J("ngIf",!0===o.warehouseForm.value.isPalletizationCapability),e.xp6(5),e.Q6J("ngClass",e.VKq(43,b,o.submitted&&o.warehouseFormControls.taxId.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.taxId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(45,b,o.submitted&&o.warehouseFormControls.nearestPort.errors)),e.xp6(3),e.Q6J("ngForOf",o.ports),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.nearestPort.errors),e.xp6(6),e.Q6J("ngClass",e.VKq(47,b,o.submitted&&o.warehouseFormControls.addressLine1.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.addressLine1.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(49,b,o.submitted&&o.warehouseFormControls.addressLine2.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.addressLine2.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(51,b,o.submitted&&o.warehouseFormControls.zipCode.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.zipCode.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(53,b,o.submitted&&o.warehouseFormControls.countryId.errors)),e.xp6(3),e.Q6J("ngForOf",o.countries),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.countryId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(55,b,o.submitted&&o.warehouseFormControls.stateId.errors)),e.xp6(3),e.Q6J("ngForOf",o.states),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.stateId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(57,b,o.submitted&&o.warehouseFormControls.cityName.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.cityName.errors),e.xp6(15),e.Q6J("ngForOf",o.productImages),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.warehouseFormControls.warehouseImage.errors),e.xp6(4),e.Q6J("disabled",o.isLoading),e.xp6(1),e.Q6J("ngClass",e.VKq(59,An,o.isLoading)))},dependencies:[u.mk,u.sg,u.O5,a.YN,a.Kr,a.Fj,a.EJ,a._,a.JJ,a.JL,a.sg,a.u]})}return i})()},{path:"add-machine/:factoryId/:vendorId",component:ko},{path:"edit-machine/:factoryId/:vendorId/:machineId",component:(()=>{class i{constructor(t,r,o,s,d,g,v){this.ngxService=t,this._FB=r,this._notifier=o,this._CS=s,this._DCS=d,this.router=g,this.routes=v,this.productsList=[],this.isLoading=!1,this.productImages=[],this.submitted=!1,this.selectedProducts=[],this.selectDynamicVal=[],this.productIds=[]}ngOnInit(){this.initMachineForm(),this.routes.params.subscribe(t=>{t&&t.factoryId&&(this.factoryId=t.factoryId,this.vendorId=t.vendorId,this.machineId=t.machineId,this.getProducts(),this.getMachineDetails())})}initMachineForm(){this.machineForm=this._FB.group({machineName:["",a.kI.required],model:[""],count:["",a.kI.required],vendorProductIds:["",a.kI.required],machineImage:["",a.kI.required]})}get machineFormControls(){return this.machineForm.controls}getProducts(){this._DCS.getVendorProductList(this.vendorId).pipe((0,_.x)(()=>{})).subscribe(t=>{t.meta.status?(this.productsList=t?.data,setTimeout(()=>{$(".selectpicker").selectpicker({multiple:!0}),$(".selectpicker").on("change",()=>{this.productIds=this.machineForm.value.vendorProductIds,this.productsList.map((r,o)=>{this.productIds.map(s=>{s===r?._id&&(this.selectDynamicVal=r?.adminProduct?.productName)})}),this.productIds?.includes("selectAll")&&this.productsList.map(r=>{this.productIds.push(r?._id)})})},100)):this._notifier.showError(t.meta.msg,"Error")})}getMachineDetails(){this._DCS.getMachineDetails(this.machineId,this.vendorId,this.factoryId).pipe((0,_.x)(()=>{})).subscribe(t=>{t.meta.status?(this.machineForm.patchValue(t?.data),this.productImages=t?.data?.machineImage,this.machineForm.get("machineImage")?.reset(this.productImages)):this._notifier.showError(t.meta.msg,"Error")})}fileValue(t){var r=t.target.files,o=t.target.value,s=o.split(".").pop();"jpg"==s||"svg"==s||"jpeg"==s||"png"==s||"gif"==s?(o.replace(/^.*[\\\/]/,"").split(".").slice(0,-1).join("."),r&&r.length&&this.uploadImage(r)):alert("File not supported. Kindly Upload the Image of below given extension ")}uploadImage(t){this.ngxService.start();let r=new FormData;for(var o=0;o<t.length;o++)r.append("image",t[o]);this._CS.uploadMultipleImage(r).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(s=>{s.meta.status?(this.productImages.push(...s?.data),this.machineForm.get("machineImage")?.reset(this.productImages)):this._notifier.showError(s.meta.msg,"Error")})}removeFile(t,r){this.ngxService.start();let o={filePath:r.split("/").pop()};this._CS.removeFile(o).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(s=>{if(s.meta.status){const d=this.productImages.indexOf(r);this.productImages.splice(d,1),this.machineForm.get("machineImage")?.reset(this.productImages)}else this._notifier.showError(s.meta.msg,"Error")})}updateMachine(){if(this.machineForm.valid){this.isLoading=!0;let t={...this.machineForm.value,factoryId:this.factoryId,vendorId:this.vendorId};this._DCS.updateMachine(t,this.machineId).pipe((0,_.x)(()=>{this.isLoading=!1})).subscribe(r=>{r.meta.status?(this.router.navigate(["/vendors/factory-detail",this.factoryId,this.vendorId]),this._notifier.showSuccess(r.meta.msg,"Success")):this._notifier.showWarning(r.meta.msg,"")},r=>{this._notifier.showError("Something Went Wrong","Error")})}else this.submitted=!0}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(p.LA),e.Y36(a.qu),e.Y36(h.lG),e.Y36(h.v_),e.Y36(U.x),e.Y36(m.F0),e.Y36(m.gz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-machine"]],decls:57,vars:24,consts:[[1,"dashboardMain"],[1,"page-header"],["href","javascript:history.back()",1,"back-arrow"],[1,"bi","bi-arrow-left-short","me-4"],[1,"account_dashboard","profile_dashboard"],[1,"login-white-box",3,"formGroup"],[1,"form-box"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-4"],[1,"form-group"],["type","text","placeholder","Enter Machine Name*","formControlName","machineName",1,"form-control","form-ctrl",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Enter Machine Model","formControlName","model",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","00","formControlName","count",1,"form-control","form-ctrl",3,"ngClass"],["data-selected-text-format","count","multiple","","aria-label","Default select example","name","productIds","data-live-search","true","formControlName","vendorProductIds",1,"form-control","form-ctrl","selectpicker",3,"ngClass"],[3,"id","value",4,"ngFor","ngForOf"],["style","display: block;","class","invalid-feedback",4,"ngIf"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"form-group","mb-0"],[1,"upload-doc","d-flex","flex-wrap"],[1,"image-upload"],["type","file","name","","id","logoMachine","accept",".png, .jpg, .jpeg","multiple","",3,"change"],["factoryFileInput",""],["for","logoMachine","id","file-label",1,"upload-field"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/upload-icon.png","alt",""],["id","filename"],[1,"imageList"],["class","form-check-inline text-center ms-4",4,"ngFor","ngForOf"],[1,"text-end","main_btn","mt-3"],["href","javascript:history.back()",1,"btn","btn-light","me-3"],[1,"btn","btn-success",3,"disabled","click"],[1,"fa",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],[3,"id","value"],[1,"invalid-feedback",2,"display","block"],[1,"form-check-inline","text-center","ms-4"],["role","alert",1,"alert-photo","mb-2","alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"alert-photo-img"],["alt","",3,"src"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3")(3,"a",2),e._UZ(4,"i",3),e.qZA(),e._uU(5," Update Machine "),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label"),e._uU(13,"Machine Name*"),e.qZA(),e._UZ(14,"input",10),e.YNc(15,Fn,2,1,"div",11),e.qZA()(),e.TgZ(16,"div",8)(17,"div",9)(18,"label"),e._uU(19,"Machine Model"),e.qZA(),e._UZ(20,"input",12),e.YNc(21,wn,2,1,"div",11),e.qZA()(),e.TgZ(22,"div",8)(23,"div",9)(24,"label"),e._uU(25,"No of Machines*"),e.qZA(),e._UZ(26,"input",13),e.YNc(27,Jn,2,1,"div",11),e.qZA()(),e.TgZ(28,"div",8)(29,"div",9)(30,"label"),e._uU(31,"Products*"),e.qZA(),e.TgZ(32,"select",14),e.YNc(33,kn,2,4,"option",15),e.qZA(),e.YNc(34,Sn,2,1,"div",16),e.qZA()(),e.TgZ(35,"div",17)(36,"div",18)(37,"label"),e._uU(38,"Upload Machine Images*"),e.qZA(),e.TgZ(39,"div",19)(40,"div",20)(41,"input",21,22),e.NdJ("change",function(d){return o.fileValue(d)}),e.qZA(),e.TgZ(43,"label",23)(44,"div",24),e._UZ(45,"img",25)(46,"br")(47,"h6",26),e.qZA()()(),e.TgZ(48,"div",27),e.YNc(49,Vn,5,1,"div",28),e.qZA()(),e.YNc(50,En,2,1,"div",16),e.qZA()()(),e.TgZ(51,"div",29)(52,"a",30),e._uU(53,"Cancel"),e.qZA(),e.TgZ(54,"button",31),e.NdJ("click",function(){return o.updateMachine()}),e._UZ(55,"i",32),e._uU(56," Update"),e.qZA()()()()()()),2&r&&(e.xp6(7),e.Q6J("formGroup",o.machineForm),e.xp6(7),e.Q6J("ngClass",e.VKq(14,D,o.submitted&&o.machineFormControls.machineName.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.machineFormControls.machineName.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(16,D,o.submitted&&o.machineFormControls.model.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.machineFormControls.model.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(18,D,o.submitted&&o.machineFormControls.count.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.machineFormControls.count.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(20,D,o.submitted&&o.machineFormControls.vendorProductIds.errors)),e.xp6(1),e.Q6J("ngForOf",o.productsList),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.machineFormControls.vendorProductIds.errors),e.xp6(15),e.Q6J("ngForOf",o.productImages),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.machineFormControls.machineImage.errors),e.xp6(4),e.Q6J("disabled",o.isLoading),e.xp6(1),e.Q6J("ngClass",e.VKq(22,Ln,o.isLoading)))},dependencies:[u.mk,u.sg,u.O5,a.YN,a.Kr,a.Fj,a.K7,a.JJ,a.JL,a.sg,a.u]})}return i})()},{path:"add-certificate/:factoryId/:vendorId",component:Oo},{path:"edit-certificate/:factoryId/:vendorId/:certificateId",component:(()=>{class i{constructor(t,r,o,s,d,g,v){this.ngxService=t,this._FB=r,this._notifier=o,this.router=s,this.routes=d,this._DCS=g,this._CS=v,this.isLoading=!1,this.submitted=!1}ngOnInit(){this.initCertificateForm(),this.routes.params.subscribe(t=>{t&&t.factoryId&&(this.factoryId=t.factoryId,this.vendorId=t.vendorId,this.certificateId=t.certificateId,this.getCertificateDetails())})}initCertificateForm(){this.certificationForm=this._FB.group({certificationName:["",a.kI.required],startDate:["",a.kI.required],endDate:["",a.kI.required],issuingAuthority:["",a.kI.required],certificationImage:["",a.kI.required]})}get certificationFormControls(){return this.certificationForm.controls}getCertificateDetails(){this._DCS.getCertificateDetails(this.certificateId,this.vendorId,this.factoryId).pipe((0,_.x)(()=>{})).subscribe(t=>{t.meta.status?(t.data.startDate=S(t.data.startDate).format("YYYY-MM-DD"),t.data.endDate=S(t.data.endDate).format("YYYY-MM-DD"),this.certificationForm.patchValue(t?.data),this.productImages=t?.data?.certificationImage,this.certificationForm.get("certificationImage")?.reset(this.productImages)):this._notifier.showError(t.meta.msg,"Error")})}fileValue(t){var r=t.target.files[0],o=t.target.value,s=o.split(".").pop();"jpg"==s||"svg"==s||"jpeg"==s||"png"==s||"gif"==s?(o.replace(/^.*[\\\/]/,"").split(".").slice(0,-1).join("."),r&&this.uploadImage(r)):alert("File not supported. Kindly Upload the Image of below given extension ")}uploadImage(t){this.ngxService.start();let r=new FormData;r.append("image",t),this._CS.uploadImage(r).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(o=>{o.meta.status?(this.productImages=o?.data,this.certificationForm.get("certificationImage")?.reset(this.productImages)):this._notifier.showError(o.meta.msg,"Error")})}removeFile(t,r){this.ngxService.start();let o={filePath:r.split("/").pop()};this._CS.removeFile(o).pipe((0,_.x)(()=>{this.ngxService.stop()})).subscribe(s=>{if(s.meta.status){const d=this.productImages.indexOf(r);this.productImages.splice(d,1),this.certificationForm.get("certificationImage")?.reset(this.productImages)}else this._notifier.showError(s.meta.msg,"Error")})}updateCertificate(){if(this.certificationForm.valid){this.isLoading=!0,this.certificationForm.value.startDate=S(this.certificationForm.value.startDate).valueOf(),this.certificationForm.value.endDate=S(this.certificationForm.value.endDate).valueOf();let t={...this.certificationForm.value,factoryId:this.factoryId,vendorId:this.vendorId};this._DCS.updateCertificate(t,this.certificateId).pipe((0,_.x)(()=>{this.isLoading=!1})).subscribe(r=>{r.meta.status?(this.router.navigate(["/vendors/factory-detail",this.factoryId,this.vendorId]),this._notifier.showSuccess(r.meta.msg,"Success")):this._notifier.showWarning(r.meta.msg,"Error")},r=>{this._notifier.showError("Something Went Wrong","Error")})}else this.submitted=!0}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(p.LA),e.Y36(a.qu),e.Y36(h.lG),e.Y36(m.F0),e.Y36(m.gz),e.Y36(U.x),e.Y36(h.v_))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-certificate"]],decls:54,vars:23,consts:[[1,"dashboardMain"],[1,"page-header"],["href","javascript:history.back()",1,"back-arrow"],[1,"bi","bi-arrow-left-short","me-4"],[1,"account_dashboard","profile_dashboard"],[1,"login-white-box",3,"formGroup"],[1,"form-box"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-4"],[1,"form-group"],["type","text","placeholder","Enter Certificate Name*","formControlName","certificationName",1,"form-control","form-ctrl",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"form-group","mb-3"],["type","date","placeholder","05/07/2023","formControlName","startDate",1,"form-control","form-ctrl","datePicker",3,"ngClass"],["type","date","placeholder","05/07/2023","formControlName","endDate",1,"form-control","form-ctrl","datePicker",3,"ngClass"],["type","text","placeholder","Enter Issuing Authority","formControlName","issuingAuthority",1,"form-control","form-ctrl",3,"ngClass"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"form-group","mb-0"],[1,"upload-doc","d-flex","flex-wrap"],[1,"image-upload"],["type","file","name","","id","logoCert","accept",".png, .jpg, .jpeg",3,"change"],["for","logoCert","id","file-label",1,"upload-field"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/upload-icon.png","alt",""],["id","filename"],["class","imageList",4,"ngIf"],["style","display: block;","class","invalid-feedback",4,"ngIf"],[1,"text-end","main_btn","mt-3"],["href","javascript:history.back()",1,"btn","btn-light","me-3"],[1,"btn","btn-success",3,"disabled","click"],[1,"fa",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],[1,"imageList"],[1,"form-check-inline","text-center","ms-4"],["role","alert",1,"alert-photo","mb-2","alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"alert-photo-img"],[3,"src"],[1,"invalid-feedback",2,"display","block"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3")(3,"a",2),e._UZ(4,"i",3),e.qZA(),e._uU(5," Update Certification "),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label"),e._uU(13,"Certificate Name*"),e.qZA(),e._UZ(14,"input",10),e.YNc(15,Mn,2,1,"div",11),e.qZA()(),e.TgZ(16,"div",8)(17,"div",12)(18,"label"),e._uU(19,"Valid From*"),e.qZA(),e._UZ(20,"input",13),e.YNc(21,$n,2,1,"div",11),e.qZA()(),e.TgZ(22,"div",8)(23,"div",12)(24,"label"),e._uU(25,"Valid Upto*"),e.qZA(),e._UZ(26,"input",14),e.YNc(27,On,2,1,"div",11),e.qZA()(),e.TgZ(28,"div",8)(29,"div",9)(30,"label"),e._uU(31,"Issuing authority*"),e.qZA(),e._UZ(32,"input",15),e.YNc(33,jn,2,1,"div",11),e.qZA()(),e.TgZ(34,"div",16)(35,"div",17)(36,"label"),e._uU(37,"Upload Certificate*"),e.qZA(),e.TgZ(38,"div",18)(39,"div",19)(40,"input",20),e.NdJ("change",function(d){return o.fileValue(d)}),e.qZA(),e.TgZ(41,"label",21)(42,"div",22),e._UZ(43,"img",23)(44,"br")(45,"h6",24),e.qZA()()(),e.YNc(46,Gn,6,1,"div",25),e.qZA(),e.YNc(47,Rn,2,1,"div",26),e.qZA()()(),e.TgZ(48,"div",27)(49,"a",28),e._uU(50,"Cancel"),e.qZA(),e.TgZ(51,"button",29),e.NdJ("click",function(){return o.updateCertificate()}),e._UZ(52,"i",30),e._uU(53," Update"),e.qZA()()()()()()),2&r&&(e.xp6(7),e.Q6J("formGroup",o.certificationForm),e.xp6(7),e.Q6J("ngClass",e.VKq(13,M,o.submitted&&o.certificationFormControls.certificationName.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.certificationFormControls.certificationName.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(15,M,o.submitted&&o.certificationFormControls.startDate.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.certificationFormControls.startDate.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(17,M,o.submitted&&o.certificationFormControls.endDate.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.certificationFormControls.endDate.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(19,M,o.submitted&&o.certificationFormControls.issuingAuthority.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.certificationFormControls.issuingAuthority.errors),e.xp6(13),e.Q6J("ngIf",o.productImages),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.certificationFormControls.certificationImage.errors),e.xp6(4),e.Q6J("disabled",o.isLoading),e.xp6(1),e.Q6J("ngClass",e.VKq(21,Hn,o.isLoading)))},dependencies:[u.mk,u.O5,a.Fj,a.JJ,a.JL,a.sg,a.u]})}return i})()}];let ts=(()=>{class i{static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(es),m.Bz]})}return i})(),is=(()=>{class i{static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[u.ez,ts,a.UX,a.u5,p.Js,A.Rq]})}return i})()},12988:(K,J,f)=>{f.d(J,{m:()=>k});var u=f(20553),m=f(99468),w=f(69862);let k=(()=>{class y{constructor(e){this.http=e}getVendorList(e,l,c,p,h,A){return this.http.get(`${u.N.apiUrl}vendor/list?status=${e}&searchKey=${l}&countryId=${c}&page=${h}&contentPerPage=${A}&onboardedBy=${p}`)}getCountryList(){return this.http.get(`${u.N.apiUrl}location/country`)}getStateList(e,l,c){return this.http.get(`${u.N.apiUrl}location/state?page=${e}&contentPerPage=${l}&countryCode=${c}`)}addVendor(e){return this.http.post(`${u.N.apiUrl}vendor/add`,e)}inviteVendor(e){return this.http.post(`${u.N.apiUrl}vendor/invite/send`,e)}reInviteVendor(e){return this.http.put(`${u.N.apiUrl}vendor/invite/resend/${e}`,{})}getInvitedCustomerList(e,l,c,p,h){return this.http.get(`${u.N.apiUrl}vendor/invite/list?searchTxt=${l}&country=${c}&status=${e}&page=${p}&contentPerPage=${h}`)}updateGrade(e){return this.http.put(`${u.N.apiUrl}vendor/grades`,e)}getVendorGrades(){return this.http.get(`${u.N.apiUrl}margin-automation/dropdown/VENDOR_GRADE`)}getVendorDetails(e){return this.http.get(`${u.N.apiUrl}vendor/details/${e}`)}getFactoryDetails(e,l){return this.http.get(`${u.N.apiUrl}factory/details/${e}/${l}`)}getMachineList(e,l){return this.http.get(`${u.N.apiUrl}machine/list/${l}/${e}`)}getCertificateList(e,l){return this.http.get(`${u.N.apiUrl}certification/list/${l}/${e}`)}changeStatus(e){return this.http.put(`${u.N.apiUrl}vendor/status`,e)}addProduct(e){return this.http.post(`${u.N.apiUrl}vendor/product/add`,e)}getProductList(e,l){return this.http.get(`${u.N.apiUrl}vendor/product/list/${l}`,{params:e})}getProductDetail(e,l){return this.http.get(`${u.N.apiUrl}vendor/product/details/${e}/${l}`)}deleteProduct(e,l){return this.http.delete(`${u.N.apiUrl}vendor/product/delete/${e}/${l}`)}productStatus(e){return this.http.patch(`${u.N.apiUrl}vendor/product/status`,e)}updateVendorProfile(e){return this.http.patch(`${u.N.apiUrl}vendor/basicInfo`,e)}updateProduct(e){return this.http.post(`${u.N.apiUrl}vendor/product/update`,e)}updatePaymentTerms(e){return this.http.put(`${u.N.apiUrl}vendor/paymentTerms`,e)}updateCreditPeriod(e){return this.http.put(`${u.N.apiUrl}vendor/creditPeriod`,e)}getQuotesList(e){return this.http.get(`${u.N.apiUrl}quote/list2`,{params:e})}deleteMachine(e,l,c){return this.http.delete(`${u.N.apiUrl}machine/delete/${e}/${l}/${c}`)}deleteCertificate(e,l,c){return this.http.delete(`${u.N.apiUrl}certification/delete/${e}/${l}/${c}`)}static#e=this.\u0275fac=function(l){return new(l||y)(m.LFG(w.eN))};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()}}]);