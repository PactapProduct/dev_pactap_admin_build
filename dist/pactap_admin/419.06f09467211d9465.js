"use strict";(self.webpackChunkpactap_admin=self.webpackChunkpactap_admin||[]).push([[419],{70419:(ht,x,u)=>{u.r(x),u.d(x,{QuickQuoteModule:()=>ft});var d=u(96814),m=u(6627),b=u(19631),w=u(78645),I=u(83620),U=u(93997),Z=u(16676),e=u(99468),k=u(31723),f=u(57870),C=u(29917),a=u(56223),Q=u(64686);function D(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",51)(2,"input",52),e.NdJ("ngModelChange",function(i){const r=e.CHM(t).$implicit;return e.KtG(r.show=i)})("change",function(i){const r=e.CHM(t).index,c=e.oxw();return e.KtG(c.hideShowCol(i,r))}),e.qZA(),e.TgZ(3,"label",53),e._uU(4),e.qZA()()()}if(2&s){const t=n.$implicit,o=n.index;e.xp6(2),e.MGl("id","col",o,""),e.Q6J("ngModel",t.show),e.xp6(1),e.MGl("for","col",o,""),e.xp6(1),e.Oqu(t.column)}}function y(s,n){if(1&s&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&s){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.hij(" ",t.productName," ")}}const N=function(){return["/quick-quotes/add"]};function S(s,n){1&s&&(e.TgZ(0,"div",55)(1,"a",56),e._UZ(2,"i",57),e._uU(3," Add Quick Quote Request"),e.qZA()()),2&s&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,N)))}function F(s,n){if(1&s&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&s){const t=n.$implicit;e.Tol("col"+n.index),e.xp6(1),e.Oqu(t.column)}}const v=function(s){return["/quick-quotes/details",s]},J=function(){return{isUpdate:!0}};function E(s,n){if(1&s&&(e.TgZ(0,"li")(1,"a",79),e._UZ(2,"i",85),e._uU(3," Update "),e.qZA()()),2&s){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,v,t._id))("queryParams",e.DdM(4,J))}}const p=function(s){return{colHide:s}},M=function(s,n,t,o){return{pinkBg:s,blueBg:n,yellowBg:t,greenBg:o}},L=function(){return{isAssigned:!0}},Y=function(){return{isPrint:!0}};function P(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div",51)(3,"input",62),e.NdJ("change",function(i){const r=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.isSelectSingle(i,r))}),e.qZA()()(),e.TgZ(4,"td",63),e._uU(5),e._UZ(6,"br"),e.TgZ(7,"span",64),e._uU(8),e.qZA()(),e.TgZ(9,"td",65),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td",66),e._uU(13),e.qZA(),e.TgZ(14,"td",67),e._uU(15),e.qZA(),e.TgZ(16,"td",68),e._uU(17),e.qZA(),e.TgZ(18,"td",69),e._uU(19),e.qZA(),e.TgZ(20,"td",70),e._uU(21),e.qZA(),e.TgZ(22,"td",71)(23,"div",72)(24,"div",73)(25,"button",74),e._UZ(26,"i",75),e.qZA(),e.TgZ(27,"ul",76)(28,"li")(29,"a",77),e._UZ(30,"i",78),e._uU(31," View"),e.qZA()(),e.TgZ(32,"li")(33,"a",79),e._UZ(34,"i",80),e._uU(35," Assign"),e.qZA()(),e.YNc(36,E,4,5,"li",81),e.TgZ(37,"li")(38,"a",79),e._UZ(39,"i",82),e._uU(40,"Print "),e.qZA()(),e.TgZ(41,"li")(42,"a",83),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.showConfirmModal(l))}),e._UZ(43,"i",84),e._uU(44," Delete "),e.qZA()()()()()()()}if(2&s){const t=n.$implicit,o=n.index,i=e.oxw(2);e.xp6(3),e.MGl("id","quickList",o,""),e.Q6J("checked",t.isChecked),e.xp6(1),e.Q6J("ngClass",e.VKq(27,p,!i.columns[0].show)),e.xp6(1),e.Oqu(t.qucikQuoteId),e.xp6(2),e.Q6J("ngClass",e.l5B(29,M,"Open"===t.status||"Deleted"===t.status,"In Progress"===t.status,"Assigned"===t.status,"Completed"===t.status||"Closed"===t.status)),e.xp6(1),e.hij(" ","Closed"===t.status?"Completed":t.status," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,p,!i.columns[1].show)),e.xp6(1),e.Oqu(e.lcZ(11,25,t.requestDate)),e.xp6(2),e.Q6J("ngClass",e.VKq(36,p,!i.columns[2].show)),e.xp6(1),e.Oqu(t.name),e.xp6(1),e.Q6J("ngClass",e.VKq(38,p,!i.columns[3].show)),e.xp6(1),e.Oqu(t.email),e.xp6(1),e.Q6J("ngClass",e.VKq(40,p,!i.columns[4].show)),e.xp6(1),e.AsE("+",t.phoneCode," ",t.phoneNo,""),e.xp6(1),e.Q6J("ngClass",e.VKq(42,p,!i.columns[5].show)),e.xp6(1),e.Oqu(t.products.length),e.xp6(1),e.Q6J("ngClass",e.VKq(44,p,!i.columns[6].show)),e.xp6(1),e.Oqu(t.compnany),e.xp6(8),e.Q6J("routerLink",e.VKq(46,v,t._id)),e.xp6(4),e.Q6J("routerLink",e.VKq(48,v,t._id))("queryParams",e.DdM(50,L)),e.xp6(3),e.Q6J("ngIf",i.quickQuotePermission.update),e.xp6(2),e.Q6J("routerLink",e.VKq(51,v,t._id))("queryParams",e.DdM(53,Y))}}function O(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"table",58)(1,"thead")(2,"tr")(3,"th")(4,"div",51)(5,"input",59),e.NdJ("change",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.isSelectAll(i))}),e.qZA()()(),e.YNc(6,F,2,3,"th",60),e.TgZ(7,"th"),e._uU(8,"\xa0"),e.qZA()()(),e.TgZ(9,"tbody"),e.YNc(10,P,45,54,"tr",61),e.qZA()()}if(2&s){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.columns),e.xp6(4),e.Q6J("ngForOf",t.quickQuotes)}}function j(s,n){1&s&&(e.TgZ(0,"div",86),e._uU(1,"No Data Found."),e.qZA())}function K(s,n){1&s&&e._UZ(0,"i",87)}let V=(()=>{class s{constructor(t,o,i,l){this._QQS=t,this._US=o,this.ngxService=i,this._notifier=l,this.searchKey="",this.productId="",this.startDate="",this.endDate="",this.modelChanged=new w.x,this.columns=[{column:"Quick Quote ID",show:!0,key:"qucikQuoteId"},{column:"Quote Requested on",show:!0,key:"requestDate"},{column:"Name",show:!0,key:"name"},{column:"Email ID",show:!0,key:"email"},{column:"Phone",show:!0,key:"phoneNo"},{column:"No of Products",show:!0,key:"products.length"},{column:"Company Name",show:!0,key:"compnany"}],this.products=[],this.isLoading=!1,this.permissionsArr=[],this.quickQuotePermission={add:!1,update:!1,delete:!1},this.page=1,this.contentPerPage=10,this.totalPage=0,this.quickQuotes=[],this.qucikQuoteId="",this.isLoadingQuick=!1}ngOnInit(){this.getProductList(),this._US.getPermissions().subscribe(t=>{this.permissionsArr=t,Object.keys(this.quickQuotePermission).map(o=>{this.canPerformAction("Quick Quotes",o)})}),this.modelChanged.pipe((0,I.b)(500),(0,U.x)()).subscribe(t=>{this.searchKey=t,this.getQuickQuoteList()}),this.getQuickQuoteList()}ngAfterViewInit(){setTimeout(()=>{this.initDateRangePicker()},200)}initDateRangePicker(){$(".daterangePickerQuickQuote").dateRangePicker({format:"DD-MM-YYYY",autoClose:!0,endDate:Z().endOf("day").format("DD-MM-YYYY")}).on("datepicker-change",(t,o)=>{this.startDate=Z(o.date1).format("YYYY-MM-DD"),this.endDate=Z(o.date2).format("YYYY-MM-DD"),this.getQuickQuoteList()})}openCalendar(t){t.stopPropagation(),$(".daterangePickerQuickQuote").data("dateRangePicker").open()}changed(t){this.modelChanged.next(t)}canPerformAction(t,o){this.quickQuotePermission[o]=this._US.hasPermission(t,o,this.permissionsArr)}getProductList(){this._QQS.getProductList().subscribe(t=>{t.meta.status?this.products=t.data:(this.products=[],this._notifier.showWarning(t.meta.msg,""))},t=>{this._notifier.showError("Something went wrong!","Error")})}changeValue(){this.getQuickQuoteList()}onScrollDown(t){this.page<this.totalPage&&(this.page+=1,this.getQuickQuoteList(!0))}getQuickQuoteList(t){this.ngxService.start(),this._QQS.getQuickQuoteList(this.searchKey,this.productId,this.startDate,this.endDate,this.page,this.contentPerPage).subscribe(o=>{this.ngxService.stop(),o.meta.status?(this.totalPage=this.totalPage?this.totalPage:Math.ceil(o.total/this.contentPerPage),this.quickQuotes=t?[...this.quickQuotes,...o.data]:o.data,this.quickQuotes.map(i=>{i.isChecked=!1})):(this.quickQuotes=t?this.quickQuotes:[],t||this._notifier.showWarning(o.meta.msg,""))},o=>{this.ngxService.stop(),this._notifier.showError("Something went wrong","Error")})}hideShowCol(t,o){o&&5!==o?t.target.checked?$(`.col${o}`).removeClass("colHide"):$(`.col${o}`).addClass("colHide"):(this.columns[o].show=!0,$(`#col${o}`).prop("checked",!0))}isSelectAll(t){this.quickQuotes.map(o=>{o.isChecked=t.target.checked})}isSelectSingle(t,o){o.isChecked=t?.target.checked;let i=this.quickQuotes.every(l=>l.isChecked);$("#quickQuoteSingle").prop("checked",i)}exportDetails(){this.isLoading=!0;let t=JSON.parse(JSON.stringify(this.columns));t.splice(1,0,...this.columns[0].show?[{column:"Status",show:!0,key:"status"}]:[]);let i=this.quickQuotes.filter(l=>{if(l.isChecked)return l}).map(l=>l._id);this._QQS.exportQuickQuote({columnPermission:t,quickQuoteIds:i},this.searchKey,this.productId,this.startDate,this.endDate).subscribe(l=>{this.isLoading=!1;const r=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),c=window.URL.createObjectURL(r),_=document.createElement("a");_.href=c,_.download="Quick-Quote.xlsx",_.click(),window.URL.revokeObjectURL(c),_.remove(),this._notifier.showSuccess("File downloaded successfully","Success"),l.meta.status||this._notifier.showWarning(l.meta.msg,"")},l=>{this._notifier.showError("Something Went Wrong","Error"),this.isLoading=!1})}showConfirmModal(t){t&&t._id&&(this.qucikQuoteId=t._id,$("#DeleteQuickQuoteModal").modal("show"),$("#DeleteQuickQuoteModal").on("hidden.bs.modal",o=>{this.qucikQuoteId=""}))}hideConfirmModal(){$("#DeleteQuickQuoteModal").modal("hide")}deleteQuickQuote(){this.qucikQuoteId?(this.isLoadingQuick=!0,this._QQS.deleteQuickQuote({qucikQuoteId:this.qucikQuoteId}).subscribe(t=>{if(this.isLoadingQuick=!1,t.meta.status){this.hideConfirmModal(),this._notifier.showSuccess(t.meta.msg,"Success");let o=this.quickQuotes.findIndex(i=>i._id===this.qucikQuoteId);this.quickQuotes.splice(o,1)}else this._notifier.showWarning(t.meta.msg,"")},t=>{this.isLoadingQuick=!1,this._notifier.showError("Something went wrong","Error")})):this._notifier.showWarning("Select Quick Quote","")}static#e=this.\u0275fac=function(o){return new(o||s)(e.Y36(k.K),e.Y36(f.KD),e.Y36(C.LA),e.Y36(f.lG))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-list"]],decls:64,vars:12,consts:[[1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between"],[1,"export_button","column-btns"],[1,"btn","btn-light",3,"click"],[1,"formIcons"],["src","assets/images/download.png","alt",""],[1,"rightColumnDrop"],[1,"dropdown","inline-flex"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside",1,"btn","btn-white","dropdown-toggle"],["src","assets/images/column-icon.png"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu","form-filter-drop"],[1,"form-box","form-filter"],["class","form-group",4,"ngFor","ngForOf"],[1,"account_dashboard","profile_dashboard"],[1,"login-white-box"],[1,"row","justify-content-between","listFilter"],[1,"col-12","col-sm-8","col-md-9","col-lg-9","pe-0"],[1,"row"],[1,"col-12","col-md-3","col-sm-6","col-lg-3","pe-0"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","Search","aria-label","Search","aria-describedby","basic-addon2","name","searchKey",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","searchBtn"],[1,"fa","fa-search"],[1,"col-6","col-md-2","col-sm-6","col-lg-3","pe-0"],["name","productId",1,"form-control",3,"ngModel","ngModelChange"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","col-md-4","col-lg-4","col-sm-6"],[1,"form-group","calendarInput"],["type","text","placeholder","EX: 12/02/2023  -  12/02/2023",1,"form-control","daterangePicker","daterangePickerQuickQuote"],[1,"formIconsinner",3,"click"],[1,"bi","bi-calendar-week"],["class","col-12 col-sm-4 col-md-3 col-lg-3 text-end",4,"ngIf"],["infiniteScroll","",1,"table-responsive","fix-headertbl",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["class","table table-bordered","width","100%","cellspacing","0",4,"ngIf"],["style","padding: 100px;text-align: center;",4,"ngIf"],["id","DeleteQuickQuoteModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","feedback-popup"],[1,"modal-header","justify-content-center"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"form-box","form-box-dashboard"],[1,"p-3"],[1,"title","text-center","mb-5"],["type","submit",1,"btn","btn-block","btn-lg","btn-success","btn-sumbit",3,"disabled","click"],["class","fa fa-spin fa-spinner",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-block","btn-lg","btn-light","btn-sumbit"],[1,"form-check"],["type","checkbox","name","columnName",1,"form-check-input",3,"id","ngModel","ngModelChange","change"],[1,"form-check-label",3,"for"],[3,"value"],[1,"col-12","col-sm-4","col-md-3","col-lg-3","text-end"],["href","javascript:void(0)",1,"btn","btn-success","btn-block",3,"routerLink"],[1,"bi","bi-plus-lg"],["width","100%","cellspacing","0",1,"table","table-bordered"],["type","checkbox","id","quickQuoteSingle",1,"form-check-input",3,"change"],[3,"class",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["type","checkbox",1,"form-check-input",3,"checked","id","change"],[1,"col0",3,"ngClass"],[1,"badge",3,"ngClass"],[1,"col1",3,"ngClass"],[1,"col2",3,"ngClass"],[1,"col3",3,"ngClass"],[1,"col4",3,"ngClass"],[1,"col5",3,"ngClass"],[1,"col6",3,"ngClass"],[1,"text-end"],[1,"right-btns-dropdown"],[1,"dropdown","ms-2"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-link","dropdown-toggle"],[1,"fa","fa-ellipsis-v"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu","dropdown-menu-white","dropdownNew"],["href","javascript:void(0)",1,"dropdown-item",3,"routerLink"],[1,"bi","bi-eye"],["href","javascript:void(0)",1,"dropdown-item",3,"routerLink","queryParams"],[1,"bi","bi-check-lg"],[4,"ngIf"],[1,"bi","bi-printer"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],[1,"fa","fa-trash-o"],[1,"bi","bi-pen"],[2,"padding","100px","text-align","center"],[1,"fa","fa-spin","fa-spinner"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3,"Quick Quotes"),e.qZA(),e.TgZ(4,"span",2)(5,"button",3),e.NdJ("click",function(){return i.exportDetails()}),e.TgZ(6,"span",4),e._UZ(7,"img",5),e.qZA(),e._uU(8," Export Details "),e.qZA(),e.TgZ(9,"div",6)(10,"span",7)(11,"button",8),e._UZ(12,"img",9),e._uU(13," Manage Column "),e.qZA(),e.TgZ(14,"div",10)(15,"div",11),e.YNc(16,D,5,4,"div",12),e.qZA()()()()()(),e.TgZ(17,"div",13)(18,"div",14)(19,"div",15)(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",19)(24,"div",20)(25,"input",21),e.NdJ("ngModelChange",function(r){return i.searchKey=r})("ngModelChange",function(r){return i.changed(r)}),e.qZA(),e.TgZ(26,"div",22)(27,"button",23),e._UZ(28,"i",24),e.qZA()()()()(),e.TgZ(29,"div",25)(30,"div",19)(31,"select",26),e.NdJ("ngModelChange",function(r){return i.productId=r})("ngModelChange",function(){return i.changeValue()}),e.TgZ(32,"option",27),e._uU(33,"Select Product"),e.qZA(),e.YNc(34,y,2,2,"option",28),e.qZA()()(),e.TgZ(35,"div",29)(36,"div",30),e._UZ(37,"input",31),e.TgZ(38,"span",32),e.NdJ("click",function(r){return i.openCalendar(r)}),e._UZ(39,"i",33),e.qZA()()()()(),e.YNc(40,S,4,2,"div",34),e.qZA(),e.TgZ(41,"div",35),e.NdJ("scrolled",function(r){return i.onScrollDown(r)}),e.YNc(42,O,11,2,"table",36),e.YNc(43,j,2,0,"div",37),e.qZA()()()(),e.TgZ(44,"div",38)(45,"div",39)(46,"div",40)(47,"div",41)(48,"h5",42),e._uU(49,"Delete Quick Quote"),e.qZA(),e._UZ(50,"button",43),e.qZA(),e.TgZ(51,"div",44)(52,"div",45)(53,"div",46)(54,"div",47)(55,"h4"),e._uU(56,"Are you sure to delete the Quick Quote?"),e.qZA()(),e.TgZ(57,"div",19)(58,"button",48),e.NdJ("click",function(){return i.deleteQuickQuote()}),e.YNc(59,K,1,0,"i",49),e._uU(60," Yes "),e.qZA()(),e.TgZ(61,"div",19)(62,"button",50),e._uU(63,"No"),e.qZA()()()()()()()()),2&o&&(e.xp6(16),e.Q6J("ngForOf",i.columns),e.xp6(9),e.Q6J("ngModel",i.searchKey),e.xp6(6),e.Q6J("ngModel",i.productId),e.xp6(3),e.Q6J("ngForOf",i.products),e.xp6(6),e.Q6J("ngIf",i.quickQuotePermission.add),e.xp6(1),e.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("scrollWindow",!1),e.xp6(1),e.Q6J("ngIf",i.quickQuotes.length),e.xp6(1),e.Q6J("ngIf",!i.quickQuotes.length),e.xp6(15),e.Q6J("disabled",i.isLoadingQuick),e.xp6(1),e.Q6J("ngIf",i.isLoadingQuick))},dependencies:[d.mk,d.sg,d.O5,m.rH,a.YN,a.Kr,a.Fj,a.Wl,a.EJ,a.JJ,a.On,Q.Ry,d.uU],styles:[".colHide[_ngcontent-%COMP%]{display:none}"]})}return s})();var A=u(64716);function G(s,n){1&s&&(e.TgZ(0,"div"),e._uU(1," Name is required. "),e.qZA())}function R(s,n){if(1&s&&(e.TgZ(0,"div",41),e.YNc(1,G,2,0,"div",42),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.quickQuoteFormControls.name.errors.required)}}function B(s,n){1&s&&(e.TgZ(0,"div"),e._uU(1," Email is required. "),e.qZA())}function H(s,n){if(1&s&&(e.TgZ(0,"div",41),e.YNc(1,B,2,0,"div",42),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.quickQuoteFormControls.email.errors.required)}}function W(s,n){1&s&&(e.TgZ(0,"div"),e._uU(1," Compnany is required. "),e.qZA())}function X(s,n){if(1&s&&(e.TgZ(0,"div",41),e.YNc(1,W,2,0,"div",42),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.quickQuoteFormControls.compnany.errors.required)}}function z(s,n){if(1&s&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&s){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function ee(s,n){1&s&&(e.TgZ(0,"div"),e._uU(1," Country is required. "),e.qZA())}function te(s,n){if(1&s&&(e.TgZ(0,"div",41),e.YNc(1,ee,2,0,"div",42),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.quickQuoteFormControls.country.errors.required)}}function ie(s,n){if(1&s&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&s){const t=n.$implicit;e.s9C("value",t.phonecode),e.xp6(1),e.AsE(" ",t.isoCode," +",t.phonecode," ")}}function se(s,n){1&s&&(e.TgZ(0,"div"),e._uU(1," Contact Number is required. "),e.qZA())}function oe(s,n){if(1&s&&(e.TgZ(0,"div",41),e.YNc(1,se,2,0,"div",42),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.quickQuoteFormControls.phoneNo.errors.required)}}function ne(s,n){if(1&s&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&s){const t=n.$implicit;e.s9C("value",t._id),e.Q6J("id","product"+t._id),e.xp6(1),e.hij(" ",t.productName," ")}}function le(s,n){1&s&&(e.TgZ(0,"div"),e._uU(1," Product is required. "),e.qZA())}function re(s,n){if(1&s&&(e.TgZ(0,"div",45),e.YNc(1,le,2,0,"div",42),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.quickQuoteFormControls.products.errors.required)}}function ae(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(),l=i.index,r=i.$implicit,c=e.oxw();return e.KtG(c.removeItem(l,r))}),e._uU(1),e._UZ(2,"i",49),e.qZA()}if(2&s){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.hij("",o.productsObj[t]," ")}}function ce(s,n){if(1&s&&(e.TgZ(0,"div",46),e.YNc(1,ae,3,1,"button",47),e.qZA()),2&s){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf","selectAll"!==t)}}function ue(s,n){1&s&&(e.TgZ(0,"div"),e._uU(1," Details is required. "),e.qZA())}function de(s,n){if(1&s&&(e.TgZ(0,"div",41),e.YNc(1,ue,2,0,"div",42),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.quickQuoteFormControls.details.errors.required)}}function me(s,n){1&s&&(e.TgZ(0,"div",50),e._UZ(1,"img",51)(2,"br"),e.TgZ(3,"h6",52),e._uU(4," File format .pdf, .xls, .word, .csv, .ai, .cdr, .png, .jpeg"),e.qZA()())}function pe(s,n){1&s&&(e.TgZ(0,"div",50),e._UZ(1,"i",53),e.qZA())}function ge(s,n){1&s&&(e.TgZ(0,"div"),e._uU(1," Attachment is required. "),e.qZA())}function _e(s,n){if(1&s&&(e.TgZ(0,"div",45),e.YNc(1,ge,2,0,"div",42),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.quickQuoteFormControls.attachment.errors.required)}}function fe(s,n){if(1&s&&e._UZ(0,"img",64),2&s){const t=e.oxw().$implicit;e.s9C("src",t.url,e.LSH),e.s9C("alt",t.name)}}function he(s,n){if(1&s&&e._UZ(0,"img",65),2&s){const t=e.oxw().$implicit;e.s9C("alt",t.name)}}function ve(s,n){if(1&s&&e._UZ(0,"img",66),2&s){const t=e.oxw().$implicit;e.s9C("alt",t.name)}}function qe(s,n){if(1&s&&e._UZ(0,"img",67),2&s){const t=e.oxw().$implicit;e.s9C("alt",t.name)}}function be(s,n){if(1&s&&e._UZ(0,"img",68),2&s){const t=e.oxw().$implicit;e.s9C("alt",t.name)}}function Ze(s,n){if(1&s&&e._UZ(0,"img",69),2&s){const t=e.oxw().$implicit;e.s9C("alt",t.name)}}function ke(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"div",54)(1,"div",55)(2,"button",56),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.removeFile(l))}),e.qZA(),e.TgZ(3,"div",57),e.YNc(4,fe,1,2,"img",58),e.YNc(5,he,1,1,"img",59),e.YNc(6,ve,1,1,"img",60),e.YNc(7,qe,1,1,"img",61),e.YNc(8,be,1,1,"img",62),e.YNc(9,Ze,1,1,"img",63),e.qZA(),e.TgZ(10,"h6"),e._uU(11),e.ALo(12,"titlecase"),e.qZA()()()}if(2&s){const t=n.$implicit;e.xp6(4),e.Q6J("ngIf",t.isImage),e.xp6(1),e.Q6J("ngIf",t.isCorelDraw),e.xp6(1),e.Q6J("ngIf",t.isPdf),e.xp6(1),e.Q6J("ngIf",t.isWord),e.xp6(1),e.Q6J("ngIf",t.isExcel),e.xp6(1),e.Q6J("ngIf",t.isIllustrator),e.xp6(2),e.Oqu(e.lcZ(12,7,t.name))}}function Ce(s,n){1&s&&(e.TgZ(0,"div"),e._uU(1," Quantity is required. "),e.qZA())}function xe(s,n){if(1&s&&(e.TgZ(0,"div",45),e.YNc(1,Ce,2,0,"div",42),e.qZA()),2&s){const t=e.oxw().$implicit;let o;e.xp6(1),e.Q6J("ngIf",null==(o=t.get("qty"))||null==o.errors?null:o.errors.required)}}function Qe(s,n){if(1&s){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr",78)(2,"td",79),e._uU(3),e.qZA(),e.TgZ(4,"td",75)(5,"span",80),e._UZ(6,"input",81),e.YNc(7,xe,2,1,"div",23),e.qZA()(),e.TgZ(8,"td",75)(9,"a",82),e.NdJ("click",function(){const i=e.CHM(t),l=i.index,r=i.$implicit,c=e.oxw(2);return e.KtG(c.removeItem(l,r.value.productId))}),e._UZ(10,"i",83),e.qZA()()(),e.BQk()}if(2&s){const t=n.$implicit,o=n.index,i=e.oxw(2);let l;e.xp6(1),e.Q6J("formGroupName",o),e.xp6(2),e.hij("",i.productsObj[t.value.productId]," "),e.xp6(4),e.Q6J("ngIf",i.submitted&&(null==(l=t.get("qty"))?null:l.errors))}}function Ae(s,n){if(1&s&&(e.TgZ(0,"div",70)(1,"div",71)(2,"div",72)(3,"table",73)(4,"thead")(5,"tr",74)(6,"td"),e._uU(7,"Product Listing"),e.qZA(),e.TgZ(8,"td",75),e._uU(9,"Quantity"),e.qZA(),e.TgZ(10,"td",75),e._uU(11,"\xa0"),e.qZA()()(),e.TgZ(12,"tbody"),e.ynx(13,76),e.YNc(14,Qe,11,3,"ng-container",77),e.BQk(),e.qZA()()()()()),2&s){const t=e.oxw();e.xp6(14),e.Q6J("ngForOf",t.formArrayControls.controls)}}const g=function(s){return{"is-invalid":s}},Te=function(){return["/quick-quotes"]},we=function(s){return{"fa-spin fa-spinner":s}};let Ie=(()=>{class s{constructor(t,o,i,l,r){this._FB=t,this._QQS=o,this._notifier=i,this.ngxService=l,this.router=r,this.submitted=!1,this.isLoading=!1,this.isLoadingUploading=!1,this.productIds=[],this.products=[],this.productsObj={},this.countries=[],this.attachemnts=[]}ngOnInit(){this.getCountryList(),this.getProductList(),this.initQuickQuoteForm()}ngAfterViewInit(){}initQuickQuoteForm(){this.quickQuoteForm=this._FB.group({products:this._FB.array([],a.kI.required),name:["",a.kI.required],email:["",a.kI.required],compnany:["",a.kI.required],country:["",a.kI.required],phoneCode:["",a.kI.required],phoneNo:["",a.kI.required],details:["",a.kI.required],attachment:["",a.kI.required]})}get quickQuoteFormControls(){return this.quickQuoteForm.controls}get formArrayControls(){return this.quickQuoteForm.controls.products}get formArrayProducts(){return this.quickQuoteForm.get("products")}addItem(t){this.formArrayControls.push(this.createItem(t))}removeItem(t,o){this.productIds.splice(t,1),setTimeout(()=>{$(".selectpicker").selectpicker("val",this.productIds),$(".selectpicker").selectpicker("refresh")},100),this.quickQuoteForm.controls.products.removeAt(t)}createItem(t){return this._FB.group({productId:new a.NI(t,[a.kI.required]),qty:new a.NI("",[a.kI.required])})}getProductList(){this._QQS.getProductList().subscribe(t=>{t.meta.status?(this.products=t.data,this.products.map(o=>{this.productsObj={...this.productsObj,[o._id]:o.productName}}),setTimeout(()=>{$(".selectpicker").selectpicker({multiple:!0}),$(".selectpicker").on("change",()=>{this.formArrayProducts.clear();var o=$(".selectpicker").val();this.productIds=o,this.products.map((i,l)=>{this.products.map(r=>{r===i?._id&&(this.selectDynamicVal=i?.productName)})}),console.log($(".selectpicker").val()),this.productIds?.includes("selectAll")&&this.products.map(i=>{this.productIds.push(i?._id)}),this.productIds.map(i=>{this.addItem(i)})}),$(document).ready(function(){$("#multiple-checkboxes").multiselect({includeSelectAllOption:!0})})},100)):(this.products=[],this._notifier.showWarning(t.meta.msg,""))},t=>{this._notifier.showError("Something went wrong!","Error")})}submitQuickQuote(){this.quickQuoteForm.valid?(this.isLoading=!0,this._QQS.addQuickQuote(this.quickQuoteForm.value).subscribe(t=>{t.meta.status?(this.isLoading=!1,this.router.navigate(["/quick-quotes"]),this._notifier.showSuccess(t.meta.msg,"Success")):(this.isLoading=!1,this._notifier.showWarning(t.meta.msg,""))},t=>{this._notifier.showError("Something went wrong","Error"),this.isLoading=!1})):this.submitted=!0}getCountryList(){this._QQS.getCountryList().subscribe(t=>{t.meta.status?(this.countries=t.data,this.quickQuoteForm.get("phoneCode")?.setValue(this.countries[0].phonecode)):(this.countries=[],this._notifier.showWarning(t.meta.msg,""))})}changeCountry(t){let o=this.countries.find(i=>i._id===t.target.value);this.quickQuoteForm.get("phoneCode")?.setValue(o.phonecode)}getFileType(t){const o=t.lastIndexOf(".");if(-1===o)return"File name has no extension";switch(t.substring(o+1).toLowerCase()){case"jpg":case"jpeg":case"png":return{type:"Image file",isImage:!0};case"pdf":return{type:"PDF file",isPdf:!0};case"doc":case"docx":return{type:"Word document",isWord:!0};case"txt":return{type:"Text file",isText:!0};case"ai":return{type:"Adobe Illustrator file",isIllustrator:!0};case"cdr":return{type:"CorelDRAW file",isCorelDraw:!0};case"xls":return{type:"Excel spreadsheet",isExcel:!0};case"csv":return{type:"CSV file",isExcel:!0};default:return"Unknown file type"}}fileValue(t){const o=new FormData;o.append("attachment",t.target.files[0]),this.isLoadingUploading=!0,this._QQS.uploadAttachment(o).subscribe(i=>{if(i.meta.status){let l=this.getFileType(t.target.files[0].name);delete l.type,this.attachemnts.push({url:i.data.location,name:t.target.files[0].name,...l});const r=this.attachemnts.map(c=>c.url);this.quickQuoteForm.get("attachment")?.setValue(r),this.isLoadingUploading=!1,this._notifier.showSuccess(i.meta.msg,"Success")}else this.isLoadingUploading=!1,this._notifier.showWarning(i.meta.msg,"")},i=>{this._notifier.showError("Something went wrong","Error"),this.isLoadingUploading=!1})}removeFile(t){this.ngxService.start();let o={filePath:t.url.split("/").pop()};this._QQS.removeFile(o).pipe((0,A.x)(()=>{this.ngxService.stop()})).subscribe(i=>{if(i.meta.status){const l=this.attachemnts.findIndex(c=>c.url===t.url);this.attachemnts.splice(l,1);const r=this.attachemnts.map(c=>c.url);this.quickQuoteForm.get("attachment")?.setValue(r),this._notifier.showSuccess(i.meta.msg,"Success")}else this._notifier.showWarning(i.meta.msg,"")},i=>{this._notifier.showError("Something went wrong","Error")})}static#e=this.\u0275fac=function(o){return new(o||s)(e.Y36(a.qu),e.Y36(k.K),e.Y36(f.lG),e.Y36(C.LA),e.Y36(m.F0))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-add"]],decls:87,vars:46,consts:[[1,"dashboardMain"],[1,"page-header"],["href","javascript:history.back()",1,"back-arrow"],[1,"bi","bi-arrow-left-short","me-4"],[1,"account_dashboard","profile_dashboard"],[1,"login-white-box"],[1,"form-box","form-filter",3,"formGroup"],[1,"row"],[1,"col-12","col-sm-6","col-md-6","col-lg-6"],[1,"form-group"],["type","text","placeholder","Name","formControlName","name",1,"form-control","form-ctrl",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Email ID","formControlName","email",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Company Name","formControlName","compnany",1,"form-control","form-ctrl",3,"ngClass"],["formControlName","country",1,"form-control","form-ctrl",3,"ngClass","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-5","col-sm-4","col-md-4","col-lg-4","pe-0"],["formControlName","phoneCode",1,"form-control","form-ctrl"],[1,"col-7","col-sm-8","col-md-8","col-lg-8"],["type","text","placeholder","Contact Number","formControlName","phoneNo",1,"form-control","form-ctrl",3,"ngClass"],["data-selected-text-format","count","multiple","","aria-label","Default select example","name","productIds","data-live-search","true",1,"form-control","form-ctrl","selectpicker",3,"ngClass"],[3,"id","value",4,"ngFor","ngForOf"],["style","display: block;","class","invalid-feedback",4,"ngIf"],[1,"d-flex","flex-wrap","mt-2"],["class","form-check-inline text-center alert alert-dismissible fade show p-0","role","alert",4,"ngFor","ngForOf"],["rows","4","placeholder","Type here","formControlName","details",1,"form-control","form-ctrl",3,"ngClass"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex"],[1,"upload-doc-item","Upload-plus"],[1,"image-upload"],["type","file","name","","id","logo",3,"disabled","change"],["for","logo","id","file-label",1,"upload-field"],["class","file-thumbnail",4,"ngIf"],[1,"d-flex","flex-wrap"],["class","form-check-inline text-center",4,"ngFor","ngForOf"],["class","col-12 col-sm-6 col-md-6 col-lg-6 ps-5",4,"ngIf"],[1,"text-end","main_btn","mt-3"],["href","javascript:void(0)",1,"btn","btn-light","me-3",3,"routerLink"],[1,"btn","btn-success",3,"disabled","click"],[1,"fa",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[3,"id","value"],[1,"invalid-feedback",2,"display","block"],["role","alert",1,"form-check-inline","text-center","alert","alert-dismissible","fade","show","p-0"],["type","button","class","btn btn-sm btn-light",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light",3,"click"],[1,"ms-2","fa","fa-close"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/upload-icon.png","alt",""],["id","filename"],[1,"fa","fa-spin","fa-spinner"],[1,"form-check-inline","text-center"],["role","alert",1,"alert-photo","alert","alert-warning","alert-dismissible","fade","show"],["type","button",1,"btn-close",3,"click"],[1,"alert-photo-img"],[3,"src","alt",4,"ngIf"],["src","assets/images/cdr.png",3,"alt",4,"ngIf"],["src","assets/images/pdf.png",3,"alt",4,"ngIf"],["src","assets/images/excel.png",3,"alt",4,"ngIf"],["src","assets/images/xls.png",3,"alt",4,"ngIf"],["src","assets/images/illustrator.png",3,"alt",4,"ngIf"],[3,"src","alt"],["src","assets/images/cdr.png",3,"alt"],["src","assets/images/pdf.png",3,"alt"],["src","assets/images/excel.png",3,"alt"],["src","assets/images/xls.png",3,"alt"],["src","assets/images/illustrator.png",3,"alt"],[1,"col-12","col-sm-6","col-md-6","col-lg-6","ps-5"],[1,"table-card"],[1,"table-reponsive"],[1,"table","table-bordered","table-lg"],[1,"table-success","text-white"],[1,"text-center"],["formArrayName","products"],[4,"ngFor","ngForOf"],[3,"formGroupName"],[1,"text-success"],[1,"greyBox2","bg-gray2","btn-block"],["type","text","formControlName","qty",1,"form-control"],["href","javascript:void(0)",1,"text-dark","underline-none","viewText",3,"click"],[1,"fa","fa-trash-o"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3")(3,"a",2),e._UZ(4,"i",3),e.qZA(),e._uU(5," Add Quick Quote Request "),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",7)(12,"div",8)(13,"div",9)(14,"label"),e._uU(15,"Name*"),e.qZA(),e._UZ(16,"input",10),e.YNc(17,R,2,1,"div",11),e.qZA()(),e.TgZ(18,"div",8)(19,"div",9)(20,"label"),e._uU(21,"Email ID*"),e.qZA(),e._UZ(22,"input",12),e.YNc(23,H,2,1,"div",11),e.qZA()(),e.TgZ(24,"div",8)(25,"div",9)(26,"label"),e._uU(27,"Company Name*"),e.qZA(),e._UZ(28,"input",13),e.YNc(29,X,2,1,"div",11),e.qZA()(),e.TgZ(30,"div",8)(31,"div",9)(32,"label"),e._uU(33,"Country*"),e.qZA(),e.TgZ(34,"select",14),e.NdJ("change",function(r){return i.changeCountry(r)}),e.TgZ(35,"option",15),e._uU(36,"Select Country"),e.qZA(),e.YNc(37,z,2,2,"option",16),e.qZA(),e.YNc(38,te,2,1,"div",11),e.qZA()()(),e.TgZ(39,"div",9)(40,"label"),e._uU(41,"Contact Number"),e.qZA(),e.TgZ(42,"div",7)(43,"div",17)(44,"div",9)(45,"select",18),e.YNc(46,ie,2,3,"option",16),e.qZA()()(),e.TgZ(47,"div",19)(48,"div",9),e._UZ(49,"input",20),e.YNc(50,oe,2,1,"div",11),e.qZA()()()(),e.TgZ(51,"div",9)(52,"label"),e._uU(53,"Products"),e.TgZ(54,"sup"),e._uU(55,"*"),e.qZA()(),e.TgZ(56,"select",21),e.YNc(57,ne,2,3,"option",22),e.qZA(),e.YNc(58,re,2,1,"div",23),e.TgZ(59,"div",24),e.YNc(60,ce,2,1,"div",25),e.qZA()(),e.TgZ(61,"div",9)(62,"label"),e._uU(63,"Details"),e.qZA(),e._UZ(64,"textarea",26),e.YNc(65,de,2,1,"div",11),e.qZA(),e.TgZ(66,"div",9)(67,"label",27),e._uU(68,"Attachments "),e.qZA(),e.TgZ(69,"div",28)(70,"div",29)(71,"div",30)(72,"input",31),e.NdJ("change",function(r){return i.fileValue(r)}),e.qZA(),e.TgZ(73,"label",32),e.YNc(74,me,5,0,"div",33),e.YNc(75,pe,2,0,"div",33),e.qZA()()()(),e.YNc(76,_e,2,1,"div",23),e.qZA(),e.TgZ(77,"div",9)(78,"div",34),e.YNc(79,ke,13,9,"div",35),e.qZA()()(),e.YNc(80,Ae,15,1,"div",36),e.qZA()()(),e.TgZ(81,"div",37)(82,"a",38),e._uU(83,"Cancel"),e.qZA(),e.TgZ(84,"button",39),e.NdJ("click",function(){return i.submitQuickQuote()}),e._UZ(85,"i",40),e._uU(86," Submit"),e.qZA()()()()),2&o&&(e.xp6(8),e.Q6J("formGroup",i.quickQuoteForm),e.xp6(8),e.Q6J("ngClass",e.VKq(29,g,i.submitted&&i.quickQuoteFormControls.name.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.quickQuoteFormControls.name.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(31,g,i.submitted&&i.quickQuoteFormControls.email.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.quickQuoteFormControls.email.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(33,g,i.submitted&&i.quickQuoteFormControls.compnany.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.quickQuoteFormControls.compnany.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(35,g,i.submitted&&i.quickQuoteFormControls.country.errors)),e.xp6(3),e.Q6J("ngForOf",i.countries),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.quickQuoteFormControls.country.errors),e.xp6(8),e.Q6J("ngForOf",i.countries),e.xp6(3),e.Q6J("ngClass",e.VKq(37,g,i.submitted&&i.quickQuoteFormControls.phoneNo.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.quickQuoteFormControls.phoneNo.errors),e.xp6(6),e.Q6J("ngClass",e.VKq(39,g,i.submitted&&i.quickQuoteFormControls.products.errors)),e.uIk("data-count-selected-text",i.selectDynamicVal),e.xp6(1),e.Q6J("ngForOf",i.products),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.quickQuoteFormControls.products.errors),e.xp6(2),e.Q6J("ngForOf",i.productIds),e.xp6(4),e.Q6J("ngClass",e.VKq(41,g,i.submitted&&i.quickQuoteFormControls.details.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.quickQuoteFormControls.details.errors),e.xp6(7),e.Q6J("disabled",i.isLoadingUploading),e.xp6(2),e.Q6J("ngIf",!i.isLoadingUploading),e.xp6(1),e.Q6J("ngIf",i.isLoadingUploading),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.quickQuoteFormControls.attachment.errors),e.xp6(3),e.Q6J("ngForOf",i.attachemnts),e.xp6(1),e.Q6J("ngIf",i.formArrayControls.length),e.xp6(2),e.Q6J("routerLink",e.DdM(43,Te)),e.xp6(2),e.Q6J("disabled",i.isLoading),e.xp6(1),e.Q6J("ngClass",e.VKq(44,we,i.isLoading)))},dependencies:[d.mk,d.sg,d.O5,m.rH,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,a.x0,a.CE,d.rS]})}return s})();var Ue=u(15861),T=u(48983);function De(s,n){1&s&&(e.TgZ(0,"div"),e._uU(1," Details is required. "),e.qZA())}function ye(s,n){if(1&s&&(e.TgZ(0,"div",79),e.YNc(1,De,2,0,"div",58),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.detailsFormControls.details.errors.required)}}const q=function(s){return{"fa-spin fa-spinner":s}};function Ne(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"div",80)(1,"button",81),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateQuickQuote())}),e._UZ(2,"i",72),e._uU(3," Update "),e.qZA()()}if(2&s){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.isLoading),e.xp6(1),e.Q6J("ngClass",e.VKq(2,q,t.isLoading))}}function Se(s,n){if(1&s&&e._UZ(0,"img",93),2&s){const t=e.oxw().$implicit;e.s9C("src",t.url,e.LSH),e.s9C("alt",t.name)}}function Fe(s,n){if(1&s&&e._UZ(0,"img",94),2&s){const t=e.oxw().$implicit;e.s9C("alt",t.name)}}function Je(s,n){if(1&s&&e._UZ(0,"img",95),2&s){const t=e.oxw().$implicit;e.s9C("alt",t.name)}}function Ee(s,n){if(1&s&&e._UZ(0,"img",96),2&s){const t=e.oxw().$implicit;e.s9C("alt",t.name)}}function Me(s,n){if(1&s&&e._UZ(0,"img",97),2&s){const t=e.oxw().$implicit;e.s9C("alt",t.name)}}function Le(s,n){if(1&s&&e._UZ(0,"img",98),2&s){const t=e.oxw().$implicit;e.s9C("alt",t.name)}}function Ye(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"div",82)(1,"div",83)(2,"div",84),e.YNc(3,Se,1,2,"img",85),e.YNc(4,Fe,1,1,"img",86),e.YNc(5,Je,1,1,"img",87),e.YNc(6,Ee,1,1,"img",88),e.YNc(7,Me,1,1,"img",89),e.YNc(8,Le,1,1,"img",90),e.qZA(),e.TgZ(9,"h6"),e._uU(10),e.qZA()(),e.TgZ(11,"div")(12,"a",91),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.downloadImage(l.url))}),e._uU(13," Download "),e._UZ(14,"i",92),e.qZA()()()}if(2&s){const t=n.$implicit;e.xp6(3),e.Q6J("ngIf",t.isImage),e.xp6(1),e.Q6J("ngIf",t.isCorelDraw),e.xp6(1),e.Q6J("ngIf",t.isPdf),e.xp6(1),e.Q6J("ngIf",t.isWord),e.xp6(1),e.Q6J("ngIf",t.isExcel),e.xp6(1),e.Q6J("ngIf",t.isIllustrator),e.xp6(2),e.Oqu(t.name)}}function Pe(s,n){if(1&s&&(e.TgZ(0,"tr")(1,"td",99),e._uU(2),e.qZA(),e.TgZ(3,"td",38)(4,"span",100),e._uU(5),e.qZA()()()),2&s){const t=n.$implicit;e.xp6(2),e.Oqu(t.productName),e.xp6(3),e.Oqu(t.qty)}}function Oe(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"a",104),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.showManagerModal("SALES_MANAGER",null==i.quickDetails?null:i.quickDetails.salesManager))}),e._UZ(1,"img",105),e.qZA()}}function $e(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"a",106),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.showDeleteSupport("SALES_MANAGER"))}),e._UZ(1,"img",107),e.qZA()}}function je(s,n){if(1&s&&(e.TgZ(0,"div",101),e.YNc(1,Oe,2,0,"a",102),e.YNc(2,$e,2,0,"a",103),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.quickQuotePermission.update),e.xp6(1),e.Q6J("ngIf",t.quickQuotePermission.delete)}}function Ke(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"div",101)(1,"a",104),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.showManagerModal("SALES_MANAGER"))}),e._uU(2,"+ Add"),e.qZA()()}}function Ve(s,n){if(1&s&&(e.TgZ(0,"div",108)(1,"div",109),e._UZ(2,"div",110),e.qZA(),e.TgZ(3,"div",111)(4,"p",112),e._uU(5),e.qZA(),e.TgZ(6,"h4",113),e._uU(7),e.qZA()()()),2&s){const t=e.oxw();e.xp6(5),e.hij(" ",null==t.quickDetails||null==t.quickDetails.salesManager?null:t.quickDetails.salesManager.loginCustomerId," "),e.xp6(2),e.AsE("",null==t.quickDetails||null==t.quickDetails.salesManager?null:t.quickDetails.salesManager.firstName," ",null==t.quickDetails||null==t.quickDetails.salesManager?null:t.quickDetails.salesManager.lastName,"")}}function Ge(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"a",104),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.showManagerModal("SALES_EXECUTIVE",null==i.quickDetails?null:i.quickDetails.salesExcutive))}),e._UZ(1,"img",105),e.qZA()}}function Re(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"a",106),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.showDeleteSupport("SALES_EXECUTIVE"))}),e._UZ(1,"img",107),e.qZA()}}function Be(s,n){if(1&s&&(e.TgZ(0,"div",101),e.YNc(1,Ge,2,0,"a",102),e.YNc(2,Re,2,0,"a",103),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.quickQuotePermission.update),e.xp6(1),e.Q6J("ngIf",t.quickQuotePermission.delete)}}function He(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"div",101)(1,"a",104),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.showManagerModal("SALES_EXECUTIVE"))}),e._uU(2,"+ Add"),e.qZA()()}}function We(s,n){if(1&s&&(e.TgZ(0,"div",108)(1,"div",109),e._UZ(2,"div",110),e.qZA(),e.TgZ(3,"div",111)(4,"p",112),e._uU(5),e.qZA(),e.TgZ(6,"h4",113),e._uU(7),e.qZA()()()),2&s){const t=e.oxw();e.xp6(5),e.hij(" ",null==t.quickDetails||null==t.quickDetails.salesExcutive?null:t.quickDetails.salesExcutive.loginCustomerId," "),e.xp6(2),e.AsE("",null==t.quickDetails||null==t.quickDetails.salesExcutive?null:t.quickDetails.salesExcutive.firstName," ",null==t.quickDetails||null==t.quickDetails.salesExcutive?null:t.quickDetails.salesExcutive.lastName," ")}}function Xe(s,n){if(1&s&&(e.TgZ(0,"option",114),e._uU(1),e.qZA()),2&s){const t=n.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function ze(s,n){1&s&&(e.TgZ(0,"div"),e._uU(1," Status is required. "),e.qZA())}function et(s,n){if(1&s&&(e.TgZ(0,"div",79),e.YNc(1,ze,2,0,"div",58),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.assignFormControls.status.errors.required)}}function tt(s,n){1&s&&(e.TgZ(0,"div"),e._uU(1," Comment is required. "),e.qZA())}function it(s,n){if(1&s&&(e.TgZ(0,"div",79),e.YNc(1,tt,2,0,"div",58),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.assignFormControls.pactapComment.errors.required)}}const st=function(){return["/quick-quotes"]};function ot(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"div",80)(1,"a",115),e._uU(2,"Cancel"),e.qZA(),e.TgZ(3,"button",116),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateAssign())}),e._UZ(4,"i",72),e._uU(5," Save "),e.qZA()()}if(2&s){const t=e.oxw();e.xp6(1),e.Q6J("routerLink",e.DdM(3,st)),e.xp6(2),e.Q6J("disabled",t.isLoading),e.xp6(1),e.Q6J("ngClass",e.VKq(4,q,t.isLoading))}}function nt(s,n){1&s&&(e.TgZ(0,"span"),e._uU(1,"Sales Manager"),e.qZA())}function lt(s,n){1&s&&(e.TgZ(0,"span"),e._uU(1,"Sales Executive"),e.qZA())}function rt(s,n){if(1&s&&(e.TgZ(0,"option",114),e._uU(1),e.qZA()),2&s){const t=n.$implicit;e.s9C("value",null==t?null:t._id),e.xp6(1),e.AsE(" ",null==t?null:t.firstName," ",null==t?null:t.lastName," ")}}const h=function(s){return{"is-invalid":s}};function at(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"select",117),e.NdJ("change",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.changeRole(i,"SALES_MANAGER"))}),e.TgZ(1,"option",50),e._uU(2,"Sales Manager"),e.qZA(),e.YNc(3,rt,2,3,"option",51),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngClass",e.VKq(2,h,t.submittedSalesManager&&t.salesFormControls.roleUserId.errors)),e.xp6(3),e.Q6J("ngForOf",t.rolesSalesManager)}}function ct(s,n){if(1&s&&(e.TgZ(0,"option",114),e._uU(1),e.qZA()),2&s){const t=n.$implicit;e.s9C("value",null==t?null:t._id),e.xp6(1),e.AsE(" ",null==t?null:t.firstName," ",null==t?null:t.lastName," ")}}function ut(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"select",117),e.NdJ("change",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.changeRole(i,"SALES_EXECUTIVE"))}),e.TgZ(1,"option",50),e._uU(2,"Sales Manager"),e.qZA(),e.YNc(3,ct,2,3,"option",51),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngClass",e.VKq(2,h,t.submittedSalesManager&&t.salesFormControls.roleUserId.errors)),e.xp6(3),e.Q6J("ngForOf",t.rolesSalesExecutive)}}function dt(s,n){1&s&&(e.TgZ(0,"div"),e._uU(1," Role is required. "),e.qZA())}function mt(s,n){if(1&s&&(e.TgZ(0,"div",79),e.YNc(1,dt,2,0,"div",58),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.salesFormControls.roleUserId.errors.required)}}const gt=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",canActivate:[b.n],data:{module:"Quick Quotes",permission:"read"},component:V},{path:"add",canActivate:[b.n],data:{module:"Quick Quotes",permission:"add"},component:Ie},{path:"details/:quickQuoteId",canActivate:[b.n],data:{module:"Quick Quotes",permission:"read"},component:(()=>{class s{constructor(t,o,i,l,r,c,_){this.routes=t,this.ngxService=o,this._QQS=i,this._notifier=l,this._FB=r,this._US=c,this.router=_,this.quoteId="",this.submitted=!1,this.submittedAssign=!1,this.submittedSalesManager=!1,this.isUpdate=!1,this.isLoading=!1,this.isPrint=!1,this.permissionsArr=[],this.quickQuotePermission={add:!1,update:!1,delete:!1},this.statusList=["In Progress","Open","Assigned","Closed"],this.rolesSalesExecutive=[],this.rolesSalesManager=[],this.attachments=[]}ngOnInit(){this.getProfileRoleUser(),this.getSalesManager(),this._US.getPermissions().subscribe(t=>{this.permissionsArr=t,Object.keys(this.quickQuotePermission).map(o=>{this.canPerformAction("Quick Quotes",o)})}),this.routes.params.subscribe(t=>{t&&t.quickQuoteId&&(this.quoteId=t.quickQuoteId,this.detailsForm=this._FB.group({quickQuoteId:[this.quoteId,a.kI.required],details:["",a.kI.required]}),this.assignForm=this._FB.group({quickQuoteId:[this.quoteId,a.kI.required],pactapComment:["",a.kI.required],status:["",a.kI.required]}),this.getQuoteDetails(),this.initSalesManager())})}ngAfterViewInit(){this.routes.queryParams.subscribe(t=>{setTimeout(()=>{t&&t.isAssigned&&JSON.parse(t.isAssigned)?$('a[href="#Assign"]').tab("show"):(this.isUpdate=!!(t&&t.isUpdate&&JSON.parse(t.isUpdate)),this.isUpdate?this.detailsForm.get("details")?.enable():this.detailsForm.get("details")?.disable(),$('a[href="#Details"]').tab("show")),t&&t.isPrint&&JSON.parse(t.isPrint)&&(this.isPrint=t.isPrint)},100)})}get detailsFormControls(){return this.detailsForm.controls}get assignFormControls(){return this.assignForm.controls}canPerformAction(t,o){this.quickQuotePermission[o]=this._US.hasPermission(t,o,this.permissionsArr)}initSalesManager(){this.salesForm=this._FB.group({firstName:[{value:"",disabled:!0},a.kI.required],lastName:[{value:"",disabled:!0},a.kI.required],quickQuoteId:[this.quoteId,a.kI.required],roleType:["",a.kI.required],roleUserId:["",a.kI.required]})}get salesFormControls(){return this.salesForm.controls}getProfileRoleUser(){this._QQS.getProfileRoleUser("SALES_EXECUTIVE").subscribe(t=>{t.meta.status&&(this.rolesSalesExecutive=t.data)})}getSalesManager(){this._QQS.getProfileRoleUser("SALES_MANAGER").subscribe(t=>{t.meta.status&&(this.rolesSalesManager=t.data)})}changeRole(t,o){let i=t.target.value;if("SALES_MANAGER"===o){let l=this.rolesSalesManager.find(r=>r._id===i);this.salesForm.get("firstName")?.setValue(l?l.firstName:""),this.salesForm.get("lastName")?.setValue(l?l.lastName:"")}else if("SALES_EXECUTIVE"===o){let l=this.rolesSalesExecutive.find(r=>r._id===i);this.salesForm.get("firstName")?.setValue(l?l.firstName:""),this.salesForm.get("lastName")?.setValue(l?l.lastName:"")}}getQuoteDetails(){this.ngxService.start(),this._QQS.getQuoteDetails(this.quoteId).subscribe(t=>{this.ngxService.stop(),t.meta.status?(this.quickDetails=t.data,this.detailsForm.patchValue(this.quickDetails),this.assignForm.patchValue(this.quickDetails),this.quickDetails?.salesManager&&this.quickDetails?.salesExcutive?this.assignForm.enable():this.assignForm.disable(),this.quickDetails.attachment.map(o=>{let i=o.split("/"),l=this.getFileType(i[i.length-1]);delete l.type,this.attachments.push({url:o,name:i[i.length-1],...l})}),setTimeout(()=>{this.isPrint&&(document.getElementById("printPageButton").click(),this.router.navigate(["/quick-quotes/details",this.quoteId],{relativeTo:this.routes,queryParams:{},queryParamsHandling:""}))},200)):(this.quickDetails=[],this._notifier.showWarning(t.meta.msg,""))},t=>{this.ngxService.stop(),this._notifier.showError("Something went wrong","Error")})}getFileType(t){const o=t.lastIndexOf(".");if(-1===o)return"File name has no extension";switch(t.substring(o+1).toLowerCase()){case"jpg":case"jpeg":case"png":return{type:"Image file",isImage:!0};case"pdf":return{type:"PDF file",isPdf:!0};case"doc":case"docx":return{type:"Word document",isWord:!0};case"txt":return{type:"Text file",isText:!0};case"ai":return{type:"Adobe Illustrator file",isIllustrator:!0};case"cdr":return{type:"CorelDRAW file",isCorelDraw:!0};case"xls":return{type:"Excel spreadsheet",isExcel:!0};case"csv":return{type:"CSV file",isExcel:!0};default:return"Unknown file type"}}removeFile(t){this.ngxService.start();let o={filePath:t.url.split("/").pop()};this._QQS.removeFile(o).pipe((0,A.x)(()=>{this.ngxService.stop()})).subscribe(i=>{if(i.meta.status){const l=this.attachments.findIndex(r=>r.url===t.url);this.attachments.splice(l,1),this._notifier.showSuccess(i.meta.msg,"Success")}else this._notifier.showWarning(i.meta.msg,"")},i=>{this._notifier.showError("Something went wrong","Error")})}updateQuickQuote(){this.detailsForm.valid?(this.isLoading=!0,this._QQS.updateQuickQuote(this.detailsForm.value).subscribe(t=>{t.meta.status?(this.isLoading=!1,this._notifier.showSuccess(t.meta.msg,"Success")):(this.isLoading=!1,this._notifier.showWarning(t.meta.msg,""))},t=>{this._notifier.showError("Something went wrong","Error"),this.isLoading=!1})):this.submitted=!0}showManagerModal(t,o){o&&(this.salesForm.patchValue(o),this.salesForm.get("roleUserId")?.setValue(o._id)),this.salesForm.get("roleType")?.setValue(t),$("#editAccountModal").modal("show"),$("#editAccountModal").on("hidden.bs.modal",i=>{this.salesForm.reset({roleUserId:"",quickQuoteId:this.quoteId})})}hideManagerModal(){$("#editAccountModal").modal("hide")}updateManagerSupport(){this.salesForm.valid?(this.isLoading=!0,this._QQS.updateManagerSupport(this.salesForm.value).subscribe(t=>{this.isLoading=!1,t.meta.status?(this.hideManagerModal(),this.getQuoteDetails(),this._notifier.showSuccess(t.meta.msg,"Success")):this._notifier.showWarning(t.meta.msg,"")},t=>{this.isLoading=!1,this._notifier.showError("Something went wrong","Error")})):this.submittedSalesManager=!0}showDeleteSupport(t){this.type=t,$("#deleteManagerModal").modal("show"),$("#deleteManagerModal").on("hidden.bs.modal",o=>{this.type=""})}hideDeleteSupport(){$("#deleteManagerModal").modal("hide")}deleteRoleSupport(){if(this.quoteId&&this.type){let t={qucikQuoteId:this.quoteId,type:this.type};this.isLoading=!0,this._QQS.deleteRoleSupport(t).subscribe(o=>{this.isLoading=!1,o.meta.status?(this.hideDeleteSupport(),this.getQuoteDetails(),this._notifier.showSuccess(o.meta.msg,"Success")):this._notifier.showWarning(o.meta.msg,"")},o=>{this.isLoading=!1,this._notifier.showError("Something went wrong","Error")})}else this._notifier.showError("Select Type or quote id","Error")}updateAssign(){this.quickDetails?.salesManager&&this.quickDetails?.salesExcutive?this.assignForm.valid?(this.isLoading=!0,this._QQS.updateAssign(this.assignForm.value).subscribe(t=>{this.isLoading=!1,t.meta.status?(this.router.navigate(["/quick-quotes"]),this._notifier.showSuccess(t.meta.msg,"Success")):this._notifier.showWarning(t.meta.msg,"")},t=>{this.isLoading=!1,this._notifier.showError("Something went wrong","Error")})):this.submittedAssign=!0:this._notifier.showError("Please add sales manager and sales executive.","Error")}downloadImage(t){return(0,Ue.Z)(function*(){const i=yield(yield fetch(`${t}?pactap=1`)).blob(),l=t.substring(t.lastIndexOf("/")+1),r=document.createElement("a"),c=window.URL.createObjectURL(i);r.href=c,r.download=l,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(t)})()}static#e=this.\u0275fac=function(o){return new(o||s)(e.Y36(m.gz),e.Y36(C.LA),e.Y36(k.K),e.Y36(f.lG),e.Y36(a.qu),e.Y36(f.KD),e.Y36(m.F0))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-details"]],decls:185,vars:57,consts:[["id","print-section",1,"dashboardMain"],[1,"page-header","d-flex","justify-content-between"],["href","javascript:history.back()",1,"back-arrow"],[1,"bi","bi-arrow-left-short","me-4","printPageButton"],[1,"d-flex","justify-content-between"],[1,"export_button","column-btns"],[1,"dropdown"],["id","printPageButton","printSectionId","print-section","ngxPrint","",1,"btn","btn-white","text-success","ms-3","printPageButton",3,"useExistingCss"],["src","assets/images/print-icon.png",1,"me-2"],[1,"account_dashboard","profile_dashboard"],[1,"nav","nav-pills","nav-justified","tabs-nav-automation","printPageButton"],[1,"nav-item"],["data-bs-toggle","tab","aria-current","page","href","#Details",1,"nav-link","active"],["data-bs-toggle","tab","href","#Assign",1,"nav-link"],[1,"login-white-box","margin-automation-whitebox"],["id","myTabContent",1,"tab-content"],["id","Details","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","show","active"],[1,"form-box","form-filter"],[1,"row"],[1,"col-12","col-sm-6","col-md-6","col-lg-6"],[1,"Price-Details"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","fw500"],[1,"badge","fw400"],[3,"formGroup"],[1,"form-group","mt-2"],["rows","4","placeholder","Type here","formControlName","details",1,"form-control","form-ctrl",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["class","text-end main_btn mt-3",4,"ngIf"],[1,"form-group"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","flex-wrap"],["class","form-check-inline text-center",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-6","col-lg-6","ps-5"],[1,"table-card"],[1,"table-reponsive"],[1,"table","table-bordered","table-lg"],[1,"table-success","text-white"],[1,"text-center"],[4,"ngFor","ngForOf"],["id","Assign","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade"],[1,"form-box","form-filter",3,"formGroup"],[1,"col-12","col-sm-6","col-md-4","col-lg-4"],[1,"address-view"],[1,"d-flex","justify-content-between","mb-2"],[1,"text-dark","fw500"],["class","edit-btn mb-1",4,"ngIf"],["class","media",4,"ngIf"],[1,"col-12","col-sm-6","col-md-5","col-lg-5"],["formControlName","status",1,"form-control","form-ctrl",3,"ngClass"],["value",""],[3,"value",4,"ngFor","ngForOf"],["rows","4","placeholder","Comment","formControlName","pactapComment",1,"form-control","form-ctrl",3,"ngClass"],["id","editAccountModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content","feedback-popup"],[1,"modal-header","justify-content-center"],[1,"modal-title"],[4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"form-box","form-box-dashboard",3,"formGroup"],[1,"p-3"],[1,"col-12","col-sm-6","col-md-6"],["class","form-control form-ctrl","formControlName","roleUserId",3,"ngClass","change",4,"ngIf"],["type","text","formControlName","firstName","placeholder","ABCD",1,"form-control","form-ctrl"],["type","text","formControlName","lastName","placeholder","XYZ",1,"form-control","form-ctrl"],[1,"row","justify-content-end","mt-3"],[1,"col-4","col-sm-3","col-md-3"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-block","btn-lg","btn-light","btn-sumbit"],[1,"col-4","col-sm-4","col-md-3"],["type","submit",1,"btn","btn-block","btn-lg","btn-success","btn-sumbit",3,"disabled","click"],[1,"fa",3,"ngClass"],["id","deleteManagerModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"form-box","form-box-dashboard"],[1,"title","text-center","mb-5"],[1,"row","justify-content-center"],[1,"col-6","col-sm-5","col-md-5"],[1,"invalid-feedback"],[1,"text-end","main_btn","mt-3"],[1,"btn","btn-success",3,"disabled","click"],[1,"form-check-inline","text-center"],["role","alert",1,"alert-photo","alert","alert-warning","alert-dismissible","fade","show"],[1,"alert-photo-img"],[3,"src","alt",4,"ngIf"],["src","assets/images/cdr.png",3,"alt",4,"ngIf"],["src","assets/images/pdf.png",3,"alt",4,"ngIf"],["src","assets/images/excel.png",3,"alt",4,"ngIf"],["src","assets/images/xls.png",3,"alt",4,"ngIf"],["src","assets/images/illustrator.png",3,"alt",4,"ngIf"],["href","javascript:void(0)",1,"downloadButton","printPageButton",3,"click"],[1,"bi","bi-box-arrow-in-down"],[3,"src","alt"],["src","assets/images/cdr.png",3,"alt"],["src","assets/images/pdf.png",3,"alt"],["src","assets/images/excel.png",3,"alt"],["src","assets/images/xls.png",3,"alt"],["src","assets/images/illustrator.png",3,"alt"],[1,"text-success"],[1,"greyBox2","bg-gray2","btn-block"],[1,"edit-btn","mb-1"],["class","me-2","href","javascript:void(0)",3,"click",4,"ngIf"],["href","javascript:void(0)",3,"click",4,"ngIf"],["href","javascript:void(0)",1,"me-2",3,"click"],["src","assets/images/pencil-dark.png"],["href","javascript:void(0)",3,"click"],["src","assets/images/delete-icon.png"],[1,"media"],[1,"media-left","me-3"],[1,"userimg-img"],[1,"media-body"],[1,"text-success","mb-0"],[1,"m-0"],[3,"value"],["href","javascript:void(0)",1,"btn","btn-light","me-3",3,"routerLink"],["href","javascript:void(0)",1,"btn","btn-success",3,"disabled","click"],["formControlName","roleUserId",1,"form-control","form-ctrl",3,"ngClass","change"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3")(3,"a",2),e._UZ(4,"i",3),e.qZA(),e._uU(5),e.qZA(),e.TgZ(6,"span",4)(7,"span",5)(8,"span",6)(9,"button",7),e._UZ(10,"img",8),e._uU(11," Print"),e.qZA()()()()(),e.TgZ(12,"div",9)(13,"ul",10)(14,"li",11)(15,"a",12),e._uU(16,"Details"),e.qZA()(),e.TgZ(17,"li",11)(18,"a",13),e._uU(19,"Assign"),e.qZA()()(),e.TgZ(20,"div",14)(21,"div",15)(22,"div",16)(23,"div",17)(24,"div",18)(25,"div",19)(26,"div",20)(27,"ul",21)(28,"li",22),e._uU(29," Quick Quote ID: "),e.TgZ(30,"span",23),e._uU(31),e.qZA()(),e.TgZ(32,"li",22),e._uU(33," Quick Quote Requested on: "),e.TgZ(34,"span",23),e._uU(35),e.ALo(36,"date"),e.qZA()(),e.TgZ(37,"li",22),e._uU(38," Quick Quote Requested by: "),e.TgZ(39,"span",23),e._uU(40),e.qZA()(),e.TgZ(41,"li",22),e._uU(42," Name: "),e.TgZ(43,"span",23),e._uU(44),e.qZA()(),e.TgZ(45,"li",22),e._uU(46," Company Name: "),e.TgZ(47,"span",23),e._uU(48),e.qZA()(),e.TgZ(49,"li",22),e._uU(50," Country: "),e.TgZ(51,"span",23),e._uU(52),e.qZA()(),e.TgZ(53,"li",22),e._uU(54," Email ID: "),e.TgZ(55,"span",23),e._uU(56),e.qZA()(),e.TgZ(57,"li",22),e._uU(58," Contact No: "),e.TgZ(59,"span",23),e._uU(60),e.qZA()()()(),e.ynx(61,24),e.TgZ(62,"div",25)(63,"label"),e._uU(64,"Details"),e.qZA(),e._UZ(65,"textarea",26),e.YNc(66,ye,2,1,"div",27),e.YNc(67,Ne,4,4,"div",28),e.qZA(),e.BQk(),e.TgZ(68,"div",29)(69,"label",30),e._uU(70,"Attachments "),e.qZA()(),e.TgZ(71,"div",29)(72,"div",31),e.YNc(73,Ye,15,7,"div",32),e.qZA()()(),e.TgZ(74,"div",33)(75,"div",34)(76,"div",35)(77,"table",36)(78,"thead")(79,"tr",37)(80,"td"),e._uU(81,"Product Name"),e.qZA(),e.TgZ(82,"td",38),e._uU(83,"Quantity"),e.qZA()()(),e.TgZ(84,"tbody"),e.YNc(85,Pe,6,2,"tr",39),e.qZA()()()()()()()(),e.TgZ(86,"div",40)(87,"div",41)(88,"div",18)(89,"div",42)(90,"div",43)(91,"div",44)(92,"div")(93,"h6",45),e._uU(94,"Sales Manager"),e.qZA()(),e.TgZ(95,"div"),e.YNc(96,je,3,2,"div",46),e.YNc(97,Ke,3,0,"div",46),e.qZA()(),e.YNc(98,Ve,8,3,"div",47),e.ALo(99,"json"),e.qZA()(),e.TgZ(100,"div",42)(101,"div",43)(102,"div",44)(103,"div")(104,"h6",45),e._uU(105,"Sales Executive"),e.qZA()(),e.TgZ(106,"div"),e.YNc(107,Be,3,2,"div",46),e.YNc(108,He,3,0,"div",46),e.qZA()(),e.YNc(109,We,8,3,"div",47),e.ALo(110,"json"),e.qZA()()(),e.TgZ(111,"div",18)(112,"div",48)(113,"div",29)(114,"label"),e._uU(115,"Lead Status"),e.qZA(),e.TgZ(116,"select",49)(117,"option",50),e._uU(118,"Select Status"),e.qZA(),e.YNc(119,Xe,2,2,"option",51),e.qZA(),e.YNc(120,et,2,1,"div",27),e.qZA()()(),e.TgZ(121,"div",29)(122,"label"),e._uU(123,"Comment"),e.qZA(),e._UZ(124,"textarea",52),e.YNc(125,it,2,1,"div",27),e.qZA(),e.YNc(126,ot,6,6,"div",28),e.qZA()()()()()(),e.TgZ(127,"div",53)(128,"div",54)(129,"div",55)(130,"div",56)(131,"h5",57),e._uU(132,"Edit "),e.YNc(133,nt,2,0,"span",58),e.YNc(134,lt,2,0,"span",58),e.qZA(),e._UZ(135,"button",59),e.qZA(),e.TgZ(136,"div",60)(137,"div",61)(138,"div",62)(139,"div",18)(140,"div",63)(141,"div",29)(142,"label"),e._uU(143,"Select Profile"),e.qZA(),e.YNc(144,at,4,4,"select",64),e.YNc(145,ut,4,4,"select",64),e.YNc(146,mt,2,1,"div",27),e.qZA()()(),e.TgZ(147,"div",18)(148,"div",63)(149,"div",29)(150,"label"),e._uU(151,"First Name"),e.qZA(),e._UZ(152,"input",65),e.qZA()(),e.TgZ(153,"div",63)(154,"div",29)(155,"label"),e._uU(156,"Last Name"),e.qZA(),e._UZ(157,"input",66),e.qZA()()(),e.TgZ(158,"div",67)(159,"div",68)(160,"button",69),e._uU(161,"Cancel"),e.qZA()(),e.TgZ(162,"div",70)(163,"button",71),e.NdJ("click",function(){return i.updateManagerSupport()}),e._UZ(164,"i",72),e._uU(165," Save"),e.qZA()()()()()()()()(),e.TgZ(166,"div",73)(167,"div",74)(168,"div",55)(169,"div",60)(170,"div",75)(171,"div",62)(172,"div",76)(173,"h4"),e._uU(174),e.qZA(),e.TgZ(175,"p"),e._uU(176,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. "),e.qZA()(),e.TgZ(177,"div",77)(178,"div",78)(179,"button",69),e._uU(180,"Cancel"),e.qZA()(),e.TgZ(181,"div",78)(182,"button",71),e.NdJ("click",function(){return i.deleteRoleSupport()}),e._UZ(183,"i",72),e._uU(184," Send Request"),e.qZA()()()()()()()()()),2&o&&(e.xp6(5),e.hij(" Quick Quote ID: ",null==i.quickDetails?null:i.quickDetails.qucikQuoteId," "),e.xp6(4),e.Q6J("useExistingCss",!0),e.xp6(22),e.Oqu(null==i.quickDetails?null:i.quickDetails.qucikQuoteId),e.xp6(4),e.Oqu(e.lcZ(36,41,null==i.quickDetails?null:i.quickDetails.requestDate)),e.xp6(5),e.Oqu(null!=i.quickDetails&&i.quickDetails.IsGuest?null==i.quickDetails?null:i.quickDetails.IsGuest:null==i.quickDetails?null:i.quickDetails.addVia),e.xp6(4),e.Oqu(null==i.quickDetails?null:i.quickDetails.name),e.xp6(4),e.Oqu(null==i.quickDetails?null:i.quickDetails.compnany),e.xp6(4),e.Oqu(null==i.quickDetails||null==i.quickDetails.country?null:i.quickDetails.country.name),e.xp6(4),e.Oqu(null==i.quickDetails?null:i.quickDetails.email),e.xp6(4),e.AsE("+",null==i.quickDetails?null:i.quickDetails.phoneCode," ",null==i.quickDetails?null:i.quickDetails.phoneNo,""),e.xp6(1),e.Q6J("formGroup",i.detailsForm),e.xp6(4),e.Q6J("ngClass",e.VKq(47,h,i.submitted&&i.detailsFormControls.details.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.detailsFormControls.details.errors),e.xp6(1),e.Q6J("ngIf",i.isUpdate&&i.quickQuotePermission.update),e.xp6(6),e.Q6J("ngForOf",i.attachments),e.xp6(12),e.Q6J("ngForOf",null==i.quickDetails?null:i.quickDetails.products),e.xp6(2),e.Q6J("formGroup",i.assignForm),e.xp6(9),e.Q6J("ngIf",(null==i.quickDetails?null:i.quickDetails.salesManager)&&(null==i.quickDetails||null==i.quickDetails.salesManager?null:i.quickDetails.salesManager.roleId)),e.xp6(1),e.Q6J("ngIf",!(null!=i.quickDetails&&i.quickDetails.salesManager||null!=i.quickDetails&&null!=i.quickDetails.salesManager&&i.quickDetails.salesManager.roleId)),e.xp6(1),e.Q6J("ngIf",(null==i.quickDetails?null:i.quickDetails.salesManager)&&(null==i.quickDetails?null:i.quickDetails.salesManager.roleId)&&"{}"!=e.lcZ(99,43,null==i.quickDetails?null:i.quickDetails.salesManager)),e.xp6(9),e.Q6J("ngIf",(null==i.quickDetails?null:i.quickDetails.salesExcutive)&&(null==i.quickDetails||null==i.quickDetails.salesExcutive?null:i.quickDetails.salesExcutive.roleId)),e.xp6(1),e.Q6J("ngIf",!(null!=i.quickDetails&&i.quickDetails.salesExcutive||null!=i.quickDetails&&null!=i.quickDetails.salesExcutive&&i.quickDetails.salesExcutive.roleId)),e.xp6(1),e.Q6J("ngIf",(null==i.quickDetails?null:i.quickDetails.salesExcutive)&&(null==i.quickDetails?null:i.quickDetails.salesExcutive.roleId)&&"{}"!=e.lcZ(110,45,null==i.quickDetails?null:i.quickDetails.salesExcutive)),e.xp6(7),e.Q6J("ngClass",e.VKq(49,h,i.submittedAssign&&i.assignFormControls.status.errors)),e.xp6(3),e.Q6J("ngForOf",i.statusList),e.xp6(1),e.Q6J("ngIf",i.submittedAssign&&i.assignFormControls.status.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(51,h,i.submittedAssign&&i.assignFormControls.pactapComment.errors)),e.xp6(1),e.Q6J("ngIf",i.submittedAssign&&i.assignFormControls.pactapComment.errors),e.xp6(1),e.Q6J("ngIf",i.quickQuotePermission.update),e.xp6(7),e.Q6J("ngIf","SALES_MANAGER"===i.salesForm.value.roleType),e.xp6(1),e.Q6J("ngIf","SALES_EXECUTIVE"===i.salesForm.value.roleType),e.xp6(3),e.Q6J("formGroup",i.salesForm),e.xp6(7),e.Q6J("ngIf","SALES_MANAGER"===i.salesForm.value.roleType),e.xp6(1),e.Q6J("ngIf","SALES_EXECUTIVE"===i.salesForm.value.roleType),e.xp6(1),e.Q6J("ngIf",i.submittedSalesManager&&i.salesFormControls.roleUserId.errors),e.xp6(17),e.Q6J("disabled",i.isLoading),e.xp6(1),e.Q6J("ngClass",e.VKq(53,q,i.isLoading)),e.xp6(10),e.hij("Are you sure to delete the ","SALES_EXECUTIVE"===i.type?"Sales Executive":"Sales Manager","? "),e.xp6(8),e.Q6J("disabled",i.isLoading),e.xp6(1),e.Q6J("ngClass",e.VKq(55,q,i.isLoading)))},dependencies:[d.mk,d.sg,d.O5,m.rH,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,T.I,d.Ts,d.uU],styles:["@media print{.printPageButton[_ngcontent-%COMP%]{display:none}}"]})}return s})()}];let _t=(()=>{class s{static#e=this.\u0275fac=function(o){return new(o||s)};static#t=this.\u0275mod=e.oAB({type:s});static#i=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(gt),m.Bz]})}return s})(),ft=(()=>{class s{static#e=this.\u0275fac=function(o){return new(o||s)};static#t=this.\u0275mod=e.oAB({type:s});static#i=this.\u0275inj=e.cJS({imports:[d.ez,_t,a.UX,a.u5,T.K,Q.Rq]})}return s})()}}]);